(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function nI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rp={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function iI(){if(ST)return uu;ST=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return uu.Fragment=t,uu.jsx=n,uu.jsxs=n,uu}var AT;function sI(){return AT||(AT=1,rp.exports=iI()),rp.exports}var Y=sI(),ap={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function rI(){if(wT)return Rt;wT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,H={};function P(M,st,ct){this.props=M,this.context=st,this.refs=H,this.updater=ct||C}P.prototype.isReactComponent={},P.prototype.setState=function(M,st){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,st,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function F(){}F.prototype=P.prototype;function U(M,st,ct){this.props=M,this.context=st,this.refs=H,this.updater=ct||C}var j=U.prototype=new F;j.constructor=U,N(j,P.prototype),j.isPureReactComponent=!0;var nt=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function I(M,st,ct,at,gt,xt){return ct=xt.ref,{$$typeof:e,type:M,key:st,ref:ct!==void 0?ct:null,props:xt}}function w(M,st){return I(M.type,st,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function O(M){var st={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ct){return st[ct]})}var V=/\/+/g;function B(M,st){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):st.toString(36)}function D(){}function he(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(st){M.status==="pending"&&(M.status="fulfilled",M.value=st)},function(st){M.status==="pending"&&(M.status="rejected",M.reason=st)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $t(M,st,ct,at,gt){var xt=typeof M;(xt==="undefined"||xt==="boolean")&&(M=null);var St=!1;if(M===null)St=!0;else switch(xt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(M.$$typeof){case e:case t:St=!0;break;case y:return St=M._init,$t(St(M._payload),st,ct,at,gt)}}if(St)return gt=gt(M),St=at===""?"."+B(M,0):at,nt(gt)?(ct="",St!=null&&(ct=St.replace(V,"$&/")+"/"),$t(gt,st,ct,"",function(ri){return ri})):gt!=null&&(R(gt)&&(gt=w(gt,ct+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(V,"$&/")+"/")+St)),st.push(gt)),1;St=0;var Le=at===""?".":at+":";if(nt(M))for(var ee=0;ee<M.length;ee++)at=M[ee],xt=Le+B(at,ee),St+=$t(at,st,ct,xt,gt);else if(ee=b(M),typeof ee=="function")for(M=ee.call(M),ee=0;!(at=M.next()).done;)at=at.value,xt=Le+B(at,ee++),St+=$t(at,st,ct,xt,gt);else if(xt==="object"){if(typeof M.then=="function")return $t(he(M),st,ct,at,gt);throw st=String(M),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return St}function W(M,st,ct){if(M==null)return M;var at=[],gt=0;return $t(M,at,"","",function(xt){return st.call(ct,xt,gt++)}),at}function rt(M){if(M._status===-1){var st=M._result;st=st(),st.then(function(ct){(M._status===0||M._status===-1)&&(M._status=1,M._result=ct)},function(ct){(M._status===0||M._status===-1)&&(M._status=2,M._result=ct)}),M._status===-1&&(M._status=0,M._result=st)}if(M._status===1)return M._result.default;throw M._result}var ht=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ct(){}return Rt.Children={map:W,forEach:function(M,st,ct){W(M,function(){st.apply(this,arguments)},ct)},count:function(M){var st=0;return W(M,function(){st++}),st},toArray:function(M){return W(M,function(st){return st})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Rt.Component=P,Rt.Fragment=n,Rt.Profiler=a,Rt.PureComponent=U,Rt.StrictMode=s,Rt.Suspense=m,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return Z.H.useMemoCache(M)}},Rt.cache=function(M){return function(){return M.apply(null,arguments)}},Rt.cloneElement=function(M,st,ct){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var at=N({},M.props),gt=M.key,xt=void 0;if(st!=null)for(St in st.ref!==void 0&&(xt=void 0),st.key!==void 0&&(gt=""+st.key),st)!ut.call(st,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&st.ref===void 0||(at[St]=st[St]);var St=arguments.length-2;if(St===1)at.children=ct;else if(1<St){for(var Le=Array(St),ee=0;ee<St;ee++)Le[ee]=arguments[ee+2];at.children=Le}return I(M.type,gt,void 0,void 0,xt,at)},Rt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Rt.createElement=function(M,st,ct){var at,gt={},xt=null;if(st!=null)for(at in st.key!==void 0&&(xt=""+st.key),st)ut.call(st,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(gt[at]=st[at]);var St=arguments.length-2;if(St===1)gt.children=ct;else if(1<St){for(var Le=Array(St),ee=0;ee<St;ee++)Le[ee]=arguments[ee+2];gt.children=Le}if(M&&M.defaultProps)for(at in St=M.defaultProps,St)gt[at]===void 0&&(gt[at]=St[at]);return I(M,xt,void 0,void 0,null,gt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(M){return{$$typeof:d,render:M}},Rt.isValidElement=R,Rt.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:rt}},Rt.memo=function(M,st){return{$$typeof:g,type:M,compare:st===void 0?null:st}},Rt.startTransition=function(M){var st=Z.T,ct={};Z.T=ct;try{var at=M(),gt=Z.S;gt!==null&&gt(ct,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ct,ht)}catch(xt){ht(xt)}finally{Z.T=st}},Rt.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Rt.use=function(M){return Z.H.use(M)},Rt.useActionState=function(M,st,ct){return Z.H.useActionState(M,st,ct)},Rt.useCallback=function(M,st){return Z.H.useCallback(M,st)},Rt.useContext=function(M){return Z.H.useContext(M)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(M,st){return Z.H.useDeferredValue(M,st)},Rt.useEffect=function(M,st,ct){var at=Z.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(M,st)},Rt.useId=function(){return Z.H.useId()},Rt.useImperativeHandle=function(M,st,ct){return Z.H.useImperativeHandle(M,st,ct)},Rt.useInsertionEffect=function(M,st){return Z.H.useInsertionEffect(M,st)},Rt.useLayoutEffect=function(M,st){return Z.H.useLayoutEffect(M,st)},Rt.useMemo=function(M,st){return Z.H.useMemo(M,st)},Rt.useOptimistic=function(M,st){return Z.H.useOptimistic(M,st)},Rt.useReducer=function(M,st,ct){return Z.H.useReducer(M,st,ct)},Rt.useRef=function(M){return Z.H.useRef(M)},Rt.useState=function(M){return Z.H.useState(M)},Rt.useSyncExternalStore=function(M,st,ct){return Z.H.useSyncExternalStore(M,st,ct)},Rt.useTransition=function(){return Z.H.useTransition()},Rt.version="19.1.1",Rt}var RT;function qg(){return RT||(RT=1,ap.exports=rI()),ap.exports}var L=qg();const te=nI(L);var op={exports:{}},cu={},lp={exports:{}},up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function aI(){return CT||(CT=1,(function(e){function t(W,rt){var ht=W.length;W.push(rt);t:for(;0<ht;){var Ct=ht-1>>>1,M=W[Ct];if(0<a(M,rt))W[Ct]=rt,W[ht]=M,ht=Ct;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var rt=W[0],ht=W.pop();if(ht!==rt){W[0]=ht;t:for(var Ct=0,M=W.length,st=M>>>1;Ct<st;){var ct=2*(Ct+1)-1,at=W[ct],gt=ct+1,xt=W[gt];if(0>a(at,ht))gt<M&&0>a(xt,at)?(W[Ct]=xt,W[gt]=ht,Ct=gt):(W[Ct]=at,W[ct]=ht,Ct=ct);else if(gt<M&&0>a(xt,ht))W[Ct]=xt,W[gt]=ht,Ct=gt;else break t}}return rt}function a(W,rt){var ht=W.sortIndex-rt.sortIndex;return ht!==0?ht:W.id-rt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,E=null,b=3,C=!1,N=!1,H=!1,P=!1,F=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function nt(W){for(var rt=n(g);rt!==null;){if(rt.callback===null)s(g);else if(rt.startTime<=W)s(g),rt.sortIndex=rt.expirationTime,t(m,rt);else break;rt=n(g)}}function Z(W){if(H=!1,nt(W),!N)if(n(m)!==null)N=!0,ut||(ut=!0,B());else{var rt=n(g);rt!==null&&$t(Z,rt.startTime-W)}}var ut=!1,I=-1,w=5,R=-1;function O(){return P?!0:!(e.unstable_now()-R<w)}function V(){if(P=!1,ut){var W=e.unstable_now();R=W;var rt=!0;try{t:{N=!1,H&&(H=!1,U(I),I=-1),C=!0;var ht=b;try{e:{for(nt(W),E=n(m);E!==null&&!(E.expirationTime>W&&O());){var Ct=E.callback;if(typeof Ct=="function"){E.callback=null,b=E.priorityLevel;var M=Ct(E.expirationTime<=W);if(W=e.unstable_now(),typeof M=="function"){E.callback=M,nt(W),rt=!0;break e}E===n(m)&&s(m),nt(W)}else s(m);E=n(m)}if(E!==null)rt=!0;else{var st=n(g);st!==null&&$t(Z,st.startTime-W),rt=!1}}break t}finally{E=null,b=ht,C=!1}rt=void 0}}finally{rt?B():ut=!1}}}var B;if(typeof j=="function")B=function(){j(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,he=D.port2;D.port1.onmessage=V,B=function(){he.postMessage(null)}}else B=function(){F(V,0)};function $t(W,rt){I=F(function(){W(e.unstable_now())},rt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(W){switch(b){case 1:case 2:case 3:var rt=3;break;default:rt=b}var ht=b;b=rt;try{return W()}finally{b=ht}},e.unstable_requestPaint=function(){P=!0},e.unstable_runWithPriority=function(W,rt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ht=b;b=W;try{return rt()}finally{b=ht}},e.unstable_scheduleCallback=function(W,rt,ht){var Ct=e.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ct+ht:Ct):ht=Ct,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ht+M,W={id:y++,callback:rt,priorityLevel:W,startTime:ht,expirationTime:M,sortIndex:-1},ht>Ct?(W.sortIndex=ht,t(g,W),n(m)===null&&W===n(g)&&(H?(U(I),I=-1):H=!0,$t(Z,ht-Ct))):(W.sortIndex=M,t(m,W),N||C||(N=!0,ut||(ut=!0,B()))),W},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(W){var rt=b;return function(){var ht=b;b=rt;try{return W.apply(this,arguments)}finally{b=ht}}}})(up)),up}var IT;function oI(){return IT||(IT=1,lp.exports=aI()),lp.exports}var cp={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT;function lI(){if(xT)return tn;xT=1;var e=qg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,y)},tn.flushSync=function(m){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=y,s.d.f()}},tn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},tn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},tn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:C}):y==="script"&&s.d.X(m,{crossOrigin:E,integrity:b,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},tn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},tn.requestFormReset=function(m){s.d.r(m)},tn.unstable_batchedUpdates=function(m,g){return m(g)},tn.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var DT;function uI(){if(DT)return cp.exports;DT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cp.exports=lI(),cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function cI(){if(OT)return cu;OT=1;var e=oI(),t=qg(),n=uI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),i;if(p===u)return d(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=p;else{for(var T=!1,S=f.child;S;){if(S===o){T=!0,o=f,u=p;break}if(S===u){T=!0,u=f,o=p;break}S=S.sibling}if(!T){for(S=p.child;S;){if(S===o){T=!0,o=p,u=f;break}if(S===u){T=!0,u=p,o=f;break}S=S.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),j=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function he(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case P:return"Profiler";case H:return"StrictMode";case Z:return"Suspense";case ut:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case j:return(i.displayName||"Context")+".Provider";case U:return(i._context.displayName||"Context")+".Consumer";case nt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:he(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return he(i(r))}catch{}}return null}var $t=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ct=[],M=-1;function st(i){return{current:i}}function ct(i){0>M||(i.current=Ct[M],Ct[M]=null,M--)}function at(i,r){M++,Ct[M]=i.current,i.current=r}var gt=st(null),xt=st(null),St=st(null),Le=st(null);function ee(i,r){switch(at(St,r),at(xt,i),at(gt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?W0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=W0(r),i=Z0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(gt),at(gt,i)}function ri(){ct(gt),ct(xt),ct(St)}function vs(i){i.memoizedState!==null&&at(Le,i);var r=gt.current,o=Z0(r,i.type);r!==o&&(at(xt,i),at(gt,o))}function Pi(i){xt.current===i&&(ct(gt),ct(xt)),Le.current===i&&(ct(Le),su._currentValue=ht)}var _r=Object.prototype.hasOwnProperty,Tr=e.unstable_scheduleCallback,Er=e.unstable_cancelCallback,el=e.unstable_shouldYield,mc=e.unstable_requestPaint,xn=e.unstable_now,rd=e.unstable_getCurrentPriorityLevel,nl=e.unstable_ImmediatePriority,Sa=e.unstable_UserBlockingPriority,br=e.unstable_NormalPriority,ad=e.unstable_LowPriority,Aa=e.unstable_IdlePriority,il=e.log,pc=e.unstable_setDisableYieldValue,fe=null,qt=null;function Tn(i){if(typeof il=="function"&&pc(i),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(fe,i)}catch{}}var Ze=Math.clz32?Math.clz32:Sr,gc=Math.log,od=Math.LN2;function Sr(i){return i>>>=0,i===0?32:31-(gc(i)/od|0)|0}var Ar=256,wr=4194304;function Yn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wa(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?f=Yn(u):(T&=S,T!==0?f=Yn(T):o||(o=S&~i,o!==0&&(f=Yn(o))))):(S=u&~p,S!==0?f=Yn(S):T!==0?f=Yn(T):o||(o=u&~i,o!==0&&(f=Yn(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function Rr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function sl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rl(){var i=Ar;return Ar<<=1,(Ar&4194048)===0&&(Ar=256),i}function al(){var i=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),i}function Vi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ki(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ol(i,r,o,u,f,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,x=i.expirationTimes,K=i.hiddenUpdates;for(o=T&~o;0<o;){var J=31-Ze(o),et=1<<J;S[J]=0,x[J]=-1;var $=K[J];if($!==null)for(K[J]=null,J=0;J<$.length;J++){var X=$[J];X!==null&&(X.lane&=-536870913)}o&=~et}u!==0&&ai(i,u,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function ai(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ze(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function ll(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Ze(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function _s(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ra(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ts(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:yT(i.type))}function yc(i,r){var o=rt.p;try{return rt.p=i,r()}finally{rt.p=o}}var ie=Math.random().toString(36).slice(2),De="__reactFiber$"+ie,be="__reactProps$"+ie,Dn="__reactContainer$"+ie,ul="__reactEvents$"+ie,ld="__reactListeners$"+ie,Es="__reactHandles$"+ie,vc="__reactResources$"+ie,Cr="__reactMarker$"+ie;function bs(i){delete i[De],delete i[be],delete i[ul],delete i[ld],delete i[Es]}function Li(i){var r=i[De];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Dn]||o[De]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=nT(i);i!==null;){if(o=i[De])return o;i=nT(i)}return r}i=o,o=i.parentNode}return null}function oi(i){if(i=i[De]||i[Dn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function li(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function on(i){var r=i[vc];return r||(r=i[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ge(i){i[Cr]=!0}var cl=new Set,Ca={};function $n(i,r){Ui(i,r),Ui(i+"Capture",r)}function Ui(i,r){for(Ca[i]=r,i=0;i<r.length;i++)cl.add(r[i])}var _c=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tc={},Ir={};function Ec(i){return _r.call(Ir,i)?!0:_r.call(Tc,i)?!1:_c.test(i)?Ir[i]=!0:(Tc[i]=!0,!1)}function Ss(i,r,o){if(Ec(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ui(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function qe(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var xr,bc;function Bi(i){if(xr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);xr=r&&r[1]||"",bc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+i+bc}var Ia=!1;function xa(i,r){if(!i||Ia)return"";Ia=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(X){var $=X}Reflect.construct(i,[],et)}else{try{et.call()}catch(X){$=X}i.call(et.prototype)}}else{try{throw Error()}catch(X){$=X}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],S=p[1];if(T&&S){var x=T.split(`
`),K=S.split(`
`);for(f=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===x.length||f===K.length)for(u=x.length-1,f=K.length-1;1<=u&&0<=f&&x[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(x[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||x[u]!==K[f]){var J=`
`+x[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=f);break}}}finally{Ia=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Bi(o):""}function hl(i){switch(i.tag){case 26:case 27:case 5:return Bi(i.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return xa(i.type,!1);case 11:return xa(i.type.render,!1);case 1:return xa(i.type,!0);case 31:return Bi("Activity");default:return""}}function Da(i){try{var r="";do r+=hl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function fl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ud(i){var r=fl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Oa(i){i._valueTracker||(i._valueTracker=ud(i))}function dl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=fl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Dr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var cd=/[\n"\\]/g;function Se(i){return i.replace(cd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function En(i,r,o,u,f,p,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+ln(r)):i.value!==""+ln(r)&&(i.value=""+ln(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?As(i,T,ln(r)):o!=null?As(i,T,ln(o)):u!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+ln(S):i.removeAttribute("name")}function Or(i,r,o,u,f,p,T,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+ln(o):"",r=r!=null?""+ln(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function As(i,r,o){r==="number"&&Dr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ji(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Xt(i,r,o){if(r!=null&&(r=""+ln(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+ln(o):""}function Mr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if($t(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=ln(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function On(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Nr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Nr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ml(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Sc(i,f,u)}else for(var p in r)r.hasOwnProperty(p)&&Sc(i,p,r[p])}function pl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(i){return fd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var zi=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fi=null,Hi=null;function gl(i){var r=oi(i);if(r&&(i=r.stateNode)){var o=i[be]||null;t:switch(i=r.stateNode,r.type){case"input":if(En(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Se(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[be]||null;if(!f)throw Error(s(90));En(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&dl(u)}break t;case"textarea":Xt(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&ji(i,!!o.multiple,r,!1)}}}var ci=!1;function Ac(i,r,o){if(ci)return i(r,o);ci=!0;try{var u=i(r);return u}finally{if(ci=!1,(Fi!==null||Hi!==null)&&(yh(),Fi&&(r=Fi,i=Hi,Hi=Fi=null,gl(r),i)))for(r=0;r<i.length;r++)gl(i[r])}}function Pr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[be]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Xn)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{Nn=!1}var hi=null,ws=null,qi=null;function yl(){if(qi)return qi;var i,r=ws,o=r.length,u,f="value"in hi?hi.value:hi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===f[p-u];u++);return qi=f.slice(i,1<u?1-u:void 0)}function fi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function di(){return!0}function vl(){return!1}function Ue(i){function r(o,u,f,p,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?di:vl,this.isPropagationStopped=vl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),r}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Ue(Ht),kr=y({},Ht,{view:0,detail:0}),wc=Ue(kr),Pa,Va,mi,Lr=y({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==mi&&(mi&&i.type==="mousemove"?(Pa=i.screenX-mi.screenX,Va=i.screenY-mi.screenY):Va=Pa=0,mi=i),Pa)},movementY:function(i){return"movementY"in i?i.movementY:Va}}),Pn=Ue(Lr),Rc=y({},Lr,{dataTransfer:0}),dd=Ue(Rc),Ur=y({},kr,{relatedTarget:0}),ka=Ue(Ur),_l=y({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),La=Ue(_l),Cc=y({},Ht,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ua=Ue(Cc),md=y({},Ht,{data:0}),Tl=Ue(md),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function El(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=xc[i])?!!r[i]:!1}function jr(){return El}var Dc=y({},kr,{key:function(i){if(i.key){var r=Br[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=fi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ic[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(i){return i.type==="keypress"?fi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ba=Ue(Dc),Oc=y({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Ue(Oc),Gi=y({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),Mc=Ue(Gi),Nc=y({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pc=Ue(Nc),Vc=y({},Lr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Ue(Vc),un=y({},Ht,{newState:0,oldState:0}),kc=Ue(un),Lc=[9,13,27,32],pi=Xn&&"CompositionEvent"in window,h=null;Xn&&"documentMode"in document&&(h=document.documentMode);var v=Xn&&"TextEvent"in window&&!h,_=Xn&&(!pi||h&&8<h&&11>=h),A=" ",q=!1;function Q(i,r){switch(i){case"keyup":return Lc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vt=!1;function Oe(i,r){switch(i){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(q=!0,A);case"textInput":return i=r.data,i===A&&q?null:i;default:return null}}function kt(i,r){if(Vt)return i==="compositionend"||!pi&&Q(i,r)?(i=yl(),qi=ws=hi=null,Vt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Be={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Be[i.type]:r==="textarea"}function Ki(i,r,o,u){Fi?Hi?Hi.push(u):Hi=[u]:Fi=u,r=Sh(r,"onChange"),0<r.length&&(o=new Na("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Ge=null,gi=null;function Sl(i){K0(i,0)}function Uc(i){var r=li(i);if(dl(r))return i}function dv(i,r){if(i==="change")return r}var mv=!1;if(Xn){var pd;if(Xn){var gd="oninput"in document;if(!gd){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),gd=typeof pv.oninput=="function"}pd=gd}else pd=!1;mv=pd&&(!document.documentMode||9<document.documentMode)}function gv(){Ge&&(Ge.detachEvent("onpropertychange",yv),gi=Ge=null)}function yv(i){if(i.propertyName==="value"&&Uc(gi)){var r=[];Ki(r,gi,i,Mn(i)),Ac(Sl,r)}}function MR(i,r,o){i==="focusin"?(gv(),Ge=r,gi=o,Ge.attachEvent("onpropertychange",yv)):i==="focusout"&&gv()}function NR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Uc(gi)}function PR(i,r){if(i==="click")return Uc(r)}function VR(i,r){if(i==="input"||i==="change")return Uc(r)}function kR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var bn=typeof Object.is=="function"?Object.is:kR;function Al(i,r){if(bn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!_r.call(r,f)||!bn(i[f],r[f]))return!1}return!0}function vv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _v(i,r){var o=vv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=vv(o)}}function Tv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Tv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ev(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Dr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Dr(i.document)}return r}function yd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var LR=Xn&&"documentMode"in document&&11>=document.documentMode,za=null,vd=null,wl=null,_d=!1;function bv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_d||za==null||za!==Dr(u)||(u=za,"selectionStart"in u&&yd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wl&&Al(wl,u)||(wl=u,u=Sh(vd,"onSelect"),0<u.length&&(r=new Na("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=za)))}function zr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Fa={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},Td={},Sv={};Xn&&(Sv=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Fr(i){if(Td[i])return Td[i];if(!Fa[i])return i;var r=Fa[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Sv)return Td[i]=r[o];return i}var Av=Fr("animationend"),wv=Fr("animationiteration"),Rv=Fr("animationstart"),UR=Fr("transitionrun"),BR=Fr("transitionstart"),jR=Fr("transitioncancel"),Cv=Fr("transitionend"),Iv=new Map,Ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ed.push("scrollEnd");function Qn(i,r){Iv.set(i,r),$n(r,[i])}var xv=new WeakMap;function Vn(i,r){if(typeof i=="object"&&i!==null){var o=xv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Da(r)},xv.set(i,r),r)}return{value:i,source:r,stack:Da(r)}}var kn=[],Ha=0,bd=0;function Bc(){for(var i=Ha,r=bd=Ha=0;r<i;){var o=kn[r];kn[r++]=null;var u=kn[r];kn[r++]=null;var f=kn[r];kn[r++]=null;var p=kn[r];if(kn[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}p!==0&&Dv(o,f,p)}}function jc(i,r,o,u){kn[Ha++]=i,kn[Ha++]=r,kn[Ha++]=o,kn[Ha++]=u,bd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Sd(i,r,o,u){return jc(i,r,o,u),zc(i)}function qa(i,r){return jc(i,null,null,r),zc(i)}function Dv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-Ze(o),i=p.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),p):null}function zc(i){if(50<Ql)throw Ql=0,xm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ga={};function zR(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(i,r,o,u){return new zR(i,r,o,u)}function Ad(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Yi(i,r){var o=i.alternate;return o===null?(o=Sn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Ov(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Fc(i,r,o,u,f,p){var T=0;if(u=i,typeof i=="function")Ad(i)&&(T=1);else if(typeof i=="string")T=HC(i,o,gt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=Sn(31,o,r,f),i.elementType=R,i.lanes=p,i;case N:return Hr(o.children,f,p,r);case H:T=8,f|=24;break;case P:return i=Sn(12,o,r,f|2),i.elementType=P,i.lanes=p,i;case Z:return i=Sn(13,o,r,f),i.elementType=Z,i.lanes=p,i;case ut:return i=Sn(19,o,r,f),i.elementType=ut,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:case j:T=10;break t;case U:T=9;break t;case nt:T=11;break t;case I:T=14;break t;case w:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Sn(T,o,r,f),r.elementType=i,r.type=u,r.lanes=p,r}function Hr(i,r,o,u){return i=Sn(7,i,u,r),i.lanes=o,i}function wd(i,r,o){return i=Sn(6,i,null,r),i.lanes=o,i}function Rd(i,r,o){return r=Sn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Ka=[],Ya=0,Hc=null,qc=0,Ln=[],Un=0,qr=null,$i=1,Xi="";function Gr(i,r){Ka[Ya++]=qc,Ka[Ya++]=Hc,Hc=i,qc=r}function Mv(i,r,o){Ln[Un++]=$i,Ln[Un++]=Xi,Ln[Un++]=qr,qr=i;var u=$i;i=Xi;var f=32-Ze(u)-1;u&=~(1<<f),o+=1;var p=32-Ze(r)+f;if(30<p){var T=f-f%5;p=(u&(1<<T)-1).toString(32),u>>=T,f-=T,$i=1<<32-Ze(r)+f|o<<f|u,Xi=p+i}else $i=1<<p|o<<f|u,Xi=i}function Cd(i){i.return!==null&&(Gr(i,1),Mv(i,1,0))}function Id(i){for(;i===Hc;)Hc=Ka[--Ya],Ka[Ya]=null,qc=Ka[--Ya],Ka[Ya]=null;for(;i===qr;)qr=Ln[--Un],Ln[Un]=null,Xi=Ln[--Un],Ln[Un]=null,$i=Ln[--Un],Ln[Un]=null}var cn=null,de=null,Ft=!1,Kr=null,yi=!1,xd=Error(s(519));function Yr(i){var r=Error(s(418,""));throw Il(Vn(r,i)),xd}function Nv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[De]=i,r[be]=u,o){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(o=0;o<Zl.length;o++)Mt(Zl[o],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),Or(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Oa(r);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),Mr(r,u.value,u.defaultValue,u.children),Oa(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Q0(r.textContent,o)?(u.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),u.onScroll!=null&&Mt("scroll",r),u.onScrollEnd!=null&&Mt("scrollend",r),u.onClick!=null&&(r.onclick=Ah),r=!0):r=!1,r||Yr(i)}function Pv(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:cn=cn.return}}function Rl(i){if(i!==cn)return!1;if(!Ft)return Pv(i),Ft=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Gm(i.type,i.memoizedProps)),o=!o),o&&de&&Yr(i),Pv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){de=Zn(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}de=null}}else r===27?(r=de,zs(i.type)?(i=Xm,Xm=null,de=i):de=r):de=cn?Zn(i.stateNode.nextSibling):null;return!0}function Cl(){de=cn=null,Ft=!1}function Vv(){var i=Kr;return i!==null&&(yn===null?yn=i:yn.push.apply(yn,i),Kr=null),i}function Il(i){Kr===null?Kr=[i]:Kr.push(i)}var Dd=st(null),$r=null,Qi=null;function Rs(i,r,o){at(Dd,r._currentValue),r._currentValue=o}function Wi(i){i._currentValue=Dd.current,ct(Dd)}function Od(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Md(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=f;for(var x=0;x<r.length;x++)if(S.context===r[x]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),Od(p.return,o,i),u||(T=null);break t}p=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),Od(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function xl(i,r,o,u){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=f.type;bn(f.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(f===Le.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(su):i=[su])}f=f.return}i!==null&&Md(r,i,o,u),r.flags|=262144}function Gc(i){for(i=i.firstContext;i!==null;){if(!bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Xr(i){$r=i,Qi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return kv($r,i)}function Kc(i,r){return $r===null&&Xr(i),kv(i,r)}function kv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Qi===null){if(i===null)throw Error(s(308));Qi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Qi=Qi.next=r;return o}var FR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},HR=e.unstable_scheduleCallback,qR=e.unstable_NormalPriority,Ne={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new FR,data:new Map,refCount:0}}function Dl(i){i.refCount--,i.refCount===0&&HR(qR,function(){i.controller.abort()})}var Ol=null,Pd=0,$a=0,Xa=null;function GR(i,r){if(Ol===null){var o=Ol=[];Pd=0,$a=km(),Xa={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Pd++,r.then(Lv,Lv),r}function Lv(){if(--Pd===0&&Ol!==null){Xa!==null&&(Xa.status="fulfilled");var i=Ol;Ol=null,$a=0,Xa=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function KR(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Uv=W.S;W.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&GR(i,r),Uv!==null&&Uv(i,r)};var Qr=st(null);function Vd(){var i=Qr.current;return i!==null?i:ne.pooledCache}function Yc(i,r){r===null?at(Qr,Qr.current):at(Qr,r.pool)}function Bv(){var i=Vd();return i===null?null:{parent:Ne._currentValue,pool:i}}var Ml=Error(s(460)),jv=Error(s(474)),$c=Error(s(542)),kd={then:function(){}};function zv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Xc(){}function Fv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Xc,Xc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,qv(i),i;default:if(typeof r.status=="string")r.then(Xc,Xc);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,qv(i),i}throw Nl=r,Ml}}var Nl=null;function Hv(){if(Nl===null)throw Error(s(459));var i=Nl;return Nl=null,i}function qv(i){if(i===Ml||i===$c)throw Error(s(483))}var Cs=!1;function Ld(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Is(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=zc(i),Dv(i,null,o),r}return jc(i,u,r,o),zc(i)}function Pl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ll(i,o)}}function Bd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var jd=!1;function Vl(){if(jd){var i=Xa;if(i!==null)throw i}}function kl(i,r,o,u){jd=!1;var f=i.updateQueue;Cs=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var x=S,K=x.next;x.next=null,T===null?p=K:T.next=K,T=x;var J=i.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==T&&(S===null?J.firstBaseUpdate=K:S.next=K,J.lastBaseUpdate=x))}if(p!==null){var et=f.baseState;T=0,J=K=x=null,S=p;do{var $=S.lane&-536870913,X=$!==S.lane;if(X?(Lt&$)===$:(u&$)===$){$!==0&&$===$a&&(jd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Et=i,yt=S;$=r;var Zt=o;switch(yt.tag){case 1:if(Et=yt.payload,typeof Et=="function"){et=Et.call(Zt,et,$);break t}et=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=yt.payload,$=typeof Et=="function"?Et.call(Zt,et,$):Et,$==null)break t;et=y({},et,$);break t;case 2:Cs=!0}}$=S.callback,$!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(K=J=X,x=et):J=J.next=X,T|=$;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(x=et),f.baseState=x,f.firstBaseUpdate=K,f.lastBaseUpdate=J,p===null&&(f.shared.lanes=0),Ls|=T,i.lanes=T,i.memoizedState=et}}function Gv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Kv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Gv(o[i],r)}var Qa=st(null),Qc=st(0);function Yv(i,r){i=ss,at(Qc,i),at(Qa,r),ss=i|r.baseLanes}function zd(){at(Qc,ss),at(Qa,Qa.current)}function Fd(){ss=Qc.current,ct(Qa),ct(Qc)}var Ds=0,It=null,Qt=null,Ae=null,Wc=!1,Wa=!1,Wr=!1,Zc=0,Ll=0,Za=null,YR=0;function ye(){throw Error(s(321))}function Hd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!bn(i[o],r[o]))return!1;return!0}function qd(i,r,o,u,f,p){return Ds=p,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?D_:O_,Wr=!1,p=o(u,f),Wr=!1,Wa&&(p=Xv(r,o,u,f)),$v(i),p}function $v(i){W.H=sh;var r=Qt!==null&&Qt.next!==null;if(Ds=0,Ae=Qt=It=null,Wc=!1,Ll=0,Za=null,r)throw Error(s(300));i===null||je||(i=i.dependencies,i!==null&&Gc(i)&&(je=!0))}function Xv(i,r,o,u){It=i;var f=0;do{if(Wa&&(Za=null),Ll=0,Wa=!1,25<=f)throw Error(s(301));if(f+=1,Ae=Qt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=tC,p=r(o,u)}while(Wa);return p}function $R(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Ul(r):r,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(It.flags|=1024),r}function Gd(){var i=Zc!==0;return Zc=0,i}function Kd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Yd(i){if(Wc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Wc=!1}Ds=0,Ae=Qt=It=null,Wa=!1,Ll=Zc=0,Za=null}function pn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?It.memoizedState=Ae=i:Ae=Ae.next=i,Ae}function we(){if(Qt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var r=Ae===null?It.memoizedState:Ae.next;if(r!==null)Ae=r,Qt=i;else{if(i===null)throw It.alternate===null?Error(s(467)):Error(s(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Ae===null?It.memoizedState=Ae=i:Ae=Ae.next=i}return Ae}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(i){var r=Ll;return Ll+=1,Za===null&&(Za=[]),i=Fv(Za,i,r),r=It,(Ae===null?r.memoizedState:Ae.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?D_:O_),i}function Jc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ul(i);if(i.$$typeof===j)return Je(i)}throw Error(s(438,String(i)))}function Xd(i){var r=null,o=It.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=$d(),It.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=O;return r.index++,o}function Zi(i,r){return typeof r=="function"?r(i):r}function th(i){var r=we();return Qd(r,Qt,i)}function Qd(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,p=u.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,u.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var S=T=null,x=null,K=r,J=!1;do{var et=K.lane&-536870913;if(et!==K.lane?(Lt&et)===et:(Ds&et)===et){var $=K.revertLane;if($===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),et===$a&&(J=!0);else if((Ds&$)===$){K=K.next,$===$a&&(J=!0);continue}else et={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},x===null?(S=x=et,T=p):x=x.next=et,It.lanes|=$,Ls|=$;et=K.action,Wr&&o(p,et),p=K.hasEagerState?K.eagerState:o(p,et)}else $={lane:et,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},x===null?(S=x=$,T=p):x=x.next=$,It.lanes|=et,Ls|=et;K=K.next}while(K!==null&&K!==r);if(x===null?T=p:x.next=S,!bn(p,i.memoizedState)&&(je=!0,J&&(o=Xa,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=x,u.lastRenderedState=p}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Wd(i){var r=we(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=i(p,T.action),T=T.next;while(T!==f);bn(p,r.memoizedState)||(je=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Qv(i,r,o){var u=It,f=we(),p=Ft;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!bn((Qt||f).memoizedState,o);T&&(f.memoizedState=o,je=!0),f=f.queue;var S=Jv.bind(null,u,f,i);if(Bl(2048,8,S,[i]),f.getSnapshot!==r||T||Ae!==null&&Ae.memoizedState.tag&1){if(u.flags|=2048,Ja(9,eh(),Zv.bind(null,u,f,o,r),null),ne===null)throw Error(s(349));p||(Ds&124)!==0||Wv(u,r,o)}return o}function Wv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=It.updateQueue,r===null?(r=$d(),It.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Zv(i,r,o,u){r.value=o,r.getSnapshot=u,t_(r)&&e_(i)}function Jv(i,r,o){return o(function(){t_(r)&&e_(i)})}function t_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!bn(i,o)}catch{return!0}}function e_(i){var r=qa(i,2);r!==null&&In(r,i,2)}function Zd(i){var r=pn();if(typeof i=="function"){var o=i;if(i=o(),Wr){Tn(!0);try{o()}finally{Tn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:i},r}function n_(i,r,o,u){return i.baseState=o,Qd(i,Qt,typeof u=="function"?u:Zi)}function XR(i,r,o,u,f){if(ih(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};W.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,i_(r,p)):(p.next=o.next,r.pending=o.next=p)}}function i_(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var p=W.T,T={};W.T=T;try{var S=o(f,u),x=W.S;x!==null&&x(T,S),s_(i,r,S)}catch(K){Jd(i,r,K)}finally{W.T=p}}else try{p=o(f,u),s_(i,r,p)}catch(K){Jd(i,r,K)}}function s_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){r_(i,r,u)},function(u){return Jd(i,r,u)}):r_(i,r,o)}function r_(i,r,o){r.status="fulfilled",r.value=o,a_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,i_(i,o)))}function Jd(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,a_(r),r=r.next;while(r!==u)}i.action=null}function a_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function o_(i,r){return r}function l_(i,r){if(Ft){var o=ne.formState;if(o!==null){t:{var u=It;if(Ft){if(de){e:{for(var f=de,p=yi;f.nodeType!==8;){if(!p){f=null;break e}if(f=Zn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){de=Zn(f.nextSibling),u=f.data==="F!";break t}}Yr(u)}u=!1}u&&(r=o[0])}}return o=pn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o_,lastRenderedState:r},o.queue=u,o=C_.bind(null,It,u),u.dispatch=o,u=Zd(!1),p=sm.bind(null,It,!1,u.queue),u=pn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=XR.bind(null,It,f,p,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function u_(i){var r=we();return c_(r,Qt,i)}function c_(i,r,o){if(r=Qd(i,r,o_)[0],i=th(Zi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ul(r)}catch(T){throw T===Ml?$c:T}else u=r;r=we();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(It.flags|=2048,Ja(9,eh(),QR.bind(null,f,o),null)),[u,p,i]}function QR(i,r){i.action=r}function h_(i){var r=we(),o=Qt;if(o!==null)return c_(r,o,i);we(),r=r.memoizedState,o=we();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Ja(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=It.updateQueue,r===null&&(r=$d(),It.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function eh(){return{destroy:void 0,resource:void 0}}function f_(){return we().memoizedState}function nh(i,r,o,u){var f=pn();u=u===void 0?null:u,It.flags|=i,f.memoizedState=Ja(1|r,eh(),o,u)}function Bl(i,r,o,u){var f=we();u=u===void 0?null:u;var p=f.memoizedState.inst;Qt!==null&&u!==null&&Hd(u,Qt.memoizedState.deps)?f.memoizedState=Ja(r,p,o,u):(It.flags|=i,f.memoizedState=Ja(1|r,p,o,u))}function d_(i,r){nh(8390656,8,i,r)}function m_(i,r){Bl(2048,8,i,r)}function p_(i,r){return Bl(4,2,i,r)}function g_(i,r){return Bl(4,4,i,r)}function y_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function v_(i,r,o){o=o!=null?o.concat([i]):null,Bl(4,4,y_.bind(null,r,i),o)}function tm(){}function __(i,r){var o=we();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Hd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function T_(i,r){var o=we();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Hd(r,u[1]))return u[0];if(u=i(),Wr){Tn(!0);try{i()}finally{Tn(!1)}}return o.memoizedState=[u,r],u}function em(i,r,o){return o===void 0||(Ds&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=S0(),It.lanes|=i,Ls|=i,o)}function E_(i,r,o,u){return bn(o,r)?o:Qa.current!==null?(i=em(i,o,u),bn(i,r)||(je=!0),i):(Ds&42)===0?(je=!0,i.memoizedState=o):(i=S0(),It.lanes|=i,Ls|=i,r)}function b_(i,r,o,u,f){var p=rt.p;rt.p=p!==0&&8>p?p:8;var T=W.T,S={};W.T=S,sm(i,!1,r,o);try{var x=f(),K=W.S;if(K!==null&&K(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var J=KR(x,u);jl(i,r,J,Cn(i))}else jl(i,r,u,Cn(i))}catch(et){jl(i,r,{then:function(){},status:"rejected",reason:et},Cn())}finally{rt.p=p,W.T=T}}function WR(){}function nm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=S_(i).queue;b_(i,f,r,ht,o===null?WR:function(){return A_(i),o(u)})}function S_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ht},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function A_(i){var r=S_(i).next.queue;jl(i,r,{},Cn())}function im(){return Je(su)}function w_(){return we().memoizedState}function R_(){return we().memoizedState}function ZR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Cn();i=Is(o);var u=xs(r,i,o);u!==null&&(In(u,r,o),Pl(u,r,o)),r={cache:Nd()},i.payload=r;return}r=r.return}}function JR(i,r,o){var u=Cn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ih(i)?I_(r,o):(o=Sd(i,r,o,u),o!==null&&(In(o,i,u),x_(o,r,u)))}function C_(i,r,o){var u=Cn();jl(i,r,o,u)}function jl(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ih(i))I_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,S=p(T,o);if(f.hasEagerState=!0,f.eagerState=S,bn(S,T))return jc(i,r,f,0),ne===null&&Bc(),!1}catch{}finally{}if(o=Sd(i,r,f,u),o!==null)return In(o,i,u),x_(o,r,u),!0}return!1}function sm(i,r,o,u){if(u={lane:2,revertLane:km(),action:u,hasEagerState:!1,eagerState:null,next:null},ih(i)){if(r)throw Error(s(479))}else r=Sd(i,o,u,2),r!==null&&In(r,i,2)}function ih(i){var r=i.alternate;return i===It||r!==null&&r===It}function I_(i,r){Wa=Wc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function x_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ll(i,o)}}var sh={readContext:Je,use:Jc,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},D_={readContext:Je,use:Jc,useCallback:function(i,r){return pn().memoizedState=[i,r===void 0?null:r],i},useContext:Je,useEffect:d_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,nh(4194308,4,y_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return nh(4194308,4,i,r)},useInsertionEffect:function(i,r){nh(4,2,i,r)},useMemo:function(i,r){var o=pn();r=r===void 0?null:r;var u=i();if(Wr){Tn(!0);try{i()}finally{Tn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=pn();if(o!==void 0){var f=o(r);if(Wr){Tn(!0);try{o(r)}finally{Tn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=JR.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var r=pn();return i={current:i},r.memoizedState=i},useState:function(i){i=Zd(i);var r=i.queue,o=C_.bind(null,It,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:tm,useDeferredValue:function(i,r){var o=pn();return em(o,i,r)},useTransition:function(){var i=Zd(!1);return i=b_.bind(null,It,i.queue,!0,!1),pn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=It,f=pn();if(Ft){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ne===null)throw Error(s(349));(Lt&124)!==0||Wv(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,d_(Jv.bind(null,u,p,i),[i]),u.flags|=2048,Ja(9,eh(),Zv.bind(null,u,p,o,r),null),o},useId:function(){var i=pn(),r=ne.identifierPrefix;if(Ft){var o=Xi,u=$i;o=(u&~(1<<32-Ze(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=Zc++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=YR++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:im,useFormState:l_,useActionState:l_,useOptimistic:function(i){var r=pn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=sm.bind(null,It,!0,o),o.dispatch=r,[i,r]},useMemoCache:Xd,useCacheRefresh:function(){return pn().memoizedState=ZR.bind(null,It)}},O_={readContext:Je,use:Jc,useCallback:__,useContext:Je,useEffect:m_,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:g_,useMemo:T_,useReducer:th,useRef:f_,useState:function(){return th(Zi)},useDebugValue:tm,useDeferredValue:function(i,r){var o=we();return E_(o,Qt.memoizedState,i,r)},useTransition:function(){var i=th(Zi)[0],r=we().memoizedState;return[typeof i=="boolean"?i:Ul(i),r]},useSyncExternalStore:Qv,useId:w_,useHostTransitionStatus:im,useFormState:u_,useActionState:u_,useOptimistic:function(i,r){var o=we();return n_(o,Qt,i,r)},useMemoCache:Xd,useCacheRefresh:R_},tC={readContext:Je,use:Jc,useCallback:__,useContext:Je,useEffect:m_,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:g_,useMemo:T_,useReducer:Wd,useRef:f_,useState:function(){return Wd(Zi)},useDebugValue:tm,useDeferredValue:function(i,r){var o=we();return Qt===null?em(o,i,r):E_(o,Qt.memoizedState,i,r)},useTransition:function(){var i=Wd(Zi)[0],r=we().memoizedState;return[typeof i=="boolean"?i:Ul(i),r]},useSyncExternalStore:Qv,useId:w_,useHostTransitionStatus:im,useFormState:h_,useActionState:h_,useOptimistic:function(i,r){var o=we();return Qt!==null?n_(o,Qt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Xd,useCacheRefresh:R_},to=null,zl=0;function rh(i){var r=zl;return zl+=1,to===null&&(to=[]),Fv(to,i,r)}function Fl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function ah(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function M_(i){var r=i._init;return r(i._payload)}function N_(i){function r(z,k){if(i){var G=z.deletions;G===null?(z.deletions=[k],z.flags|=16):G.push(k)}}function o(z,k){if(!i)return null;for(;k!==null;)r(z,k),k=k.sibling;return null}function u(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=Yi(z,k),z.index=0,z.sibling=null,z}function p(z,k,G){return z.index=G,i?(G=z.alternate,G!==null?(G=G.index,G<k?(z.flags|=67108866,k):G):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function T(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function S(z,k,G,tt){return k===null||k.tag!==6?(k=wd(G,z.mode,tt),k.return=z,k):(k=f(k,G),k.return=z,k)}function x(z,k,G,tt){var dt=G.type;return dt===N?J(z,k,G.props.children,tt,G.key):k!==null&&(k.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&M_(dt)===k.type)?(k=f(k,G.props),Fl(k,G),k.return=z,k):(k=Fc(G.type,G.key,G.props,null,z.mode,tt),Fl(k,G),k.return=z,k)}function K(z,k,G,tt){return k===null||k.tag!==4||k.stateNode.containerInfo!==G.containerInfo||k.stateNode.implementation!==G.implementation?(k=Rd(G,z.mode,tt),k.return=z,k):(k=f(k,G.children||[]),k.return=z,k)}function J(z,k,G,tt,dt){return k===null||k.tag!==7?(k=Hr(G,z.mode,tt,dt),k.return=z,k):(k=f(k,G),k.return=z,k)}function et(z,k,G){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=wd(""+k,z.mode,G),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return G=Fc(k.type,k.key,k.props,null,z.mode,G),Fl(G,k),G.return=z,G;case C:return k=Rd(k,z.mode,G),k.return=z,k;case w:var tt=k._init;return k=tt(k._payload),et(z,k,G)}if($t(k)||B(k))return k=Hr(k,z.mode,G,null),k.return=z,k;if(typeof k.then=="function")return et(z,rh(k),G);if(k.$$typeof===j)return et(z,Kc(z,k),G);ah(z,k)}return null}function $(z,k,G,tt){var dt=k!==null?k.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return dt!==null?null:S(z,k,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===dt?x(z,k,G,tt):null;case C:return G.key===dt?K(z,k,G,tt):null;case w:return dt=G._init,G=dt(G._payload),$(z,k,G,tt)}if($t(G)||B(G))return dt!==null?null:J(z,k,G,tt,null);if(typeof G.then=="function")return $(z,k,rh(G),tt);if(G.$$typeof===j)return $(z,k,Kc(z,G),tt);ah(z,G)}return null}function X(z,k,G,tt,dt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return z=z.get(G)||null,S(k,z,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return z=z.get(tt.key===null?G:tt.key)||null,x(k,z,tt,dt);case C:return z=z.get(tt.key===null?G:tt.key)||null,K(k,z,tt,dt);case w:var Dt=tt._init;return tt=Dt(tt._payload),X(z,k,G,tt,dt)}if($t(tt)||B(tt))return z=z.get(G)||null,J(k,z,tt,dt,null);if(typeof tt.then=="function")return X(z,k,G,rh(tt),dt);if(tt.$$typeof===j)return X(z,k,G,Kc(k,tt),dt);ah(k,tt)}return null}function Et(z,k,G,tt){for(var dt=null,Dt=null,mt=k,_t=k=0,Fe=null;mt!==null&&_t<G.length;_t++){mt.index>_t?(Fe=mt,mt=null):Fe=mt.sibling;var zt=$(z,mt,G[_t],tt);if(zt===null){mt===null&&(mt=Fe);break}i&&mt&&zt.alternate===null&&r(z,mt),k=p(zt,k,_t),Dt===null?dt=zt:Dt.sibling=zt,Dt=zt,mt=Fe}if(_t===G.length)return o(z,mt),Ft&&Gr(z,_t),dt;if(mt===null){for(;_t<G.length;_t++)mt=et(z,G[_t],tt),mt!==null&&(k=p(mt,k,_t),Dt===null?dt=mt:Dt.sibling=mt,Dt=mt);return Ft&&Gr(z,_t),dt}for(mt=u(mt);_t<G.length;_t++)Fe=X(mt,z,_t,G[_t],tt),Fe!==null&&(i&&Fe.alternate!==null&&mt.delete(Fe.key===null?_t:Fe.key),k=p(Fe,k,_t),Dt===null?dt=Fe:Dt.sibling=Fe,Dt=Fe);return i&&mt.forEach(function(Ks){return r(z,Ks)}),Ft&&Gr(z,_t),dt}function yt(z,k,G,tt){if(G==null)throw Error(s(151));for(var dt=null,Dt=null,mt=k,_t=k=0,Fe=null,zt=G.next();mt!==null&&!zt.done;_t++,zt=G.next()){mt.index>_t?(Fe=mt,mt=null):Fe=mt.sibling;var Ks=$(z,mt,zt.value,tt);if(Ks===null){mt===null&&(mt=Fe);break}i&&mt&&Ks.alternate===null&&r(z,mt),k=p(Ks,k,_t),Dt===null?dt=Ks:Dt.sibling=Ks,Dt=Ks,mt=Fe}if(zt.done)return o(z,mt),Ft&&Gr(z,_t),dt;if(mt===null){for(;!zt.done;_t++,zt=G.next())zt=et(z,zt.value,tt),zt!==null&&(k=p(zt,k,_t),Dt===null?dt=zt:Dt.sibling=zt,Dt=zt);return Ft&&Gr(z,_t),dt}for(mt=u(mt);!zt.done;_t++,zt=G.next())zt=X(mt,z,_t,zt.value,tt),zt!==null&&(i&&zt.alternate!==null&&mt.delete(zt.key===null?_t:zt.key),k=p(zt,k,_t),Dt===null?dt=zt:Dt.sibling=zt,Dt=zt);return i&&mt.forEach(function(eI){return r(z,eI)}),Ft&&Gr(z,_t),dt}function Zt(z,k,G,tt){if(typeof G=="object"&&G!==null&&G.type===N&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var dt=G.key;k!==null;){if(k.key===dt){if(dt=G.type,dt===N){if(k.tag===7){o(z,k.sibling),tt=f(k,G.props.children),tt.return=z,z=tt;break t}}else if(k.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&M_(dt)===k.type){o(z,k.sibling),tt=f(k,G.props),Fl(tt,G),tt.return=z,z=tt;break t}o(z,k);break}else r(z,k);k=k.sibling}G.type===N?(tt=Hr(G.props.children,z.mode,tt,G.key),tt.return=z,z=tt):(tt=Fc(G.type,G.key,G.props,null,z.mode,tt),Fl(tt,G),tt.return=z,z=tt)}return T(z);case C:t:{for(dt=G.key;k!==null;){if(k.key===dt)if(k.tag===4&&k.stateNode.containerInfo===G.containerInfo&&k.stateNode.implementation===G.implementation){o(z,k.sibling),tt=f(k,G.children||[]),tt.return=z,z=tt;break t}else{o(z,k);break}else r(z,k);k=k.sibling}tt=Rd(G,z.mode,tt),tt.return=z,z=tt}return T(z);case w:return dt=G._init,G=dt(G._payload),Zt(z,k,G,tt)}if($t(G))return Et(z,k,G,tt);if(B(G)){if(dt=B(G),typeof dt!="function")throw Error(s(150));return G=dt.call(G),yt(z,k,G,tt)}if(typeof G.then=="function")return Zt(z,k,rh(G),tt);if(G.$$typeof===j)return Zt(z,k,Kc(z,G),tt);ah(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,k!==null&&k.tag===6?(o(z,k.sibling),tt=f(k,G),tt.return=z,z=tt):(o(z,k),tt=wd(G,z.mode,tt),tt.return=z,z=tt),T(z)):o(z,k)}return function(z,k,G,tt){try{zl=0;var dt=Zt(z,k,G,tt);return to=null,dt}catch(mt){if(mt===Ml||mt===$c)throw mt;var Dt=Sn(29,mt,null,z.mode);return Dt.lanes=tt,Dt.return=z,Dt}finally{}}}var eo=N_(!0),P_=N_(!1),Bn=st(null),vi=null;function Os(i){var r=i.alternate;at(Pe,Pe.current&1),at(Bn,i),vi===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(vi=i)}function V_(i){if(i.tag===22){if(at(Pe,Pe.current),at(Bn,i),vi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(vi=i)}}else Ms()}function Ms(){at(Pe,Pe.current),at(Bn,Bn.current)}function Ji(i){ct(Bn),vi===i&&(vi=null),ct(Pe)}var Pe=st(0);function oh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||$m(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function rm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var am={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Cn(),f=Is(u);f.payload=r,o!=null&&(f.callback=o),r=xs(i,f,u),r!==null&&(In(r,i,u),Pl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Cn(),f=Is(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=xs(i,f,u),r!==null&&(In(r,i,u),Pl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Cn(),u=Is(o);u.tag=2,r!=null&&(u.callback=r),r=xs(i,u,o),r!==null&&(In(r,i,o),Pl(r,i,o))}};function k_(i,r,o,u,f,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,T):r.prototype&&r.prototype.isPureReactComponent?!Al(o,u)||!Al(f,p):!0}function L_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&am.enqueueReplaceState(r,r.state,null)}function Zr(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var lh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function U_(i){lh(i)}function B_(i){console.error(i)}function j_(i){lh(i)}function uh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function z_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function om(i,r,o){return o=Is(o),o.tag=3,o.payload={element:null},o.callback=function(){uh(i,r)},o}function F_(i){return i=Is(i),i.tag=3,i}function H_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;i.payload=function(){return f(p)},i.callback=function(){z_(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){z_(r,o,u),typeof f!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function eC(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&xl(r,o,f,!0),o=Bn.current,o!==null){switch(o.tag){case 13:return vi===null?Om():o.alternate===null&&me===0&&(me=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===kd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Nm(i,u,f)),!1;case 22:return o.flags|=65536,u===kd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Nm(i,u,f)),!1}throw Error(s(435,o.tag))}return Nm(i,u,f),Om(),!1}if(Ft)return r=Bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==xd&&(i=Error(s(422),{cause:u}),Il(Vn(i,o)))):(u!==xd&&(r=Error(s(423),{cause:u}),Il(Vn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Vn(u,o),f=om(i.stateNode,u,f),Bd(i,f),me!==4&&(me=2)),!1;var p=Error(s(520),{cause:u});if(p=Vn(p,o),Xl===null?Xl=[p]:Xl.push(p),me!==4&&(me=2),r===null)return!0;u=Vn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=om(o.stateNode,u,i),Bd(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Us===null||!Us.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=F_(f),H_(f,i,o,u),Bd(o,f),!1}o=o.return}while(o!==null);return!1}var q_=Error(s(461)),je=!1;function Ke(i,r,o,u){r.child=i===null?P_(r,null,o,u):eo(r,i.child,o,u)}function G_(i,r,o,u,f){o=o.render;var p=r.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return Xr(r),u=qd(i,r,o,T,p,f),S=Gd(),i!==null&&!je?(Kd(i,r,f),ts(i,r,f)):(Ft&&S&&Cd(r),r.flags|=1,Ke(i,r,u,f),r.child)}function K_(i,r,o,u,f){if(i===null){var p=o.type;return typeof p=="function"&&!Ad(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Y_(i,r,p,u,f)):(i=Fc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!pm(i,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:Al,o(T,u)&&i.ref===r.ref)return ts(i,r,f)}return r.flags|=1,i=Yi(p,u),i.ref=r.ref,i.return=r,r.child=i}function Y_(i,r,o,u,f){if(i!==null){var p=i.memoizedProps;if(Al(p,u)&&i.ref===r.ref)if(je=!1,r.pendingProps=u=p,pm(i,f))(i.flags&131072)!==0&&(je=!0);else return r.lanes=i.lanes,ts(i,r,f)}return lm(i,r,o,u,f)}function $_(i,r,o){var u=r.pendingProps,f=u.children,p=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,i!==null){for(f=r.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~u}else r.childLanes=0,r.child=null;return X_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Yc(r,p!==null?p.cachePool:null),p!==null?Yv(r,p):zd(),V_(r);else return r.lanes=r.childLanes=536870912,X_(i,r,p!==null?p.baseLanes|o:o,o)}else p!==null?(Yc(r,p.cachePool),Yv(r,p),Ms(),r.memoizedState=null):(i!==null&&Yc(r,null),zd(),Ms());return Ke(i,r,f,o),r.child}function X_(i,r,o,u){var f=Vd();return f=f===null?null:{parent:Ne._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&Yc(r,null),zd(),V_(r),i!==null&&xl(i,r,u,!0),null}function ch(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function lm(i,r,o,u,f){return Xr(r),o=qd(i,r,o,u,void 0,f),u=Gd(),i!==null&&!je?(Kd(i,r,f),ts(i,r,f)):(Ft&&u&&Cd(r),r.flags|=1,Ke(i,r,o,f),r.child)}function Q_(i,r,o,u,f,p){return Xr(r),r.updateQueue=null,o=Xv(r,u,o,f),$v(i),u=Gd(),i!==null&&!je?(Kd(i,r,p),ts(i,r,p)):(Ft&&u&&Cd(r),r.flags|=1,Ke(i,r,o,p),r.child)}function W_(i,r,o,u,f){if(Xr(r),r.stateNode===null){var p=Ga,T=o.contextType;typeof T=="object"&&T!==null&&(p=Je(T)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=am,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Ld(r),T=o.contextType,p.context=typeof T=="object"&&T!==null?Je(T):Ga,p.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(rm(r,o,T,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&am.enqueueReplaceState(p,p.state,null),kl(r,u,p,f),Vl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){p=r.stateNode;var S=r.memoizedProps,x=Zr(o,S);p.props=x;var K=p.context,J=o.contextType;T=Ga,typeof J=="object"&&J!==null&&(T=Je(J));var et=o.getDerivedStateFromProps;J=typeof et=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||K!==T)&&L_(r,p,u,T),Cs=!1;var $=r.memoizedState;p.state=$,kl(r,u,p,f),Vl(),K=r.memoizedState,S||$!==K||Cs?(typeof et=="function"&&(rm(r,o,et,u),K=r.memoizedState),(x=Cs||k_(r,o,x,u,$,K,T))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),p.props=u,p.state=K,p.context=T,u=x):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Ud(i,r),T=r.memoizedProps,J=Zr(o,T),p.props=J,et=r.pendingProps,$=p.context,K=o.contextType,x=Ga,typeof K=="object"&&K!==null&&(x=Je(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==et||$!==x)&&L_(r,p,u,x),Cs=!1,$=r.memoizedState,p.state=$,kl(r,u,p,f),Vl();var X=r.memoizedState;T!==et||$!==X||Cs||i!==null&&i.dependencies!==null&&Gc(i.dependencies)?(typeof S=="function"&&(rm(r,o,S,u),X=r.memoizedState),(J=Cs||k_(r,o,J,u,$,X,x)||i!==null&&i.dependencies!==null&&Gc(i.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,x)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),p.props=u,p.state=X,p.context=x,u=J):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return p=u,ch(i,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&u?(r.child=eo(r,i.child,null,f),r.child=eo(r,null,o,f)):Ke(i,r,o,f),r.memoizedState=p.state,i=r.child):i=ts(i,r,f),i}function Z_(i,r,o,u){return Cl(),r.flags|=256,Ke(i,r,o,u),r.child}var um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(i){return{baseLanes:i,cachePool:Bv()}}function hm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=jn),i}function J_(i,r,o){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(Pe.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ft){if(f?Os(r):Ms(),Ft){var S=de,x;if(x=S){t:{for(x=S,S=yi;x.nodeType!==8;){if(!S){S=null;break t}if(x=Zn(x.nextSibling),x===null){S=null;break t}}S=x}S!==null?(r.memoizedState={dehydrated:S,treeContext:qr!==null?{id:$i,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},x=Sn(18,null,null,0),x.stateNode=S,x.return=r,r.child=x,cn=r,de=null,x=!0):x=!1}x||Yr(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return $m(S)?r.lanes=32:r.lanes=536870912,null;Ji(r)}return S=u.children,u=u.fallback,f?(Ms(),f=r.mode,S=hh({mode:"hidden",children:S},f),u=Hr(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,f=r.child,f.memoizedState=cm(o),f.childLanes=hm(i,T,o),r.memoizedState=um,u):(Os(r),fm(r,S))}if(x=i.memoizedState,x!==null&&(S=x.dehydrated,S!==null)){if(p)r.flags&256?(Os(r),r.flags&=-257,r=dm(i,r,o)):r.memoizedState!==null?(Ms(),r.child=i.child,r.flags|=128,r=null):(Ms(),f=u.fallback,S=r.mode,u=hh({mode:"visible",children:u.children},S),f=Hr(f,S,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,eo(r,i.child,null,o),u=r.child,u.memoizedState=cm(o),u.childLanes=hm(i,T,o),r.memoizedState=um,r=f);else if(Os(r),$m(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(s(419)),u.stack="",u.digest=T,Il({value:u,source:null,stack:null}),r=dm(i,r,o)}else if(je||xl(i,r,o,!1),T=(o&i.childLanes)!==0,je||T){if(T=ne,T!==null&&(u=o&-o,u=(u&42)!==0?1:_s(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==x.retryLane))throw x.retryLane=u,qa(i,u),In(T,i,u),q_;S.data==="$?"||Om(),r=dm(i,r,o)}else S.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=x.treeContext,de=Zn(S.nextSibling),cn=r,Ft=!0,Kr=null,yi=!1,i!==null&&(Ln[Un++]=$i,Ln[Un++]=Xi,Ln[Un++]=qr,$i=i.id,Xi=i.overflow,qr=r),r=fm(r,u.children),r.flags|=4096);return r}return f?(Ms(),f=u.fallback,S=r.mode,x=i.child,K=x.sibling,u=Yi(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,K!==null?f=Yi(K,f):(f=Hr(f,S,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,S=i.child.memoizedState,S===null?S=cm(o):(x=S.cachePool,x!==null?(K=Ne._currentValue,x=x.parent!==K?{parent:K,pool:K}:x):x=Bv(),S={baseLanes:S.baseLanes|o,cachePool:x}),f.memoizedState=S,f.childLanes=hm(i,T,o),r.memoizedState=um,u):(Os(r),o=i.child,i=o.sibling,o=Yi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function fm(i,r){return r=hh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function hh(i,r){return i=Sn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function dm(i,r,o){return eo(r,i.child,null,o),i=fm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function t0(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Od(i.return,r,o)}function mm(i,r,o,u,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function e0(i,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if(Ke(i,r,u.children,o),u=Pe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&t0(i,o,r);else if(i.tag===19)t0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(at(Pe,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&oh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),mm(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&oh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}mm(r,!0,o,null,p);break;case"together":mm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ts(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ls|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(xl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Yi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Yi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function pm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Gc(i)))}function nC(i,r,o){switch(r.tag){case 3:ee(r,r.stateNode.containerInfo),Rs(r,Ne,i.memoizedState.cache),Cl();break;case 27:case 5:vs(r);break;case 4:ee(r,r.stateNode.containerInfo);break;case 10:Rs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Os(r),r.flags|=128,null):(o&r.child.childLanes)!==0?J_(i,r,o):(Os(r),i=ts(i,r,o),i!==null?i.sibling:null);Os(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(xl(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return e0(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Pe,Pe.current),u)break;return null;case 22:case 23:return r.lanes=0,$_(i,r,o);case 24:Rs(r,Ne,i.memoizedState.cache)}return ts(i,r,o)}function n0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)je=!0;else{if(!pm(i,o)&&(r.flags&128)===0)return je=!1,nC(i,r,o);je=(i.flags&131072)!==0}else je=!1,Ft&&(r.flags&1048576)!==0&&Mv(r,qc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Ad(u)?(i=Zr(u,i),r.tag=1,r=W_(null,r,u,i,o)):(r.tag=0,r=lm(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===nt){r.tag=11,r=G_(null,r,u,i,o);break t}else if(f===I){r.tag=14,r=K_(null,r,u,i,o);break t}}throw r=he(u)||u,Error(s(306,r,""))}}return r;case 0:return lm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Zr(u,r.pendingProps),W_(i,r,u,f,o);case 3:t:{if(ee(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;f=p.element,Ud(i,r),kl(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Rs(r,Ne,u),u!==p.cache&&Md(r,[Ne],o,!0),Vl(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Z_(i,r,u,o);break t}else if(u!==f){f=Vn(Error(s(424)),r),Il(f),r=Z_(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(de=Zn(i.firstChild),cn=r,Ft=!0,Kr=null,yi=!0,o=P_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Cl(),u===f){r=ts(i,r,o);break t}Ke(i,r,u,o)}r=r.child}return r;case 26:return ch(i,r),i===null?(o=aT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ft||(o=r.type,i=r.pendingProps,u=wh(St.current).createElement(o),u[De]=r,u[be]=i,$e(u,o,i),ge(u),r.stateNode=u):r.memoizedState=aT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return vs(r),i===null&&Ft&&(u=r.stateNode=iT(r.type,r.pendingProps,St.current),cn=r,yi=!0,f=de,zs(r.type)?(Xm=f,de=Zn(u.firstChild)):de=f),Ke(i,r,r.pendingProps.children,o),ch(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ft&&((f=u=de)&&(u=DC(u,r.type,r.pendingProps,yi),u!==null?(r.stateNode=u,cn=r,de=Zn(u.firstChild),yi=!1,f=!0):f=!1),f||Yr(r)),vs(r),f=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,u=p.children,Gm(f,p)?u=null:T!==null&&Gm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=qd(i,r,$R,null,null,o),su._currentValue=f),ch(i,r),Ke(i,r,u,o),r.child;case 6:return i===null&&Ft&&((i=o=de)&&(o=OC(o,r.pendingProps,yi),o!==null?(r.stateNode=o,cn=r,de=null,i=!0):i=!1),i||Yr(r)),null;case 13:return J_(i,r,o);case 4:return ee(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=eo(r,null,u,o):Ke(i,r,u,o),r.child;case 11:return G_(i,r,r.type,r.pendingProps,o);case 7:return Ke(i,r,r.pendingProps,o),r.child;case 8:return Ke(i,r,r.pendingProps.children,o),r.child;case 12:return Ke(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Rs(r,r.type,u.value),Ke(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Xr(r),f=Je(f),u=u(f),r.flags|=1,Ke(i,r,u,o),r.child;case 14:return K_(i,r,r.type,r.pendingProps,o);case 15:return Y_(i,r,r.type,r.pendingProps,o);case 19:return e0(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=hh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Yi(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return $_(i,r,o);case 24:return Xr(r),u=Je(Ne),i===null?(f=Vd(),f===null&&(f=ne,p=Nd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:u,cache:f},Ld(r),Rs(r,Ne,f)):((i.lanes&o)!==0&&(Ud(i,r),kl(r,null,null,o),Vl()),f=i.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Rs(r,Ne,u)):(u=p.cache,Rs(r,Ne,u),u!==f.cache&&Md(r,[Ne],o,!0))),Ke(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function es(i){i.flags|=4}function i0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!hT(r)){if(r=Bn.current,r!==null&&((Lt&4194048)===Lt?vi!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||r!==vi))throw Nl=kd,jv;i.flags|=8192}}function fh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?al():536870912,i.lanes|=r,ro|=r)}function Hl(i,r){if(!Ft)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function iC(i,r,o){var u=r.pendingProps;switch(Id(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Wi(Ne),ri(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Rl(r)?es(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Vv())),oe(r),null;case 26:return o=r.memoizedState,i===null?(es(r),o!==null?(oe(r),i0(r,o)):(oe(r),r.flags&=-16777217)):o?o!==i.memoizedState?(es(r),oe(r),i0(r,o)):(oe(r),r.flags&=-16777217):(i.memoizedProps!==u&&es(r),oe(r),r.flags&=-16777217),null;case 27:Pi(r),o=St.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=gt.current,Rl(r)?Nv(r):(i=iT(f,u,o),r.stateNode=i,es(r))}return oe(r),null;case 5:if(Pi(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(i=gt.current,Rl(r))Nv(r);else{switch(f=wh(St.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[De]=r,i[be]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch($e(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&es(r)}}return oe(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&es(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=St.current,Rl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=cn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[De]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Q0(i.nodeValue,o)),i||Yr(r)}else i=wh(i).createTextNode(u),i[De]=r,r.stateNode=i}return oe(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Rl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[De]=r}else Cl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=Vv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Ji(r),r):(Ji(r),null)}if(Ji(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),fh(r,r.updateQueue),oe(r),null;case 4:return ri(),i===null&&jm(r.stateNode.containerInfo),oe(r),null;case 10:return Wi(r.type),oe(r),null;case 19:if(ct(Pe),f=r.memoizedState,f===null)return oe(r),null;if(u=(r.flags&128)!==0,p=f.rendering,p===null)if(u)Hl(f,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=oh(i),p!==null){for(r.flags|=128,Hl(f,!1),i=p.updateQueue,r.updateQueue=i,fh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Ov(o,i),o=o.sibling;return at(Pe,Pe.current&1|2),r.child}i=i.sibling}f.tail!==null&&xn()>ph&&(r.flags|=128,u=!0,Hl(f,!1),r.lanes=4194304)}else{if(!u)if(i=oh(p),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,fh(r,i),Hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ft)return oe(r),null}else 2*xn()-f.renderingStartTime>ph&&o!==536870912&&(r.flags|=128,u=!0,Hl(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(i=f.last,i!==null?i.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=xn(),r.sibling=null,i=Pe.current,at(Pe,u?i&1|2:i&1),r):(oe(r),null);case 22:case 23:return Ji(r),Fd(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&fh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ct(Qr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Wi(Ne),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function sC(i,r){switch(Id(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Wi(Ne),ri(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Pi(r),null;case 13:if(Ji(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Cl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ct(Pe),null;case 4:return ri(),null;case 10:return Wi(r.type),null;case 22:case 23:return Ji(r),Fd(),i!==null&&ct(Qr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Wi(Ne),null;case 25:return null;default:return null}}function s0(i,r){switch(Id(r),r.tag){case 3:Wi(Ne),ri();break;case 26:case 27:case 5:Pi(r);break;case 4:ri();break;case 13:Ji(r);break;case 19:ct(Pe);break;case 10:Wi(r.type);break;case 22:case 23:Ji(r),Fd(),i!==null&&ct(Qr);break;case 24:Wi(Ne)}}function ql(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var p=o.create,T=o.inst;u=p(),T.destroy=u}o=o.next}while(o!==f)}}catch(S){Jt(r,r.return,S)}}function Ns(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=r;var x=o,K=S;try{K()}catch(J){Jt(f,x,J)}}}u=u.next}while(u!==p)}}catch(J){Jt(r,r.return,J)}}function r0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Kv(r,o)}catch(u){Jt(i,i.return,u)}}}function a0(i,r,o){o.props=Zr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Jt(i,r,u)}}function Gl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Jt(i,r,f)}}function _i(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Jt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Jt(i,r,f)}else o.current=null}function o0(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Jt(i,i.return,f)}}function gm(i,r,o){try{var u=i.stateNode;wC(u,i.type,o,r),u[be]=r}catch(f){Jt(i,i.return,f)}}function l0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zs(i.type)||i.tag===4}function ym(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||l0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ah));else if(u!==4&&(u===27&&zs(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(vm(i,r,o),i=i.sibling;i!==null;)vm(i,r,o),i=i.sibling}function dh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&zs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(dh(i,r,o),i=i.sibling;i!==null;)dh(i,r,o),i=i.sibling}function u0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$e(r,u,o),r[De]=i,r[be]=o}catch(p){Jt(i,i.return,p)}}var ns=!1,ve=!1,_m=!1,c0=typeof WeakSet=="function"?WeakSet:Set,ze=null;function rC(i,r){if(i=i.containerInfo,Hm=Oh,i=Ev(i),yd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var T=0,S=-1,x=-1,K=0,J=0,et=i,$=null;e:for(;;){for(var X;et!==o||f!==0&&et.nodeType!==3||(S=T+f),et!==p||u!==0&&et.nodeType!==3||(x=T+u),et.nodeType===3&&(T+=et.nodeValue.length),(X=et.firstChild)!==null;)$=et,et=X;for(;;){if(et===i)break e;if($===o&&++K===f&&(S=T),$===p&&++J===u&&(x=T),(X=et.nextSibling)!==null)break;et=$,$=et.parentNode}et=X}o=S===-1||x===-1?null:{start:S,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(qm={focusedElem:i,selectionRange:o},Oh=!1,ze=r;ze!==null;)if(r=ze,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,ze=i;else for(;ze!==null;){switch(r=ze,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Et=Zr(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Et,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(yt){Jt(o,o.return,yt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Ym(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ym(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,ze=i;break}ze=r.return}}function h0(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ps(i,o),u&4&&ql(5,o);break;case 1:if(Ps(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Jt(o,o.return,T)}else{var f=Zr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Jt(o,o.return,T)}}u&64&&r0(o),u&512&&Gl(o,o.return);break;case 3:if(Ps(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Kv(i,r)}catch(T){Jt(o,o.return,T)}}break;case 27:r===null&&u&4&&u0(o);case 26:case 5:Ps(i,o),r===null&&u&4&&o0(o),u&512&&Gl(o,o.return);break;case 12:Ps(i,o);break;case 13:Ps(i,o),u&4&&m0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=mC.bind(null,o),MC(i,o))));break;case 22:if(u=o.memoizedState!==null||ns,!u){r=r!==null&&r.memoizedState!==null||ve,f=ns;var p=ve;ns=u,(ve=r)&&!p?Vs(i,o,(o.subtreeFlags&8772)!==0):Ps(i,o),ns=f,ve=p}break;case 30:break;default:Ps(i,o)}}function f0(i){var r=i.alternate;r!==null&&(i.alternate=null,f0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&bs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var se=null,gn=!1;function is(i,r,o){for(o=o.child;o!==null;)d0(i,r,o),o=o.sibling}function d0(i,r,o){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(fe,o)}catch{}switch(o.tag){case 26:ve||_i(o,r),is(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ve||_i(o,r);var u=se,f=gn;zs(o.type)&&(se=o.stateNode,gn=!1),is(i,r,o),tu(o.stateNode),se=u,gn=f;break;case 5:ve||_i(o,r);case 6:if(u=se,f=gn,se=null,is(i,r,o),se=u,gn=f,se!==null)if(gn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(o.stateNode)}catch(p){Jt(o,r,p)}else try{se.removeChild(o.stateNode)}catch(p){Jt(o,r,p)}break;case 18:se!==null&&(gn?(i=se,eT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),lu(i)):eT(se,o.stateNode));break;case 4:u=se,f=gn,se=o.stateNode.containerInfo,gn=!0,is(i,r,o),se=u,gn=f;break;case 0:case 11:case 14:case 15:ve||Ns(2,o,r),ve||Ns(4,o,r),is(i,r,o);break;case 1:ve||(_i(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&a0(o,r,u)),is(i,r,o);break;case 21:is(i,r,o);break;case 22:ve=(u=ve)||o.memoizedState!==null,is(i,r,o),ve=u;break;default:is(i,r,o)}}function m0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{lu(i)}catch(o){Jt(r,r.return,o)}}function aC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new c0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new c0),r;default:throw Error(s(435,i.tag))}}function Tm(i,r){var o=aC(i);r.forEach(function(u){var f=pC.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function An(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=i,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(zs(S.type)){se=S.stateNode,gn=!1;break t}break;case 5:se=S.stateNode,gn=!1;break t;case 3:case 4:se=S.stateNode.containerInfo,gn=!0;break t}S=S.return}if(se===null)throw Error(s(160));d0(p,T,f),se=null,gn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)p0(r,i),r=r.sibling}var Wn=null;function p0(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:An(r,i),wn(i),u&4&&(Ns(3,i,i.return),ql(3,i),Ns(5,i,i.return));break;case 1:An(r,i),wn(i),u&512&&(ve||o===null||_i(o,o.return)),u&64&&ns&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Wn;if(An(r,i),wn(i),u&512&&(ve||o===null||_i(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Cr]||p[De]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),$e(p,u,o),p[De]=i,ge(p),u=p;break t;case"link":var T=uT("link","href",f).get(u+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(p=T[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break e}}p=f.createElement(u),$e(p,u,o),f.head.appendChild(p);break;case"meta":if(T=uT("meta","content",f).get(u+(o.content||""))){for(S=0;S<T.length;S++)if(p=T[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break e}}p=f.createElement(u),$e(p,u,o),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[De]=i,ge(p),u=p}i.stateNode=u}else cT(f,i.type,i.stateNode);else i.stateNode=lT(f,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?cT(f,i.type,i.stateNode):lT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&gm(i,i.memoizedProps,o.memoizedProps)}break;case 27:An(r,i),wn(i),u&512&&(ve||o===null||_i(o,o.return)),o!==null&&u&4&&gm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(An(r,i),wn(i),u&512&&(ve||o===null||_i(o,o.return)),i.flags&32){f=i.stateNode;try{On(f,"")}catch(X){Jt(i,i.return,X)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,gm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(_m=!0);break;case 6:if(An(r,i),wn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(X){Jt(i,i.return,X)}}break;case 3:if(Ih=null,f=Wn,Wn=Rh(r.containerInfo),An(r,i),Wn=f,wn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{lu(r.containerInfo)}catch(X){Jt(i,i.return,X)}_m&&(_m=!1,g0(i));break;case 4:u=Wn,Wn=Rh(i.stateNode.containerInfo),An(r,i),wn(i),Wn=u;break;case 12:An(r,i),wn(i);break;case 13:An(r,i),wn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Rm=xn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Tm(i,u)));break;case 22:f=i.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,K=ns,J=ve;if(ns=K||f,ve=J||x,An(r,i),ve=J,ns=K,wn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||x||ns||ve||Jr(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){x=o=r;try{if(p=x.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=x.stateNode;var et=x.memoizedProps.style,$=et!=null&&et.hasOwnProperty("display")?et.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(X){Jt(x,x.return,X)}}}else if(r.tag===6){if(o===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(X){Jt(x,x.return,X)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Tm(i,o))));break;case 19:An(r,i),wn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Tm(i,u)));break;case 30:break;case 21:break;default:An(r,i),wn(i)}}function wn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(l0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=ym(i);dh(i,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(On(T,""),o.flags&=-33);var S=ym(i);dh(i,S,T);break;case 3:case 4:var x=o.stateNode.containerInfo,K=ym(i);vm(i,K,x);break;default:throw Error(s(161))}}catch(J){Jt(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function g0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;g0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ps(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)h0(i,r.alternate,r),r=r.sibling}function Jr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ns(4,r,r.return),Jr(r);break;case 1:_i(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&a0(r,r.return,o),Jr(r);break;case 27:tu(r.stateNode);case 26:case 5:_i(r,r.return),Jr(r);break;case 22:r.memoizedState===null&&Jr(r);break;case 30:Jr(r);break;default:Jr(r)}i=i.sibling}}function Vs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Vs(f,p,o),ql(4,p);break;case 1:if(Vs(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Jt(u,u.return,K)}if(u=p,f=u.updateQueue,f!==null){var S=u.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Gv(x[f],S)}catch(K){Jt(u,u.return,K)}}o&&T&64&&r0(p),Gl(p,p.return);break;case 27:u0(p);case 26:case 5:Vs(f,p,o),o&&u===null&&T&4&&o0(p),Gl(p,p.return);break;case 12:Vs(f,p,o);break;case 13:Vs(f,p,o),o&&T&4&&m0(f,p);break;case 22:p.memoizedState===null&&Vs(f,p,o),Gl(p,p.return);break;case 30:break;default:Vs(f,p,o)}r=r.sibling}}function Em(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Dl(o))}function bm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Dl(i))}function Ti(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)y0(i,r,o,u),r=r.sibling}function y0(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(i,r,o,u),f&2048&&ql(9,r);break;case 1:Ti(i,r,o,u);break;case 3:Ti(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Dl(i)));break;case 12:if(f&2048){Ti(i,r,o,u),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,S=p.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){Jt(r,r.return,x)}}else Ti(i,r,o,u);break;case 13:Ti(i,r,o,u);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?Ti(i,r,o,u):Kl(i,r):p._visibility&2?Ti(i,r,o,u):(p._visibility|=2,no(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&Em(T,r);break;case 24:Ti(i,r,o,u),f&2048&&bm(r.alternate,r);break;default:Ti(i,r,o,u)}}function no(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,T=r,S=o,x=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:no(p,T,S,x,f),ql(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?no(p,T,S,x,f):Kl(p,T):(J._visibility|=2,no(p,T,S,x,f)),f&&K&2048&&Em(T.alternate,T);break;case 24:no(p,T,S,x,f),f&&K&2048&&bm(T.alternate,T);break;default:no(p,T,S,x,f)}r=r.sibling}}function Kl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Kl(o,u),f&2048&&Em(u.alternate,u);break;case 24:Kl(o,u),f&2048&&bm(u.alternate,u);break;default:Kl(o,u)}r=r.sibling}}var Yl=8192;function io(i){if(i.subtreeFlags&Yl)for(i=i.child;i!==null;)v0(i),i=i.sibling}function v0(i){switch(i.tag){case 26:io(i),i.flags&Yl&&i.memoizedState!==null&&GC(Wn,i.memoizedState,i.memoizedProps);break;case 5:io(i);break;case 3:case 4:var r=Wn;Wn=Rh(i.stateNode.containerInfo),io(i),Wn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Yl,Yl=16777216,io(i),Yl=r):io(i));break;default:io(i)}}function _0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function $l(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];ze=u,E0(u,i)}_0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)T0(i),i=i.sibling}function T0(i){switch(i.tag){case 0:case 11:case 15:$l(i),i.flags&2048&&Ns(9,i,i.return);break;case 3:$l(i);break;case 12:$l(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,mh(i)):$l(i);break;default:$l(i)}}function mh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];ze=u,E0(u,i)}_0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ns(8,r,r.return),mh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,mh(r));break;default:mh(r)}i=i.sibling}}function E0(i,r){for(;ze!==null;){var o=ze;switch(o.tag){case 0:case 11:case 15:Ns(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Dl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,ze=u;else t:for(o=i;ze!==null;){u=ze;var f=u.sibling,p=u.return;if(f0(u),u===o){ze=null;break t}if(f!==null){f.return=p,ze=f;break t}ze=p}}}var oC={getCacheForType:function(i){var r=Je(Ne),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},lC=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Ot=null,Lt=0,Kt=0,Rn=null,ks=!1,so=!1,Sm=!1,ss=0,me=0,Ls=0,ta=0,Am=0,jn=0,ro=0,Xl=null,yn=null,wm=!1,Rm=0,ph=1/0,gh=null,Us=null,Ye=0,Bs=null,ao=null,oo=0,Cm=0,Im=null,b0=null,Ql=0,xm=null;function Cn(){if((Gt&2)!==0&&Lt!==0)return Lt&-Lt;if(W.T!==null){var i=$a;return i!==0?i:km()}return Ts()}function S0(){jn===0&&(jn=(Lt&536870912)===0||Ft?rl():536870912);var i=Bn.current;return i!==null&&(i.flags|=32),jn}function In(i,r,o){(i===ne&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)&&(lo(i,0),js(i,Lt,jn,!1)),ki(i,o),((Gt&2)===0||i!==ne)&&(i===ne&&((Gt&2)===0&&(ta|=o),me===4&&js(i,Lt,jn,!1)),Ei(i))}function A0(i,r,o){if((Gt&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Rr(i,r),f=u?hC(i,r):Mm(i,r,!0),p=u;do{if(f===0){so&&!u&&js(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!uC(o)){f=Mm(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=i;f=Xl;var x=S.current.memoizedState.isDehydrated;if(x&&(lo(S,T).flags|=256),T=Mm(S,T,!1),T!==2){if(Sm&&!x){S.errorRecoveryDisabledLanes|=p,ta|=p,f=4;break t}p=yn,yn=f,p!==null&&(yn===null?yn=p:yn.push.apply(yn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){lo(i,0),js(i,r,0,!0);break}t:{switch(u=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:js(u,r,jn,!ks);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Rm+300-xn(),10<f)){if(js(u,r,jn,!ks),wa(u,0,!0)!==0)break t;u.timeoutHandle=J0(w0.bind(null,u,o,yn,gh,wm,r,jn,ta,ro,ks,p,2,-0,0),f);break t}w0(u,o,yn,gh,wm,r,jn,ta,ro,ks,p,0,-0,0)}}break}while(!0);Ei(i)}function w0(i,r,o,u,f,p,T,S,x,K,J,et,$,X){if(i.timeoutHandle=-1,et=r.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(iu={stylesheets:null,count:0,unsuspend:qC},v0(r),et=KC(),et!==null)){i.cancelPendingCommit=et(M0.bind(null,i,r,p,o,u,f,T,S,x,J,1,$,X)),js(i,p,T,!K);return}M0(i,r,p,o,u,f,T,S,x)}function uC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!bn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function js(i,r,o,u){r&=~Am,r&=~ta,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var p=31-Ze(f),T=1<<p;u[p]=-1,f&=~T}o!==0&&ai(i,o,r)}function yh(){return(Gt&6)===0?(Wl(0),!1):!0}function Dm(){if(Ot!==null){if(Kt===0)var i=Ot.return;else i=Ot,Qi=$r=null,Yd(i),to=null,zl=0,i=Ot;for(;i!==null;)s0(i.alternate,i),i=i.return;Ot=null}}function lo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,CC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Dm(),ne=i,Ot=o=Yi(i.current,null),Lt=r,Kt=0,Rn=null,ks=!1,so=Rr(i,r),Sm=!1,ro=jn=Am=ta=Ls=me=0,yn=Xl=null,wm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-Ze(u),p=1<<f;r|=i[f],u&=~p}return ss=r,Bc(),o}function R0(i,r){It=null,W.H=sh,r===Ml||r===$c?(r=Hv(),Kt=3):r===jv?(r=Hv(),Kt=4):Kt=r===q_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Ot===null&&(me=1,uh(i,Vn(r,i.current)))}function C0(){var i=W.H;return W.H=sh,i===null?sh:i}function I0(){var i=W.A;return W.A=oC,i}function Om(){me=4,ks||(Lt&4194048)!==Lt&&Bn.current!==null||(so=!0),(Ls&134217727)===0&&(ta&134217727)===0||ne===null||js(ne,Lt,jn,!1)}function Mm(i,r,o){var u=Gt;Gt|=2;var f=C0(),p=I0();(ne!==i||Lt!==r)&&(gh=null,lo(i,r)),r=!1;var T=me;t:do try{if(Kt!==0&&Ot!==null){var S=Ot,x=Rn;switch(Kt){case 8:Dm(),T=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(r=!0);var K=Kt;if(Kt=0,Rn=null,uo(i,S,x,K),o&&so){T=0;break t}break;default:K=Kt,Kt=0,Rn=null,uo(i,S,x,K)}}cC(),T=me;break}catch(J){R0(i,J)}while(!0);return r&&i.shellSuspendCounter++,Qi=$r=null,Gt=u,W.H=f,W.A=p,Ot===null&&(ne=null,Lt=0,Bc()),T}function cC(){for(;Ot!==null;)x0(Ot)}function hC(i,r){var o=Gt;Gt|=2;var u=C0(),f=I0();ne!==i||Lt!==r?(gh=null,ph=xn()+500,lo(i,r)):so=Rr(i,r);t:do try{if(Kt!==0&&Ot!==null){r=Ot;var p=Rn;e:switch(Kt){case 1:Kt=0,Rn=null,uo(i,r,p,1);break;case 2:case 9:if(zv(p)){Kt=0,Rn=null,D0(r);break}r=function(){Kt!==2&&Kt!==9||ne!==i||(Kt=7),Ei(i)},p.then(r,r);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:zv(p)?(Kt=0,Rn=null,D0(r)):(Kt=0,Rn=null,uo(i,r,p,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var S=Ot;if(!T||hT(T)){Kt=0,Rn=null;var x=S.sibling;if(x!==null)Ot=x;else{var K=S.return;K!==null?(Ot=K,vh(K)):Ot=null}break e}}Kt=0,Rn=null,uo(i,r,p,5);break;case 6:Kt=0,Rn=null,uo(i,r,p,6);break;case 8:Dm(),me=6;break t;default:throw Error(s(462))}}fC();break}catch(J){R0(i,J)}while(!0);return Qi=$r=null,W.H=u,W.A=f,Gt=o,Ot!==null?0:(ne=null,Lt=0,Bc(),me)}function fC(){for(;Ot!==null&&!el();)x0(Ot)}function x0(i){var r=n0(i.alternate,i,ss);i.memoizedProps=i.pendingProps,r===null?vh(i):Ot=r}function D0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Q_(o,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=Q_(o,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:Yd(r);default:s0(o,r),r=Ot=Ov(r,ss),r=n0(o,r,ss)}i.memoizedProps=i.pendingProps,r===null?vh(i):Ot=r}function uo(i,r,o,u){Qi=$r=null,Yd(r),to=null,zl=0;var f=r.return;try{if(eC(i,f,r,o,Lt)){me=1,uh(i,Vn(o,i.current)),Ot=null;return}}catch(p){if(f!==null)throw Ot=f,p;me=1,uh(i,Vn(o,i.current)),Ot=null;return}r.flags&32768?(Ft||u===1?i=!0:so||(Lt&536870912)!==0?i=!1:(ks=i=!0,(u===2||u===9||u===3||u===6)&&(u=Bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),O0(r,i)):vh(r)}function vh(i){var r=i;do{if((r.flags&32768)!==0){O0(r,ks);return}i=r.return;var o=iC(r.alternate,r,ss);if(o!==null){Ot=o;return}if(r=r.sibling,r!==null){Ot=r;return}Ot=r=i}while(r!==null);me===0&&(me=5)}function O0(i,r){do{var o=sC(i.alternate,i);if(o!==null){o.flags&=32767,Ot=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ot=i;return}Ot=i=o}while(i!==null);me=6,Ot=null}function M0(i,r,o,u,f,p,T,S,x){i.cancelPendingCommit=null;do _h();while(Ye!==0);if((Gt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=bd,ol(i,o,p,T,S,x),i===ne&&(Ot=ne=null,Lt=0),ao=r,Bs=i,oo=o,Cm=p,Im=f,b0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,gC(br,function(){return L0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=rt.p,rt.p=2,T=Gt,Gt|=4;try{rC(i,r,o)}finally{Gt=T,rt.p=f,W.T=u}}Ye=1,N0(),P0(),V0()}}function N0(){if(Ye===1){Ye=0;var i=Bs,r=ao,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=rt.p;rt.p=2;var f=Gt;Gt|=4;try{p0(r,i);var p=qm,T=Ev(i.containerInfo),S=p.focusedElem,x=p.selectionRange;if(T!==S&&S&&S.ownerDocument&&Tv(S.ownerDocument.documentElement,S)){if(x!==null&&yd(S)){var K=x.start,J=x.end;if(J===void 0&&(J=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(J,S.value.length);else{var et=S.ownerDocument||document,$=et&&et.defaultView||window;if($.getSelection){var X=$.getSelection(),Et=S.textContent.length,yt=Math.min(x.start,Et),Zt=x.end===void 0?yt:Math.min(x.end,Et);!X.extend&&yt>Zt&&(T=Zt,Zt=yt,yt=T);var z=_v(S,yt),k=_v(S,Zt);if(z&&k&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==k.node||X.focusOffset!==k.offset)){var G=et.createRange();G.setStart(z.node,z.offset),X.removeAllRanges(),yt>Zt?(X.addRange(G),X.extend(k.node,k.offset)):(G.setEnd(k.node,k.offset),X.addRange(G))}}}}for(et=[],X=S;X=X.parentNode;)X.nodeType===1&&et.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<et.length;S++){var tt=et[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Oh=!!Hm,qm=Hm=null}finally{Gt=f,rt.p=u,W.T=o}}i.current=r,Ye=2}}function P0(){if(Ye===2){Ye=0;var i=Bs,r=ao,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=rt.p;rt.p=2;var f=Gt;Gt|=4;try{h0(i,r.alternate,r)}finally{Gt=f,rt.p=u,W.T=o}}Ye=3}}function V0(){if(Ye===4||Ye===3){Ye=0,mc();var i=Bs,r=ao,o=oo,u=b0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ye=5:(Ye=0,ao=Bs=null,k0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Us=null),Ra(o),r=r.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(fe,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=rt.p,rt.p=2,W.T=null;try{for(var p=i.onRecoverableError,T=0;T<u.length;T++){var S=u[T];p(S.value,{componentStack:S.stack})}}finally{W.T=r,rt.p=f}}(oo&3)!==0&&_h(),Ei(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===xm?Ql++:(Ql=0,xm=i):Ql=0,Wl(0)}}function k0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Dl(r)))}function _h(i){return N0(),P0(),V0(),L0()}function L0(){if(Ye!==5)return!1;var i=Bs,r=Cm;Cm=0;var o=Ra(oo),u=W.T,f=rt.p;try{rt.p=32>o?32:o,W.T=null,o=Im,Im=null;var p=Bs,T=oo;if(Ye=0,ao=Bs=null,oo=0,(Gt&6)!==0)throw Error(s(331));var S=Gt;if(Gt|=4,T0(p.current),y0(p,p.current,T,o),Gt=S,Wl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(fe,p)}catch{}return!0}finally{rt.p=f,W.T=u,k0(i,r)}}function U0(i,r,o){r=Vn(o,r),r=om(i.stateNode,r,2),i=xs(i,r,2),i!==null&&(ki(i,2),Ei(i))}function Jt(i,r,o){if(i.tag===3)U0(i,i,o);else for(;r!==null;){if(r.tag===3){U0(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Us===null||!Us.has(u))){i=Vn(o,i),o=F_(2),u=xs(r,o,2),u!==null&&(H_(o,u,r,i),ki(u,2),Ei(u));break}}r=r.return}}function Nm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new lC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Sm=!0,f.add(o),i=dC.bind(null,i,r,o),r.then(i,i))}function dC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ne===i&&(Lt&o)===o&&(me===4||me===3&&(Lt&62914560)===Lt&&300>xn()-Rm?(Gt&2)===0&&lo(i,0):Am|=o,ro===Lt&&(ro=0)),Ei(i)}function B0(i,r){r===0&&(r=al()),i=qa(i,r),i!==null&&(ki(i,r),Ei(i))}function mC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),B0(i,o)}function pC(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),B0(i,o)}function gC(i,r){return Tr(i,r)}var Th=null,co=null,Pm=!1,Eh=!1,Vm=!1,ea=0;function Ei(i){i!==co&&i.next===null&&(co===null?Th=co=i:co=co.next=i),Eh=!0,Pm||(Pm=!0,vC())}function Wl(i,r){if(!Vm&&Eh){Vm=!0;do for(var o=!1,u=Th;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var T=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-Ze(42|i)+1)-1,p&=f&~(T&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,H0(u,p))}else p=Lt,p=wa(u,u===ne?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Rr(u,p)||(o=!0,H0(u,p));u=u.next}while(o);Vm=!1}}function yC(){j0()}function j0(){Eh=Pm=!1;var i=0;ea!==0&&(RC()&&(i=ea),ea=0);for(var r=xn(),o=null,u=Th;u!==null;){var f=u.next,p=z0(u,r);p===0?(u.next=null,o===null?Th=f:o.next=f,f===null&&(co=o)):(o=u,(i!==0||(p&3)!==0)&&(Eh=!0)),u=f}Wl(i)}function z0(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-Ze(p),S=1<<T,x=f[T];x===-1?((S&o)===0||(S&u)!==0)&&(f[T]=sl(S,r)):x<=r&&(i.expiredLanes|=S),p&=~S}if(r=ne,o=Lt,o=wa(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Er(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Rr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Er(u),Ra(o)){case 2:case 8:o=Sa;break;case 32:o=br;break;case 268435456:o=Aa;break;default:o=br}return u=F0.bind(null,i),o=Tr(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Er(u),i.callbackPriority=2,i.callbackNode=null,2}function F0(i,r){if(Ye!==0&&Ye!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(_h()&&i.callbackNode!==o)return null;var u=Lt;return u=wa(i,i===ne?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(A0(i,u,r),z0(i,xn()),i.callbackNode!=null&&i.callbackNode===o?F0.bind(null,i):null)}function H0(i,r){if(_h())return null;A0(i,r,!0)}function vC(){IC(function(){(Gt&6)!==0?Tr(nl,yC):j0()})}function km(){return ea===0&&(ea=rl()),ea}function q0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ma(""+i)}function G0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function _C(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var p=q0((f[be]||null).action),T=u.submitter;T&&(r=(r=T[be]||null)?q0(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var S=new Na("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ea!==0){var x=T?G0(f,T):new FormData(f);nm(o,{pending:!0,data:x,method:f.method,action:p},null,x)}}else typeof p=="function"&&(S.preventDefault(),x=T?G0(f,T):new FormData(f),nm(o,{pending:!0,data:x,method:f.method,action:p},p,x))},currentTarget:f}]})}}for(var Lm=0;Lm<Ed.length;Lm++){var Um=Ed[Lm],TC=Um.toLowerCase(),EC=Um[0].toUpperCase()+Um.slice(1);Qn(TC,"on"+EC)}Qn(Av,"onAnimationEnd"),Qn(wv,"onAnimationIteration"),Qn(Rv,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(UR,"onTransitionRun"),Qn(BR,"onTransitionStart"),Qn(jR,"onTransitionCancel"),Qn(Cv,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function K0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var T=u.length-1;0<=T;T--){var S=u[T],x=S.instance,K=S.currentTarget;if(S=S.listener,x!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=K;try{p(f)}catch(J){lh(J)}f.currentTarget=null,p=x}else for(T=0;T<u.length;T++){if(S=u[T],x=S.instance,K=S.currentTarget,S=S.listener,x!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=K;try{p(f)}catch(J){lh(J)}f.currentTarget=null,p=x}}}}function Mt(i,r){var o=r[ul];o===void 0&&(o=r[ul]=new Set);var u=i+"__bubble";o.has(u)||(Y0(r,i,2,!1),o.add(u))}function Bm(i,r,o){var u=0;r&&(u|=4),Y0(o,i,u,r)}var bh="_reactListening"+Math.random().toString(36).slice(2);function jm(i){if(!i[bh]){i[bh]=!0,cl.forEach(function(o){o!=="selectionchange"&&(bC.has(o)||Bm(o,!1,i),Bm(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[bh]||(r[bh]=!0,Bm("selectionchange",!1,r))}}function Y0(i,r,o,u){switch(yT(r)){case 2:var f=XC;break;case 8:f=QC;break;default:f=tp}o=f.bind(null,r,o,i),f=void 0,!Nn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function zm(i,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=u.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=Li(S),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){u=p=T;continue t}S=S.parentNode}}u=u.return}Ac(function(){var K=p,J=Mn(o),et=[];t:{var $=Iv.get(i);if($!==void 0){var X=Na,Et=i;switch(i){case"keypress":if(fi(o)===0)break t;case"keydown":case"keyup":X=Ba;break;case"focusin":Et="focus",X=ka;break;case"focusout":Et="blur",X=ka;break;case"beforeblur":case"afterblur":X=ka;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Mc;break;case Av:case wv:case Rv:X=La;break;case Cv:X=Pc;break;case"scroll":case"scrollend":X=wc;break;case"wheel":X=ja;break;case"copy":case"cut":case"paste":X=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=bl;break;case"toggle":case"beforetoggle":X=kc}var yt=(r&4)!==0,Zt=!yt&&(i==="scroll"||i==="scrollend"),z=yt?$!==null?$+"Capture":null:$;yt=[];for(var k=K,G;k!==null;){var tt=k;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||z===null||(tt=Pr(k,z),tt!=null&&yt.push(Jl(k,tt,G))),Zt)break;k=k.return}0<yt.length&&($=new X($,Et,null,o,J),et.push({event:$,listeners:yt}))}}if((r&7)===0){t:{if($=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",$&&o!==zi&&(Et=o.relatedTarget||o.fromElement)&&(Li(Et)||Et[Dn]))break t;if((X||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,X?(Et=o.relatedTarget||o.toElement,X=K,Et=Et?Li(Et):null,Et!==null&&(Zt=l(Et),yt=Et.tag,Et!==Zt||yt!==5&&yt!==27&&yt!==6)&&(Et=null)):(X=null,Et=K),X!==Et)){if(yt=Pn,tt="onMouseLeave",z="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(yt=bl,tt="onPointerLeave",z="onPointerEnter",k="pointer"),Zt=X==null?$:li(X),G=Et==null?$:li(Et),$=new yt(tt,k+"leave",X,o,J),$.target=Zt,$.relatedTarget=G,tt=null,Li(J)===K&&(yt=new yt(z,k+"enter",Et,o,J),yt.target=G,yt.relatedTarget=Zt,tt=yt),Zt=tt,X&&Et)e:{for(yt=X,z=Et,k=0,G=yt;G;G=ho(G))k++;for(G=0,tt=z;tt;tt=ho(tt))G++;for(;0<k-G;)yt=ho(yt),k--;for(;0<G-k;)z=ho(z),G--;for(;k--;){if(yt===z||z!==null&&yt===z.alternate)break e;yt=ho(yt),z=ho(z)}yt=null}else yt=null;X!==null&&$0(et,$,X,yt,!1),Et!==null&&Zt!==null&&$0(et,Zt,Et,yt,!0)}}t:{if($=K?li(K):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var dt=dv;else if(Me($))if(mv)dt=VR;else{dt=NR;var Dt=MR}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&pl(K.elementType)&&(dt=dv):dt=PR;if(dt&&(dt=dt(i,K))){Ki(et,dt,o,J);break t}Dt&&Dt(i,$,K),i==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&As($,"number",$.value)}switch(Dt=K?li(K):window,i){case"focusin":(Me(Dt)||Dt.contentEditable==="true")&&(za=Dt,vd=K,wl=null);break;case"focusout":wl=vd=za=null;break;case"mousedown":_d=!0;break;case"contextmenu":case"mouseup":case"dragend":_d=!1,bv(et,o,J);break;case"selectionchange":if(LR)break;case"keydown":case"keyup":bv(et,o,J)}var mt;if(pi)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Vt?Q(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(_&&o.locale!=="ko"&&(Vt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Vt&&(mt=yl()):(hi=J,ws="value"in hi?hi.value:hi.textContent,Vt=!0)),Dt=Sh(K,_t),0<Dt.length&&(_t=new Tl(_t,i,null,o,J),et.push({event:_t,listeners:Dt}),mt?_t.data=mt:(mt=ot(o),mt!==null&&(_t.data=mt)))),(mt=v?Oe(i,o):kt(i,o))&&(_t=Sh(K,"onBeforeInput"),0<_t.length&&(Dt=new Tl("onBeforeInput","beforeinput",null,o,J),et.push({event:Dt,listeners:_t}),Dt.data=mt)),_C(et,i,K,o,J)}K0(et,r)})}function Jl(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Sh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Pr(i,o),f!=null&&u.unshift(Jl(i,f,p)),f=Pr(i,r),f!=null&&u.push(Jl(i,f,p))),i.tag===3)return u;i=i.return}return[]}function ho(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $0(i,r,o,u,f){for(var p=r._reactName,T=[];o!==null&&o!==u;){var S=o,x=S.alternate,K=S.stateNode;if(S=S.tag,x!==null&&x===u)break;S!==5&&S!==26&&S!==27||K===null||(x=K,f?(K=Pr(o,p),K!=null&&T.unshift(Jl(o,K,x))):f||(K=Pr(o,p),K!=null&&T.push(Jl(o,K,x)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var SC=/\r\n?/g,AC=/\u0000|\uFFFD/g;function X0(i){return(typeof i=="string"?i:""+i).replace(SC,`
`).replace(AC,"")}function Q0(i,r){return r=X0(r),X0(i)===r}function Ah(){}function Wt(i,r,o,u,f,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||On(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&On(i,""+u);break;case"className":ui(i,"class",u);break;case"tabIndex":ui(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(i,o,u);break;case"style":ml(i,u,p);break;case"data":if(r!=="object"){ui(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ma(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Wt(i,r,"name",f.name,f,null),Wt(i,r,"formEncType",f.formEncType,f,null),Wt(i,r,"formMethod",f.formMethod,f,null),Wt(i,r,"formTarget",f.formTarget,f,null)):(Wt(i,r,"encType",f.encType,f,null),Wt(i,r,"method",f.method,f,null),Wt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ma(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ah);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ma(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Ss(i,"popover",u);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ss(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=hd.get(o)||o,Ss(i,o,u))}}function Fm(i,r,o,u,f,p){switch(o){case"style":ml(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?On(i,u):(typeof u=="number"||typeof u=="bigint")&&On(i,""+u);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[be]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ss(i,o,u)}}}function $e(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(i,r,p,T,o,null)}}f&&Wt(i,r,"srcSet",o.srcSet,o,null),u&&Wt(i,r,"src",o.src,o,null);return;case"input":Mt("invalid",i);var S=p=T=f=null,x=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":f=J;break;case"type":T=J;break;case"checked":x=J;break;case"defaultChecked":K=J;break;case"value":p=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:Wt(i,r,u,J,o,null)}}Or(i,p,S,x,K,T,f,!1),Oa(i);return;case"select":Mt("invalid",i),u=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:Wt(i,r,f,S,o,null)}r=p,o=T,i.multiple=!!u,r!=null?ji(i,!!u,r,!1):o!=null&&ji(i,!!u,o,!0);return;case"textarea":Mt("invalid",i),p=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Wt(i,r,T,S,o,null)}Mr(i,u,f,p),Oa(i);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(u=o[x],u!=null))switch(x){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Wt(i,r,x,u,o,null)}return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(u=0;u<Zl.length;u++)Mt(Zl[u],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(i,r,K,u,o,null)}return;default:if(pl(r)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&Fm(i,r,J,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&Wt(i,r,S,u,o,null))}function wC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,S=null,x=null,K=null,J=null;for(X in o){var et=o[X];if(o.hasOwnProperty(X)&&et!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":x=et;default:u.hasOwnProperty(X)||Wt(i,r,X,null,u,et)}}for(var $ in u){var X=u[$];if(et=o[$],u.hasOwnProperty($)&&(X!=null||et!=null))switch($){case"type":p=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":J=X;break;case"value":T=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==et&&Wt(i,r,$,X,u,et)}}En(i,T,S,x,K,J,p,f);return;case"select":X=T=S=$=null;for(p in o)if(x=o[p],o.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":X=x;default:u.hasOwnProperty(p)||Wt(i,r,p,null,u,x)}for(f in u)if(p=u[f],x=o[f],u.hasOwnProperty(f)&&(p!=null||x!=null))switch(f){case"value":$=p;break;case"defaultValue":S=p;break;case"multiple":T=p;default:p!==x&&Wt(i,r,f,p,u,x)}r=S,o=T,u=X,$!=null?ji(i,!!o,$,!1):!!u!=!!o&&(r!=null?ji(i,!!o,r,!0):ji(i,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Wt(i,r,S,null,u,f)}for(T in u)if(f=u[T],p=o[T],u.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Wt(i,r,T,f,u,p)}Xt(i,$,X);return;case"option":for(var Et in o)if($=o[Et],o.hasOwnProperty(Et)&&$!=null&&!u.hasOwnProperty(Et))switch(Et){case"selected":i.selected=!1;break;default:Wt(i,r,Et,null,u,$)}for(x in u)if($=u[x],X=o[x],u.hasOwnProperty(x)&&$!==X&&($!=null||X!=null))switch(x){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Wt(i,r,x,$,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in o)$=o[yt],o.hasOwnProperty(yt)&&$!=null&&!u.hasOwnProperty(yt)&&Wt(i,r,yt,null,u,$);for(K in u)if($=u[K],X=o[K],u.hasOwnProperty(K)&&$!==X&&($!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Wt(i,r,K,$,u,X)}return;default:if(pl(r)){for(var Zt in o)$=o[Zt],o.hasOwnProperty(Zt)&&$!==void 0&&!u.hasOwnProperty(Zt)&&Fm(i,r,Zt,void 0,u,$);for(J in u)$=u[J],X=o[J],!u.hasOwnProperty(J)||$===X||$===void 0&&X===void 0||Fm(i,r,J,$,u,X);return}}for(var z in o)$=o[z],o.hasOwnProperty(z)&&$!=null&&!u.hasOwnProperty(z)&&Wt(i,r,z,null,u,$);for(et in u)$=u[et],X=o[et],!u.hasOwnProperty(et)||$===X||$==null&&X==null||Wt(i,r,et,$,u,X)}var Hm=null,qm=null;function wh(i){return i.nodeType===9?i:i.ownerDocument}function W0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Gm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Km=null;function RC(){var i=window.event;return i&&i.type==="popstate"?i===Km?!1:(Km=i,!0):(Km=null,!1)}var J0=typeof setTimeout=="function"?setTimeout:void 0,CC=typeof clearTimeout=="function"?clearTimeout:void 0,tT=typeof Promise=="function"?Promise:void 0,IC=typeof queueMicrotask=="function"?queueMicrotask:typeof tT<"u"?function(i){return tT.resolve(null).then(i).catch(xC)}:J0;function xC(i){setTimeout(function(){throw i})}function zs(i){return i==="head"}function eT(i,r){var o=r,u=0,f=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var T=i.ownerDocument;if(o&1&&tu(T.documentElement),o&2&&tu(T.body),o&4)for(o=T.head,tu(o),T=o.firstChild;T;){var S=T.nextSibling,x=T.nodeName;T[Cr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=S}}if(f===0){i.removeChild(p),lu(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);lu(r)}function Ym(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ym(o),bs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function DC(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Cr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Zn(i.nextSibling),i===null)break}return null}function OC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Zn(i.nextSibling),i===null))return null;return i}function $m(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function MC(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Zn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Xm=null;function nT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function iT(i,r,o){switch(r=wh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function tu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);bs(i)}var zn=new Map,sT=new Set;function Rh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var rs=rt.d;rt.d={f:NC,r:PC,D:VC,C:kC,L:LC,m:UC,X:jC,S:BC,M:zC};function NC(){var i=rs.f(),r=yh();return i||r}function PC(i){var r=oi(i);r!==null&&r.tag===5&&r.type==="form"?A_(r):rs.r(i)}var fo=typeof document>"u"?null:document;function rT(i,r,o){var u=fo;if(u&&typeof r=="string"&&r){var f=Se(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),sT.has(f)||(sT.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),$e(r,"link",i),ge(r),u.head.appendChild(r)))}}function VC(i){rs.D(i),rT("dns-prefetch",i,null)}function kC(i,r){rs.C(i,r),rT("preconnect",i,r)}function LC(i,r,o){rs.L(i,r,o);var u=fo;if(u&&i&&r){var f='link[rel="preload"][as="'+Se(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Se(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Se(o.imageSizes)+'"]')):f+='[href="'+Se(i)+'"]';var p=f;switch(r){case"style":p=mo(i);break;case"script":p=po(i)}zn.has(p)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),zn.set(p,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(eu(p))||r==="script"&&u.querySelector(nu(p))||(r=u.createElement("link"),$e(r,"link",i),ge(r),u.head.appendChild(r)))}}function UC(i,r){rs.m(i,r);var o=fo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Se(u)+'"][href="'+Se(i)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=po(i)}if(!zn.has(p)&&(i=y({rel:"modulepreload",href:i},r),zn.set(p,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(nu(p)))return}u=o.createElement("link"),$e(u,"link",i),ge(u),o.head.appendChild(u)}}}function BC(i,r,o){rs.S(i,r,o);var u=fo;if(u&&i){var f=on(u).hoistableStyles,p=mo(i);r=r||"default";var T=f.get(p);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(eu(p)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=zn.get(p))&&Qm(i,o);var x=T=u.createElement("link");ge(x),$e(x,"link",i),x._p=new Promise(function(K,J){x.onload=K,x.onerror=J}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ch(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(p,T)}}}function jC(i,r){rs.X(i,r);var o=fo;if(o&&i){var u=on(o).hoistableScripts,f=po(i),p=u.get(f);p||(p=o.querySelector(nu(f)),p||(i=y({src:i,async:!0},r),(r=zn.get(f))&&Wm(i,r),p=o.createElement("script"),ge(p),$e(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function zC(i,r){rs.M(i,r);var o=fo;if(o&&i){var u=on(o).hoistableScripts,f=po(i),p=u.get(f);p||(p=o.querySelector(nu(f)),p||(i=y({src:i,async:!0,type:"module"},r),(r=zn.get(f))&&Wm(i,r),p=o.createElement("script"),ge(p),$e(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function aT(i,r,o,u){var f=(f=St.current)?Rh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=mo(o.href),o=on(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=mo(o.href);var p=on(f).hoistableStyles,T=p.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=f.querySelector(eu(i)))&&!p._p&&(T.instance=p,T.state.loading=5),zn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},zn.set(i,o),p||FC(f,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=po(o),o=on(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function mo(i){return'href="'+Se(i)+'"'}function eu(i){return'link[rel="stylesheet"]['+i+"]"}function oT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function FC(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),$e(r,"link",o),ge(r),i.head.appendChild(r))}function po(i){return'[src="'+Se(i)+'"]'}function nu(i){return"script[async]"+i}function lT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Se(o.href)+'"]');if(u)return r.instance=u,ge(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ge(u),$e(u,"style",f),Ch(u,o.precedence,i),r.instance=u;case"stylesheet":f=mo(o.href);var p=i.querySelector(eu(f));if(p)return r.state.loading|=4,r.instance=p,ge(p),p;u=oT(o),(f=zn.get(f))&&Qm(u,f),p=(i.ownerDocument||i).createElement("link"),ge(p);var T=p;return T._p=new Promise(function(S,x){T.onload=S,T.onerror=x}),$e(p,"link",u),r.state.loading|=4,Ch(p,o.precedence,i),r.instance=p;case"script":return p=po(o.src),(f=i.querySelector(nu(p)))?(r.instance=f,ge(f),f):(u=o,(f=zn.get(p))&&(u=y({},o),Wm(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),ge(f),$e(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ch(u,o.precedence,i));return r.instance}function Ch(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===r)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Qm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Wm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Ih=null;function uT(i,r,o){if(Ih===null){var u=new Map,f=Ih=new Map;f.set(o,u)}else f=Ih,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Cr]||p[De]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var S=u.get(T);S?S.push(p):u.set(T,[p])}}return u}function cT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function HC(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function hT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var iu=null;function qC(){}function GC(i,r,o){if(iu===null)throw Error(s(475));var u=iu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=mo(o.href),p=i.querySelector(eu(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=xh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=p,ge(p);return}p=i.ownerDocument||i,o=oT(o),(f=zn.get(f))&&Qm(o,f),p=p.createElement("link"),ge(p);var T=p;T._p=new Promise(function(S,x){T.onload=S,T.onerror=x}),$e(p,"link",o),r.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=xh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function KC(){if(iu===null)throw Error(s(475));var i=iu;return i.stylesheets&&i.count===0&&Zm(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Zm(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function xh(){if(this.count--,this.count===0){if(this.stylesheets)Zm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Dh=null;function Zm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Dh=new Map,r.forEach(YC,i),Dh=null,xh.call(i))}function YC(i,r){if(!(r.state.loading&4)){var o=Dh.get(i);if(o)var u=o.get(null);else{o=new Map,Dh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||u,p===u&&o.set(null,f),o.set(T,f),this.count++,u=xh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var su={$$typeof:j,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function $C(i,r,o,u,f,p,T,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function fT(i,r,o,u,f,p,T,S,x,K,J,et){return i=new $C(i,r,o,T,S,x,K,et),r=1,p===!0&&(r|=24),p=Sn(3,null,null,r),i.current=p,p.stateNode=i,r=Nd(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},Ld(p),i}function dT(i){return i?(i=Ga,i):Ga}function mT(i,r,o,u,f,p){f=dT(f),u.context===null?u.context=f:u.pendingContext=f,u=Is(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=xs(i,u,r),o!==null&&(In(o,i,r),Pl(o,i,r))}function pT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Jm(i,r){pT(i,r),(i=i.alternate)&&pT(i,r)}function gT(i){if(i.tag===13){var r=qa(i,67108864);r!==null&&In(r,i,67108864),Jm(i,67108864)}}var Oh=!0;function XC(i,r,o,u){var f=W.T;W.T=null;var p=rt.p;try{rt.p=2,tp(i,r,o,u)}finally{rt.p=p,W.T=f}}function QC(i,r,o,u){var f=W.T;W.T=null;var p=rt.p;try{rt.p=8,tp(i,r,o,u)}finally{rt.p=p,W.T=f}}function tp(i,r,o,u){if(Oh){var f=ep(u);if(f===null)zm(i,r,u,Mh,o),vT(i,u);else if(ZC(f,i,r,o,u))u.stopPropagation();else if(vT(i,u),r&4&&-1<WC.indexOf(i)){for(;f!==null;){var p=oi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Yn(p.pendingLanes);if(T!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var x=1<<31-Ze(T);S.entanglements[1]|=x,T&=~x}Ei(p),(Gt&6)===0&&(ph=xn()+500,Wl(0))}}break;case 13:S=qa(p,2),S!==null&&In(S,p,2),yh(),Jm(p,2)}if(p=ep(u),p===null&&zm(i,r,u,Mh,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else zm(i,r,u,null,o)}}function ep(i){return i=Mn(i),np(i)}var Mh=null;function np(i){if(Mh=null,i=Li(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Mh=i,null}function yT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rd()){case nl:return 2;case Sa:return 8;case br:case ad:return 32;case Aa:return 268435456;default:return 32}default:return 32}}var ip=!1,Fs=null,Hs=null,qs=null,ru=new Map,au=new Map,Gs=[],WC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vT(i,r){switch(i){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":ru.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(r.pointerId)}}function ou(i,r,o,u,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=oi(r),r!==null&&gT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function ZC(i,r,o,u,f){switch(r){case"focusin":return Fs=ou(Fs,i,r,o,u,f),!0;case"dragenter":return Hs=ou(Hs,i,r,o,u,f),!0;case"mouseover":return qs=ou(qs,i,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return ru.set(p,ou(ru.get(p)||null,i,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,au.set(p,ou(au.get(p)||null,i,r,o,u,f)),!0}return!1}function _T(i){var r=Li(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,yc(i.priority,function(){if(o.tag===13){var u=Cn();u=_s(u);var f=qa(o,u);f!==null&&In(f,o,u),Jm(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=ep(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);zi=u,o.target.dispatchEvent(u),zi=null}else return r=oi(o),r!==null&&gT(r),i.blockedOn=o,!1;r.shift()}return!0}function TT(i,r,o){Nh(i)&&o.delete(r)}function JC(){ip=!1,Fs!==null&&Nh(Fs)&&(Fs=null),Hs!==null&&Nh(Hs)&&(Hs=null),qs!==null&&Nh(qs)&&(qs=null),ru.forEach(TT),au.forEach(TT)}function Ph(i,r){i.blockedOn===r&&(i.blockedOn=null,ip||(ip=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,JC)))}var Vh=null;function ET(i){Vh!==i&&(Vh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vh===i&&(Vh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(np(u||o)===null)continue;break}var p=oi(o);p!==null&&(i.splice(r,3),r-=3,nm(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function lu(i){function r(x){return Ph(x,i)}Fs!==null&&Ph(Fs,i),Hs!==null&&Ph(Hs,i),qs!==null&&Ph(qs,i),ru.forEach(r),au.forEach(r);for(var o=0;o<Gs.length;o++){var u=Gs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Gs.length&&(o=Gs[0],o.blockedOn===null);)_T(o),o.blockedOn===null&&Gs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],T=f[be]||null;if(typeof p=="function")T||ET(o);else if(T){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[be]||null)S=T.formAction;else if(np(f)!==null)continue}else S=T.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),ET(o)}}}function sp(i){this._internalRoot=i}kh.prototype.render=sp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Cn();mT(o,u,i,r,null,null)},kh.prototype.unmount=sp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;mT(i.current,2,null,i,null,null),yh(),r[Dn]=null}};function kh(i){this._internalRoot=i}kh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ts();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Gs.length&&r!==0&&r<Gs[o].priority;o++);Gs.splice(o,0,i),o===0&&_T(i)}};var bT=t.version;if(bT!=="19.1.1")throw Error(s(527,bT,"19.1.1"));rt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var tI={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{fe=Lh.inject(tI),qt=Lh}catch{}}return cu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=U_,p=B_,T=j_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=fT(i,1,!1,null,null,o,u,f,p,T,S,null),i[Dn]=r.current,jm(i),new sp(r)},cu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",p=U_,T=B_,S=j_,x=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),r=fT(i,1,!0,r,o??null,u,f,p,T,S,x,K),r.context=dT(null),o=r.current,u=Cn(),u=_s(u),f=Is(u),f.callback=null,xs(o,f,u),o=u,r.current.lanes=o,ki(r,o),Ei(r),i[Dn]=r.current,jm(i),new kh(r)},cu.version="19.1.1",cu}var MT;function hI(){if(MT)return op.exports;MT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),op.exports=cI(),op.exports}var fI=hI();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var NT="popstate";function dI(e={}){function t(s,a){let{pathname:l,search:c,hash:d}=s.location;return zp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Nu(a)}return pI(t,n,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ni(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mI(){return Math.random().toString(36).substring(2,10)}function PT(e,t){return{usr:e.state,key:e.key,idx:t}}function zp(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ho(t):t,state:n,key:t&&t.key||s||mI()}}function Nu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ho(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function pI(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function E(){d="POP";let P=y(),F=P==null?null:P-g;g=P,m&&m({action:d,location:H.location,delta:F})}function b(P,F){d="PUSH";let U=zp(H.location,P,F);g=y()+1;let j=PT(U,g),nt=H.createHref(U);try{c.pushState(j,"",nt)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign(nt)}l&&m&&m({action:d,location:H.location,delta:1})}function C(P,F){d="REPLACE";let U=zp(H.location,P,F);g=y();let j=PT(U,g),nt=H.createHref(U);c.replaceState(j,"",nt),l&&m&&m({action:d,location:H.location,delta:0})}function N(P){return gI(P)}let H={get action(){return d},get location(){return e(a,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(NT,E),m=P,()=>{a.removeEventListener(NT,E),m=null}},createHref(P){return t(a,P)},createURL:N,encodeLocation(P){let F=N(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:C,go(P){return c.go(P)}};return H}function gI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ae(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Nu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function w1(e,t,n="/"){return yI(e,t,n,!1)}function yI(e,t,n,s){let a=typeof t=="string"?Ho(t):t,l=cs(a.pathname||"/",n);if(l==null)return null;let c=R1(e);vI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=xI(l);d=CI(c[m],g,s)}return d}function R1(e,t=[],n=[],s="",a=!1){let l=(c,d,m=a,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;ae(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let E=ls([s,y.relativePath]),b=n.concat(y);c.children&&c.children.length>0&&(ae(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),R1(c.children,t,b,E,m)),!(c.path==null&&!c.index)&&t.push({path:E,score:wI(E,c.index),routesMeta:b})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of C1(c.path))l(c,d,!0,m)}),t}function C1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=C1(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function vI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:RI(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var _I=/^:[\w-]+$/,TI=3,EI=2,bI=1,SI=10,AI=-2,VT=e=>e==="*";function wI(e,t){let n=e.split("/"),s=n.length;return n.some(VT)&&(s+=AI),t&&(s+=EI),n.filter(a=>!VT(a)).reduce((a,l)=>a+(_I.test(l)?TI:l===""?bI:SI),s)}function RI(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function CI(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",E=hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),b=m.route;if(!E&&g&&n&&!s[s.length-1].route.index&&(E=hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:ls([l,E.pathname]),pathnameBase:NI(ls([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=ls([l,E.pathnameBase]))}return c}function hf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=II(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:E},b)=>{if(y==="*"){let N=d[b]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const C=d[b];return E&&!C?g[y]=void 0:g[y]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:e}}function II(e,t=!1,n=!0){ni(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function xI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ni(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function DI(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Ho(e):e;return{pathname:n?n.startsWith("/")?n:OI(n,t):t,search:PI(s),hash:VI(a)}}function OI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function hp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gg(e){let t=MI(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Kg(e,t,n,s=!1){let a;typeof e=="string"?a=Ho(e):(a={...e},ae(!a.pathname||!a.pathname.includes("?"),hp("?","pathname","search",a)),ae(!a.pathname||!a.pathname.includes("#"),hp("#","pathname","hash",a)),ae(!a.search||!a.search.includes("#"),hp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let E=t.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;a.pathname=b.join("/")}d=E>=0?t[E]:"/"}let m=DI(a,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var ls=e=>e.join("/").replace(/\/\/+/g,"/"),NI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,VI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var I1=["POST","PUT","PATCH","DELETE"];new Set(I1);var LI=["GET",...I1];new Set(LI);var qo=L.createContext(null);qo.displayName="DataRouter";var Nf=L.createContext(null);Nf.displayName="DataRouterState";L.createContext(!1);var x1=L.createContext({isTransitioning:!1});x1.displayName="ViewTransition";var UI=L.createContext(new Map);UI.displayName="Fetchers";var BI=L.createContext(null);BI.displayName="Await";var si=L.createContext(null);si.displayName="Navigation";var Xu=L.createContext(null);Xu.displayName="Location";var Mi=L.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var Yg=L.createContext(null);Yg.displayName="RouteError";function jI(e,{relative:t}={}){ae(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(si),{hash:a,pathname:l,search:c}=Qu(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:ls([n,l])),s.createHref({pathname:d,search:c,hash:a})}function Go(){return L.useContext(Xu)!=null}function pr(){return ae(Go(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Xu).location}var D1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O1(e){L.useContext(si).static||L.useLayoutEffect(e)}function Pf(){let{isDataRoute:e}=L.useContext(Mi);return e?JI():zI()}function zI(){ae(Go(),"useNavigate() may be used only in the context of a <Router> component.");let e=L.useContext(qo),{basename:t,navigator:n}=L.useContext(si),{matches:s}=L.useContext(Mi),{pathname:a}=pr(),l=JSON.stringify(Gg(s)),c=L.useRef(!1);return O1(()=>{c.current=!0}),L.useCallback((m,g={})=>{if(ni(c.current,D1),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Kg(m,JSON.parse(l),a,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ls([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,l,a,e])}L.createContext(null);function Qu(e,{relative:t}={}){let{matches:n}=L.useContext(Mi),{pathname:s}=pr(),a=JSON.stringify(Gg(n));return L.useMemo(()=>Kg(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function FI(e,t){return M1(e,t)}function M1(e,t,n,s,a){ae(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=L.useContext(si),{matches:c}=L.useContext(Mi),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",E=d&&d.route;{let U=E&&E.path||"";N1(g,!E||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=pr(),C;if(t){let U=typeof t=="string"?Ho(t):t;ae(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),C=U}else C=b;let N=C.pathname||"/",H=N;if(y!=="/"){let U=y.replace(/^\//,"").split("/");H="/"+N.replace(/^\//,"").split("/").slice(U.length).join("/")}let P=w1(e,{pathname:H});ni(E||P!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ni(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=YI(P&&P.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:ls([y,l.encodeLocation?l.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:ls([y,l.encodeLocation?l.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),c,n,s,a);return t&&F?L.createElement(Xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},F):F}function HI(){let e=ZI(),t=kI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:a},n):null,c)}var qI=L.createElement(HI,null),GI=class extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?L.createElement(Mi.Provider,{value:this.props.routeContext},L.createElement(Yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KI({routeContext:e,match:t,children:n}){let s=L.useContext(qo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Mi.Provider,{value:e},n)}function YI(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ae(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,m=-1;if(n)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:b}=n,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||C){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,E)=>{let b,C=!1,N=null,H=null;n&&(b=c&&y.route.id?c[y.route.id]:void 0,N=y.route.errorElement||qI,d&&(m<0&&E===0?(N1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,H=null):m===E&&(C=!0,H=y.route.hydrateFallbackElement||null)));let P=t.concat(l.slice(0,E+1)),F=()=>{let U;return b?U=N:C?U=H:y.route.Component?U=L.createElement(y.route.Component,null):y.route.element?U=y.route.element:U=g,L.createElement(KI,{match:y,routeContext:{outlet:g,matches:P,isDataRoute:n!=null},children:U})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?L.createElement(GI,{location:n.location,revalidation:n.revalidation,component:N,error:b,children:F(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):F()},null)}function $g(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $I(e){let t=L.useContext(qo);return ae(t,$g(e)),t}function XI(e){let t=L.useContext(Nf);return ae(t,$g(e)),t}function QI(e){let t=L.useContext(Mi);return ae(t,$g(e)),t}function Xg(e){let t=QI(e),n=t.matches[t.matches.length-1];return ae(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function WI(){return Xg("useRouteId")}function ZI(){let e=L.useContext(Yg),t=XI("useRouteError"),n=Xg("useRouteError");return e!==void 0?e:t.errors?.[n]}function JI(){let{router:e}=$I("useNavigate"),t=Xg("useNavigate"),n=L.useRef(!1);return O1(()=>{n.current=!0}),L.useCallback(async(a,l={})=>{ni(n.current,D1),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var kT={};function N1(e,t,n){!t&&!kT[e]&&(kT[e]=!0,ni(!1,n))}L.memo(tx);function tx({routes:e,future:t,state:n,unstable_onError:s}){return M1(e,void 0,n,s,t)}function P1({to:e,replace:t,state:n,relative:s}){ae(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=L.useContext(si);ni(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(Mi),{pathname:c}=pr(),d=Pf(),m=Kg(e,Gg(l),c,s==="path"),g=JSON.stringify(m);return L.useEffect(()=>{d(JSON.parse(g),{replace:t,state:n,relative:s})},[d,g,s,t,n]),null}function ia(e){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ex({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){ae(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Ho(n));let{pathname:m="/",search:g="",hash:y="",state:E=null,key:b="default"}=n,C=L.useMemo(()=>{let N=cs(m,c);return N==null?null:{location:{pathname:N,search:g,hash:y,state:E,key:b},navigationType:s}},[c,m,g,y,E,b,s]);return ni(C!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:L.createElement(si.Provider,{value:d},L.createElement(Xu.Provider,{children:t,value:C}))}function nx({children:e,location:t}){return FI(Fp(e),t)}function Fp(e,t=[]){let n=[];return L.Children.forEach(e,(s,a)=>{if(!L.isValidElement(s))return;let l=[...t,a];if(s.type===L.Fragment){n.push.apply(n,Fp(s.props.children,l));return}ae(s.type===ia,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Fp(s.props.children,l)),n.push(c)}),n}var $h="get",Xh="application/x-www-form-urlencoded";function Vf(e){return e!=null&&typeof e.tagName=="string"}function ix(e){return Vf(e)&&e.tagName.toLowerCase()==="button"}function sx(e){return Vf(e)&&e.tagName.toLowerCase()==="form"}function rx(e){return Vf(e)&&e.tagName.toLowerCase()==="input"}function ax(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ox(e,t){return e.button===0&&(!t||t==="_self")&&!ax(e)}var Uh=null;function lx(){if(Uh===null)try{new FormData(document.createElement("form"),0),Uh=!1}catch{Uh=!0}return Uh}var ux=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fp(e){return e!=null&&!ux.has(e)?(ni(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xh}"`),null):e}function cx(e,t){let n,s,a,l,c;if(sx(e)){let d=e.getAttribute("action");s=d?cs(d,t):null,n=e.getAttribute("method")||$h,a=fp(e.getAttribute("enctype"))||Xh,l=new FormData(e)}else if(ix(e)||rx(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?cs(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||$h,a=fp(e.getAttribute("formenctype"))||fp(d.getAttribute("enctype"))||Xh,l=new FormData(d,e),!lx()){let{name:g,type:y,value:E}=e;if(y==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,E)}}else{if(Vf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$h,s=null,a=Xh,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hx(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&cs(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function fx(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dx(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function mx(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await fx(l,n);return c.links?c.links():[]}return[]}));return vx(s.flat(1).filter(dx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function LT(e,t,n,s,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?t.filter((m,g)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function px(e,t,{includeHydrateFallback:n}={}){return gx(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function gx(e){return[...new Set(e)]}function yx(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function vx(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(yx(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function V1(){let e=L.useContext(qo);return Qg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _x(){let e=L.useContext(Nf);return Qg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Wg=L.createContext(void 0);Wg.displayName="FrameworkContext";function k1(){let e=L.useContext(Wg);return Qg(e,"You must render this element inside a <HydratedRouter> element"),e}function Tx(e,t){let n=L.useContext(Wg),[s,a]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:E}=t,b=L.useRef(null);L.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let H=F=>{F.forEach(U=>{c(U.isIntersecting)})},P=new IntersectionObserver(H,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[e]),L.useEffect(()=>{if(s){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[s]);let C=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:hu(d,C),onBlur:hu(m,N),onMouseEnter:hu(g,C),onMouseLeave:hu(y,N),onTouchStart:hu(E,C)}]:[!1,b,{}]}function hu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ex({page:e,...t}){let{router:n}=V1(),s=L.useMemo(()=>w1(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?L.createElement(Sx,{page:e,matches:s,...t}):null}function bx(e){let{manifest:t,routeModules:n}=k1(),[s,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return mx(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function Sx({page:e,matches:t,...n}){let s=pr(),{manifest:a,routeModules:l}=k1(),{basename:c}=V1(),{loaderData:d,matches:m}=_x(),g=L.useMemo(()=>LT(e,t,m,a,s,"data"),[e,t,m,a,s]),y=L.useMemo(()=>LT(e,t,m,a,s,"assets"),[e,t,m,a,s]),E=L.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let N=new Set,H=!1;if(t.forEach(F=>{let U=a.routes[F.route.id];!U||!U.hasLoader||(!g.some(j=>j.route.id===F.route.id)&&F.route.id in d&&l[F.route.id]?.shouldRevalidate||U.hasClientLoader?H=!0:N.add(F.route.id))}),N.size===0)return[];let P=hx(e,c,"data");return H&&N.size>0&&P.searchParams.set("_routes",t.filter(F=>N.has(F.route.id)).map(F=>F.route.id).join(",")),[P.pathname+P.search]},[c,d,s,a,g,t,e,l]),b=L.useMemo(()=>px(y,a),[y,a]),C=bx(y);return L.createElement(L.Fragment,null,E.map(N=>L.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),b.map(N=>L.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),C.map(({key:N,link:H})=>L.createElement("link",{key:N,nonce:n.nonce,...H})))}function Ax(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var L1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L1&&(window.__reactRouterVersion="7.8.2")}catch{}function wx({basename:e,children:t,window:n}){let s=L.useRef();s.current==null&&(s.current=dI({window:n,v5Compat:!0}));let a=s.current,[l,c]=L.useState({action:a.action,location:a.location}),d=L.useCallback(m=>{L.startTransition(()=>c(m))},[c]);return L.useLayoutEffect(()=>a.listen(d),[a,d]),L.createElement(ex,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var U1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ti=L.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:E,...b},C){let{basename:N}=L.useContext(si),H=typeof g=="string"&&U1.test(g),P,F=!1;if(typeof g=="string"&&H&&(P=g,L1))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=cs(O.pathname,N);O.origin===R.origin&&V!=null?g=V+O.search+O.hash:F=!0}catch{ni(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=jI(g,{relative:a}),[j,nt,Z]=Tx(s,b),ut=Ix(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:E});function I(R){t&&t(R),R.defaultPrevented||ut(R)}let w=L.createElement("a",{...b,...Z,href:P||U,onClick:F||l?t:I,ref:Ax(C,nt),target:m,"data-discover":!H&&n==="render"?"true":void 0});return j&&!H?L.createElement(L.Fragment,null,w,L.createElement(Ex,{page:U})):w});ti.displayName="Link";var Zg=L.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},y){let E=Qu(c,{relative:g.relative}),b=pr(),C=L.useContext(Nf),{navigator:N,basename:H}=L.useContext(si),P=C!=null&&Nx(E)&&d===!0,F=N.encodeLocation?N.encodeLocation(E).pathname:E.pathname,U=b.pathname,j=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(U=U.toLowerCase(),j=j?j.toLowerCase():null,F=F.toLowerCase()),j&&H&&(j=cs(j,H)||j);const nt=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let Z=U===F||!a&&U.startsWith(F)&&U.charAt(nt)==="/",ut=j!=null&&(j===F||!a&&j.startsWith(F)&&j.charAt(F.length)==="/"),I={isActive:Z,isPending:ut,isTransitioning:P},w=Z?t:void 0,R;typeof s=="function"?R=s(I):R=[s,Z?"active":null,ut?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(I):l;return L.createElement(ti,{...g,"aria-current":w,className:R,ref:y,style:O,to:c,viewTransition:d},typeof m=="function"?m(I):m)});Zg.displayName="NavLink";var Rx=L.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=$h,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:E,...b},C)=>{let N=Ox(),H=Mx(d,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&U1.test(d),U=j=>{if(m&&m(j),j.defaultPrevented)return;j.preventDefault();let nt=j.nativeEvent.submitter,Z=nt?.getAttribute("formmethod")||c;N(nt||j.currentTarget,{fetcherKey:t,method:Z,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:E})};return L.createElement("form",{ref:C,method:P,action:H,onSubmit:s?m:U,...b,"data-discover":!F&&e==="render"?"true":void 0})});Rx.displayName="Form";function Cx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B1(e){let t=L.useContext(qo);return ae(t,Cx(e)),t}function Ix(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Pf(),m=pr(),g=Qu(e,{relative:l});return L.useCallback(y=>{if(ox(y,t)){y.preventDefault();let E=n!==void 0?n:Nu(m)===Nu(g);d(e,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,n,s,t,e,a,l,c])}var xx=0,Dx=()=>`__${String(++xx)}__`;function Ox(){let{router:e}=B1("useSubmit"),{basename:t}=L.useContext(si),n=WI();return L.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=cx(s,t);if(a.navigate===!1){let y=a.fetcherKey||Dx();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function Mx(e,{relative:t}={}){let{basename:n}=L.useContext(si),s=L.useContext(Mi);ae(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Qu(e||".",{relative:t})},c=pr();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ls([n,l.pathname])),Nu(l)}function Nx(e,{relative:t}={}){let n=L.useContext(x1);ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=B1("useViewTransitionState"),a=Qu(e,{relative:t});if(!n.isTransitioning)return!1;let l=cs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=cs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hf(a.pathname,c)!=null||hf(a.pathname,l)!=null}const Px=e=>{const[t,n]=L.useState([]),[s,a]=L.useState(!0);return L.useEffect(()=>{fetch(e).then(l=>l.json()).then(l=>{n(l),a(!1)}).catch(l=>{console.log(l)})},[]),{items:t,loading:s}},kf=L.createContext(),j1=L.createContext({});function Vx(e){const t=L.useRef(null);return t.current===null&&(t.current=e()),t.current}const Jg=typeof window<"u",kx=Jg?L.useLayoutEffect:L.useEffect,ty=L.createContext(null);function ey(e,t){e.indexOf(t)===-1&&e.push(t)}function ny(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const hs=(e,t,n)=>n>t?t:n<e?e:n;let iy=()=>{};const fs={},z1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function F1(e){return typeof e=="object"&&e!==null}const H1=e=>/^0[^.\s]+$/u.test(e);function sy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Kn=e=>e,Lx=(e,t)=>n=>t(e(n)),Wu=(...e)=>e.reduce(Lx),Pu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class ry{constructor(){this.subscriptions=[]}add(t){return ey(this.subscriptions,t),()=>ny(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wi=e=>e*1e3,Gn=e=>e/1e3;function q1(e,t){return t?e*(1e3/t):0}const G1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Ux=1e-7,Bx=12;function jx(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=G1(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>Ux&&++d<Bx);return c}function Zu(e,t,n,s){if(e===t&&n===s)return Kn;const a=l=>jx(l,0,1,e,n);return l=>l===0||l===1?l:G1(a(l),t,s)}const K1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Y1=e=>t=>1-e(1-t),$1=Zu(.33,1.53,.69,.99),ay=Y1($1),X1=K1(ay),Q1=e=>(e*=2)<1?.5*ay(e):.5*(2-Math.pow(2,-10*(e-1))),oy=e=>1-Math.sin(Math.acos(e)),W1=Y1(oy),Z1=K1(oy),zx=Zu(.42,0,1,1),Fx=Zu(0,0,.58,1),J1=Zu(.42,0,.58,1),Hx=e=>Array.isArray(e)&&typeof e[0]!="number",tS=e=>Array.isArray(e)&&typeof e[0]=="number",qx={linear:Kn,easeIn:zx,easeInOut:J1,easeOut:Fx,circIn:oy,circInOut:Z1,circOut:W1,backIn:ay,backInOut:X1,backOut:$1,anticipate:Q1},Gx=e=>typeof e=="string",UT=e=>{if(tS(e)){iy(e.length===4);const[t,n,s,a]=e;return Zu(t,n,s,a)}else if(Gx(e))return qx[e];return e},Bh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Kx(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,E=!1,b=!1)=>{const N=b&&a?n:s;return E&&c.add(y),N.has(y)||N.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const Yx=40;function eS(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Bh.reduce((j,nt)=>(j[nt]=Kx(l),j),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:E,preRender:b,render:C,postRender:N}=c,H=()=>{const j=fs.useManualTiming?a.timestamp:performance.now();n=!1,fs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(j-a.timestamp,Yx),1)),a.timestamp=j,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),E.process(a),b.process(a),C.process(a),N.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(H))},P=()=>{n=!0,s=!0,a.isProcessing||e(H)};return{schedule:Bh.reduce((j,nt)=>{const Z=c[nt];return j[nt]=(ut,I=!1,w=!1)=>(n||P(),Z.schedule(ut,I,w)),j},{}),cancel:j=>{for(let nt=0;nt<Bh.length;nt++)c[Bh[nt]].cancel(j)},state:a,steps:c}}const{schedule:re,cancel:or,state:Xe,steps:dp}=eS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kn,!0);let Qh;function $x(){Qh=void 0}const _n={now:()=>(Qh===void 0&&_n.set(Xe.isProcessing||fs.useManualTiming?Xe.timestamp:performance.now()),Qh),set:e=>{Qh=e,queueMicrotask($x)}},nS=e=>t=>typeof t=="string"&&t.startsWith(e),ly=nS("--"),Xx=nS("var(--"),uy=e=>Xx(e)?Qx.test(e.split("/*")[0].trim()):!1,Qx=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ko={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vu={...Ko,transform:e=>hs(0,1,e)},jh={...Ko,default:1},Tu=e=>Math.round(e*1e5)/1e5,cy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Wx(e){return e==null}const Zx=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hy=(e,t)=>n=>!!(typeof n=="string"&&Zx.test(n)&&n.startsWith(e)||t&&!Wx(n)&&Object.prototype.hasOwnProperty.call(n,t)),iS=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(cy);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},Jx=e=>hs(0,255,e),mp={...Ko,transform:e=>Math.round(Jx(e))},aa={test:hy("rgb","red"),parse:iS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+mp.transform(e)+", "+mp.transform(t)+", "+mp.transform(n)+", "+Tu(Vu.transform(s))+")"};function t2(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Hp={test:hy("#"),parse:t2,transform:aa.transform},Ju=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$s=Ju("deg"),Ri=Ju("%"),bt=Ju("px"),e2=Ju("vh"),n2=Ju("vw"),BT={...Ri,parse:e=>Ri.parse(e)/100,transform:e=>Ri.transform(e*100)},To={test:hy("hsl","hue"),parse:iS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ri.transform(Tu(t))+", "+Ri.transform(Tu(n))+", "+Tu(Vu.transform(s))+")"},Ce={test:e=>aa.test(e)||Hp.test(e)||To.test(e),parse:e=>aa.test(e)?aa.parse(e):To.test(e)?To.parse(e):Hp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?aa.transform(e):To.transform(e),getAnimatableNone:e=>{const t=Ce.parse(e);return t.alpha=0,Ce.transform(t)}},i2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function s2(e){return isNaN(e)&&typeof e=="string"&&(e.match(cy)?.length||0)+(e.match(i2)?.length||0)>0}const sS="number",rS="color",r2="var",a2="var(",jT="${}",o2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ku(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(o2,m=>(Ce.test(m)?(s.color.push(l),a.push(rS),n.push(Ce.parse(m))):m.startsWith(a2)?(s.var.push(l),a.push(r2),n.push(m)):(s.number.push(l),a.push(sS),n.push(parseFloat(m))),++l,jT)).split(jT);return{values:n,split:d,indexes:s,types:a}}function aS(e){return ku(e).values}function oS(e){const{split:t,types:n}=ku(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===sS?l+=Tu(a[c]):d===rS?l+=Ce.transform(a[c]):l+=a[c]}return l}}const l2=e=>typeof e=="number"?0:Ce.test(e)?Ce.getAnimatableNone(e):e;function u2(e){const t=aS(e);return oS(e)(t.map(l2))}const lr={test:s2,parse:aS,createTransformer:oS,getAnimatableNone:u2};function pp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function c2({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=pp(m,d,e+1/3),l=pp(m,d,e),c=pp(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function ff(e,t){return n=>n>0?t:e}const ue=(e,t,n)=>e+(t-e)*n,gp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},h2=[Hp,aa,To],f2=e=>h2.find(t=>t.test(e));function zT(e){const t=f2(e);if(!t)return!1;let n=t.parse(e);return t===To&&(n=c2(n)),n}const FT=(e,t)=>{const n=zT(e),s=zT(t);if(!n||!s)return ff(e,t);const a={...n};return l=>(a.red=gp(n.red,s.red,l),a.green=gp(n.green,s.green,l),a.blue=gp(n.blue,s.blue,l),a.alpha=ue(n.alpha,s.alpha,l),aa.transform(a))},qp=new Set(["none","hidden"]);function d2(e,t){return qp.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function m2(e,t){return n=>ue(e,t,n)}function fy(e){return typeof e=="number"?m2:typeof e=="string"?uy(e)?ff:Ce.test(e)?FT:y2:Array.isArray(e)?lS:typeof e=="object"?Ce.test(e)?FT:p2:ff}function lS(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>fy(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function p2(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=fy(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function g2(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const y2=(e,t)=>{const n=lr.createTransformer(t),s=ku(e),a=ku(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?qp.has(e)&&!a.values.length||qp.has(t)&&!s.values.length?d2(e,t):Wu(lS(g2(s,a),a.values),n):ff(e,t)};function uS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ue(e,t,n):fy(e)(e,t)}const v2=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>re.update(t,n),stop:()=>or(t),now:()=>Xe.isProcessing?Xe.timestamp:_n.now()}},cS=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},df=2e4;function dy(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<df;)t+=n,s=e.next(t);return t>=df?1/0:t}function _2(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(dy(s),df);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Gn(a)}}const T2=5;function hS(e,t,n){const s=Math.max(t-T2,0);return q1(n-e(s),t-s)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yp=.001;function E2({duration:e=pe.duration,bounce:t=pe.bounce,velocity:n=pe.velocity,mass:s=pe.mass}){let a,l,c=1-t;c=hs(pe.minDamping,pe.maxDamping,c),e=hs(pe.minDuration,pe.maxDuration,Gn(e)),c<1?(a=g=>{const y=g*c,E=y*e,b=y-n,C=Gp(g,c),N=Math.exp(-E);return yp-b/C*N},l=g=>{const E=g*c*e,b=E*n+n,C=Math.pow(c,2)*Math.pow(g,2)*e,N=Math.exp(-E),H=Gp(Math.pow(g,2),c);return(-a(g)+yp>0?-1:1)*((b-C)*N)/H}):(a=g=>{const y=Math.exp(-g*e),E=(g-n)*e+1;return-yp+y*E},l=g=>{const y=Math.exp(-g*e),E=(n-g)*(e*e);return y*E});const d=5/e,m=S2(a,l,d);if(e=wi(e),isNaN(m))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const b2=12;function S2(e,t,n){let s=n;for(let a=1;a<b2;a++)s=s-e(s)/t(s);return s}function Gp(e,t){return e*Math.sqrt(1-t*t)}const A2=["duration","bounce"],w2=["stiffness","damping","mass"];function HT(e,t){return t.some(n=>e[n]!==void 0)}function R2(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!HT(e,w2)&&HT(e,A2))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*hs(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:pe.mass,stiffness:a,damping:l}}else{const n=E2(e);t={...t,...n,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function mf(e=pe.visualDuration,t=pe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:E,velocity:b,isResolvedFromDuration:C}=R2({...n,velocity:-Gn(n.velocity||0)}),N=b||0,H=g/(2*Math.sqrt(m*y)),P=c-l,F=Gn(Math.sqrt(m/y)),U=Math.abs(P)<5;s||(s=U?pe.restSpeed.granular:pe.restSpeed.default),a||(a=U?pe.restDelta.granular:pe.restDelta.default);let j;if(H<1){const Z=Gp(F,H);j=ut=>{const I=Math.exp(-H*F*ut);return c-I*((N+H*F*P)/Z*Math.sin(Z*ut)+P*Math.cos(Z*ut))}}else if(H===1)j=Z=>c-Math.exp(-F*Z)*(P+(N+F*P)*Z);else{const Z=F*Math.sqrt(H*H-1);j=ut=>{const I=Math.exp(-H*F*ut),w=Math.min(Z*ut,300);return c-I*((N+H*F*P)*Math.sinh(w)+Z*P*Math.cosh(w))/Z}}const nt={calculatedDuration:C&&E||null,next:Z=>{const ut=j(Z);if(C)d.done=Z>=E;else{let I=Z===0?N:0;H<1&&(I=Z===0?wi(N):hS(j,Z,ut));const w=Math.abs(I)<=s,R=Math.abs(c-ut)<=a;d.done=w&&R}return d.value=d.done?c:ut,d},toString:()=>{const Z=Math.min(dy(nt),df),ut=cS(I=>nt.next(Z*I).value,Z,30);return Z+"ms "+ut},toTransition:()=>{}};return nt}mf.applyToOptions=e=>{const t=_2(e,100,mf);return e.ease=t.ease,e.duration=wi(t.duration),e.type="keyframes",e};function Kp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const E=e[0],b={done:!1,value:E},C=w=>d!==void 0&&w<d||m!==void 0&&w>m,N=w=>d===void 0?m:m===void 0||Math.abs(d-w)<Math.abs(m-w)?d:m;let H=n*t;const P=E+H,F=c===void 0?P:c(P);F!==P&&(H=F-E);const U=w=>-H*Math.exp(-w/s),j=w=>F+U(w),nt=w=>{const R=U(w),O=j(w);b.done=Math.abs(R)<=g,b.value=b.done?F:O};let Z,ut;const I=w=>{C(b.value)&&(Z=w,ut=mf({keyframes:[b.value,N(b.value)],velocity:hS(j,w,b.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return I(0),{calculatedDuration:null,next:w=>{let R=!1;return!ut&&Z===void 0&&(R=!0,nt(w),I(w)),Z!==void 0&&w>=Z?ut.next(w-Z):(!R&&nt(w),b)}}}function C2(e,t,n){const s=[],a=n||fs.mix||uS,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Kn:t;d=Wu(m,d)}s.push(d)}return s}function I2(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(iy(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=C2(t,s,a),m=d.length,g=y=>{if(c&&y<e[0])return t[0];let E=0;if(m>1)for(;E<e.length-2&&!(y<e[E+1]);E++);const b=Pu(e[E],e[E+1],y);return d[E](b)};return n?y=>g(hs(e[0],e[l-1],y)):g}function x2(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Pu(0,t,s);e.push(ue(n,1,a))}}function D2(e){const t=[0];return x2(t,e.length-1),t}function O2(e,t){return e.map(n=>n*t)}function M2(e,t){return e.map(()=>t||J1).splice(0,e.length-1)}function Eu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=Hx(s)?s.map(UT):UT(s),l={done:!1,value:t[0]},c=O2(n&&n.length===t.length?n:D2(t),e),d=I2(c,t,{ease:Array.isArray(a)?a:M2(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const N2=e=>e!==null;function my(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(N2),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const P2={decay:Kp,inertia:Kp,tween:Eu,keyframes:Eu,spring:mf};function fS(e){typeof e.type=="string"&&(e.type=P2[e.type])}class py{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const V2=e=>e/100;class gy extends py{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==_n.now()&&this.tick(_n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;fS(t);const{type:n=Eu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Eu;m!==Eu&&typeof d[0]!="number"&&(this.mixKeyframes=Wu(V2,uS(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=dy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:E,repeatType:b,repeatDelay:C,type:N,onUpdate:H,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-g*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,nt=s;if(E){const w=Math.min(this.currentTime,a)/d;let R=Math.floor(w),O=w%1;!O&&w>=1&&(O=1),O===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(b==="reverse"?(O=1-O,C&&(O-=C/d)):b==="mirror"&&(nt=c)),j=hs(0,1,O)*d}const Z=U?{done:!1,value:y[0]}:nt.next(j);l&&(Z.value=l(Z.value));let{done:ut}=Z;!U&&m!==null&&(ut=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return I&&N!==Kp&&(Z.value=my(y,this.options,P,this.speed)),H&&H(Z.value),I&&this.finish(),Z}then(t,n){return this.finished.then(t,n)}get duration(){return Gn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gn(t)}get time(){return Gn(this.currentTime)}set time(t){t=wi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_n.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Gn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=v2,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function k2(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const oa=e=>e*180/Math.PI,Yp=e=>{const t=oa(Math.atan2(e[1],e[0]));return $p(t)},L2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yp,rotateZ:Yp,skewX:e=>oa(Math.atan(e[1])),skewY:e=>oa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$p=e=>(e=e%360,e<0&&(e+=360),e),qT=Yp,GT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),KT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),U2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:GT,scaleY:KT,scale:e=>(GT(e)+KT(e))/2,rotateX:e=>$p(oa(Math.atan2(e[6],e[5]))),rotateY:e=>$p(oa(Math.atan2(-e[2],e[0]))),rotateZ:qT,rotate:qT,skewX:e=>oa(Math.atan(e[4])),skewY:e=>oa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Xp(e){return e.includes("scale")?1:0}function Qp(e,t){if(!e||e==="none")return Xp(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=U2,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=L2,a=d}if(!a)return Xp(t);const l=s[t],c=a[1].split(",").map(j2);return typeof l=="function"?l(c):c[l]}const B2=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Qp(n,t)};function j2(e){return parseFloat(e.trim())}const Yo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$o=new Set(Yo),YT=e=>e===Ko||e===bt,z2=new Set(["x","y","z"]),F2=Yo.filter(e=>!z2.has(e));function H2(e){const t=[];return F2.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ua={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Qp(t,"x"),y:(e,{transform:t})=>Qp(t,"y")};ua.translateX=ua.x;ua.translateY=ua.y;const ca=new Set;let Wp=!1,Zp=!1,Jp=!1;function dS(){if(Zp){const e=Array.from(ca).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=H2(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Zp=!1,Wp=!1,ca.forEach(e=>e.complete(Jp)),ca.clear()}function mS(){ca.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zp=!0)})}function q2(){Jp=!0,mS(),dS(),Jp=!1}class yy{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ca.add(this),Wp||(Wp=!0,re.read(mS),re.resolveKeyframes(dS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}k2(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ca.delete(this)}cancel(){this.state==="scheduled"&&(ca.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const G2=e=>e.startsWith("--");function K2(e,t,n){G2(t)?e.style.setProperty(t,n):e.style[t]=n}const Y2=sy(()=>window.ScrollTimeline!==void 0),$2={};function X2(e,t){const n=sy(e);return()=>$2[t]??n()}const pS=X2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),du=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,$T={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:du([0,.65,.55,1]),circOut:du([.55,0,1,.45]),backIn:du([.31,.01,.66,-.59]),backOut:du([.33,1.53,.69,.99])};function gS(e,t){if(e)return typeof e=="function"?pS()?cS(e,t):"ease-out":tS(e)?du(e):Array.isArray(e)?e.map(n=>gS(n,t)||$T.easeOut):$T[e]}function Q2(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:n};m&&(y.offset=m);const E=gS(d,a);Array.isArray(E)&&(y.easing=E);const b={delay:s,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),e.animate(y,b)}function yS(e){return typeof e=="function"&&"applyToOptions"in e}function W2({type:e,...t}){return yS(e)&&pS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Z2 extends py{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,iy(typeof t.type!="string");const g=W2(t);this.animation=Q2(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=my(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):K2(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Gn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gn(t)}get time(){return Gn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=wi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Y2()?(this.animation.timeline=t,Kn):n(this)}}const vS={anticipate:Q1,backInOut:X1,circInOut:Z1};function J2(e){return e in vS}function tD(e){typeof e.ease=="string"&&J2(e.ease)&&(e.ease=vS[e.ease])}const XT=10;class eD extends Z2{constructor(t){tD(t),fS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new gy({...c,autoplay:!1}),m=wi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-XT).value,d.sample(m).value,XT),d.stop()}}const QT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(lr.test(e)||e==="0")&&!e.startsWith("url("));function nD(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function iD(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=QT(a,t),d=QT(l,t);return!c||!d?!1:nD(e)||(n==="spring"||yS(n))&&s}function tg(e){e.duration=0,e.type="keyframes"}const sD=new Set(["opacity","clipPath","filter","transform"]),rD=sy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aD(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return rD()&&n&&sD.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const oD=40;class lD extends py{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_n.now();const b={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,...E},C=y?.KeyframeResolver||yy;this.keyframeResolver=new C(d,(N,H,P)=>this.onKeyframesResolved(N,H,b,!P),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=_n.now(),iD(t,l,c,d)||((fs.instantAnimations||!m)&&y?.(my(t,s,n)),t[0]=t[t.length-1],tg(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>oD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},C=!g&&aD(b)?new eD({...b,element:b.motionValue.owner.current}):new gy(b);C.finished.then(()=>this.notifyFinished()).catch(Kn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),q2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const uD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cD(e){const t=uD.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function _S(e,t,n=1){const[s,a]=cD(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return z1(c)?parseFloat(c):c}return uy(a)?_S(a,t,n+1):a}function vy(e,t){return e?.[t]??e?.default??e}const TS=new Set(["width","height","top","left","right","bottom",...Yo]),hD={test:e=>e==="auto",parse:e=>e},ES=e=>t=>t.test(e),bS=[Ko,bt,Ri,$s,n2,e2,hD],WT=e=>bS.find(ES(e));function fD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||H1(e):!0}const dD=new Set(["brightness","contrast","saturate","opacity"]);function mD(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(cy)||[];if(!s)return e;const a=n.replace(s,"");let l=dD.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const pD=/\b([a-z-]*)\(.*?\)/gu,eg={...lr,getAnimatableNone:e=>{const t=e.match(pD);return t?t.map(mD).join(" "):e}},ZT={...Ko,transform:Math.round},gD={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:jh,scaleX:jh,scaleY:jh,scaleZ:jh,skew:$s,skewX:$s,skewY:$s,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:Vu,originX:BT,originY:BT,originZ:bt},_y={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...gD,zIndex:ZT,fillOpacity:Vu,strokeOpacity:Vu,numOctaves:ZT},yD={..._y,color:Ce,backgroundColor:Ce,outlineColor:Ce,fill:Ce,stroke:Ce,borderColor:Ce,borderTopColor:Ce,borderRightColor:Ce,borderBottomColor:Ce,borderLeftColor:Ce,filter:eg,WebkitFilter:eg},SS=e=>yD[e];function AS(e,t){let n=SS(e);return n!==eg&&(n=lr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vD=new Set(["auto","none","0"]);function _D(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!vD.has(l)&&ku(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=AS(n,a)}class TD extends yy{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),uy(g))){const y=_S(g,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!TS.has(s)||t.length!==2)return;const[a,l]=t,c=WT(a),d=WT(l);if(c!==d)if(YT(c)&&YT(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else ua[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||fD(t[a]))&&s.push(a);s.length&&_D(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ua[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ua[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function ED(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const wS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function bD(e){return F1(e)&&"offsetHeight"in e}const JT=30,SD=e=>!isNaN(parseFloat(e));class AD{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=_n.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=_n.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=SD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ry);const s=this.events[t].add(n);return t==="change"?()=>{s(),re.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>JT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JT);return q1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function No(e,t){return new AD(e,t)}const{schedule:Ty}=eS(queueMicrotask,!1),Jn={x:!1,y:!1};function RS(){return Jn.x||Jn.y}function wD(e){return e==="x"||e==="y"?Jn[e]?null:(Jn[e]=!0,()=>{Jn[e]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function CS(e,t){const n=ED(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function tE(e){return!(e.pointerType==="touch"||RS())}function RD(e,t,n={}){const[s,a,l]=CS(e,n),c=d=>{if(!tE(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const y=E=>{tE(E)&&(g(E),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const IS=(e,t)=>t?e===t?!0:IS(e,t.parentElement):!1,Ey=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,CD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ID(e){return CD.has(e.tagName)||e.tabIndex!==-1}const Wh=new WeakSet;function eE(e){return t=>{t.key==="Enter"&&e(t)}}function vp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xD=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=eE(()=>{if(Wh.has(n))return;vp(n,"down");const a=eE(()=>{vp(n,"up")}),l=()=>vp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function nE(e){return Ey(e)&&!RS()}function DD(e,t,n={}){const[s,a,l]=CS(e,n),c=d=>{const m=d.currentTarget;if(!nE(d))return;Wh.add(m);const g=t(m,d),y=(C,N)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",b),Wh.has(m)&&Wh.delete(m),nE(C)&&typeof g=="function"&&g(C,{success:N})},E=C=>{y(C,m===window||m===document||n.useGlobalTarget||IS(m,C.target))},b=C=>{y(C,!1)};window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",b,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),bD(d)&&(d.addEventListener("focus",g=>xD(g,a)),!ID(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function xS(e){return F1(e)&&"ownerSVGElement"in e}function OD(e){return xS(e)&&e.tagName==="svg"}const rn=e=>!!(e&&e.getVelocity),MD=[...bS,Ce,lr],ND=e=>MD.find(ES(e)),DS=L.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function PD(e=!0){const t=L.useContext(ty);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=L.useId();L.useEffect(()=>{if(e)return a(l)},[e]);const c=L.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const OS=L.createContext({strict:!1}),iE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Po={};for(const e in iE)Po[e]={isEnabled:t=>iE[e].some(n=>!!t[n])};function VD(e){for(const t in e)Po[t]={...Po[t],...e[t]}}const kD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kD.has(e)}let MS=e=>!pf(e);function LD(e){typeof e=="function"&&(MS=t=>t.startsWith("on")?!pf(t):e(t))}try{LD(require("@emotion/is-prop-valid").default)}catch{}function UD(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(MS(a)||n===!0&&pf(a)||!t&&!pf(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const Lf=L.createContext({});function Uf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Lu(e){return typeof e=="string"||Array.isArray(e)}const by=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sy=["initial",...by];function Bf(e){return Uf(e.animate)||Sy.some(t=>Lu(e[t]))}function NS(e){return!!(Bf(e)||e.variants)}function BD(e,t){if(Bf(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Lu(n)?n:void 0,animate:Lu(s)?s:void 0}}return e.inherit!==!1?t:{}}function jD(e){const{initial:t,animate:n}=BD(e,L.useContext(Lf));return L.useMemo(()=>({initial:t,animate:n}),[sE(t),sE(n)])}function sE(e){return Array.isArray(e)?e.join(" "):e}const Uu={};function zD(e){for(const t in e)Uu[t]=e[t],ly(t)&&(Uu[t].isCSSVariable=!0)}function PS(e,{layout:t,layoutId:n}){return $o.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Uu[e]||e==="opacity")}const FD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HD=Yo.length;function qD(e,t,n){let s="",a=!0;for(let l=0;l<HD;l++){const c=Yo[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=wS(d,_y[c]);if(!m){a=!1;const y=FD[c]||c;s+=`${y}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function Ay(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if($o.has(m)){c=!0;continue}else if(ly(m)){a[m]=g;continue}else{const y=wS(g,_y[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=qD(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}const wy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VS(e,t,n){for(const s in t)!rn(t[s])&&!PS(s,n)&&(e[s]=t[s])}function GD({transformTemplate:e},t){return L.useMemo(()=>{const n=wy();return Ay(n,t,e),Object.assign({},n.vars,n.style)},[t])}function KD(e,t){const n=e.style||{},s={};return VS(s,n,e),Object.assign(s,GD(e,t)),s}function YD(e,t){const n={},s=KD(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const $D={offset:"stroke-dashoffset",array:"stroke-dasharray"},XD={offset:"strokeDashoffset",array:"strokeDasharray"};function QD(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?$D:XD;e[l.offset]=bt.transform(-s);const c=bt.transform(t),d=bt.transform(n);e[l.array]=`${c} ${d}`}function kS(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,g,y){if(Ay(e,d,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:b}=e;E.transform&&(b.transform=E.transform,delete E.transform),(b.transform||E.transformOrigin)&&(b.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),s!==void 0&&(E.scale=s),a!==void 0&&QD(E,a,l,c,!1)}const LS=()=>({...wy(),attrs:{}}),US=e=>typeof e=="string"&&e.toLowerCase()==="svg";function WD(e,t,n,s){const a=L.useMemo(()=>{const l=LS();return kS(l,t,US(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};VS(l,e.style,e),a.style={...l,...a.style}}return a}const ZD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ry(e){return typeof e!="string"||e.includes("-")?!1:!!(ZD.indexOf(e)>-1||/[A-Z]/u.test(e))}function JD(e,t,n,{latestValues:s},a,l=!1){const d=(Ry(e)?WD:YD)(t,s,a,e),m=UD(t,typeof e=="string",l),g=e!==L.Fragment?{...m,...d,ref:n}:{},{children:y}=t,E=L.useMemo(()=>rn(y)?y.get():y,[y]);return L.createElement(e,{...g,children:E})}function rE(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Cy(e,t,n,s){if(typeof t=="function"){const[a,l]=rE(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=rE(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function Zh(e){return rn(e)?e.get():e}function tO({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:eO(n,s,a,e),renderState:t()}}function eO(e,t,n,s){const a={},l=s(e,{});for(const b in l)a[b]=Zh(l[b]);let{initial:c,animate:d}=e;const m=Bf(e),g=NS(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const E=y?d:c;if(E&&typeof E!="boolean"&&!Uf(E)){const b=Array.isArray(E)?E:[E];for(let C=0;C<b.length;C++){const N=Cy(e,b[C]);if(N){const{transitionEnd:H,transition:P,...F}=N;for(const U in F){let j=F[U];if(Array.isArray(j)){const nt=y?j.length-1:0;j=j[nt]}j!==null&&(a[U]=j)}for(const U in H)a[U]=H[U]}}}return a}const BS=e=>(t,n)=>{const s=L.useContext(Lf),a=L.useContext(ty),l=()=>tO(e,t,s,a);return n?l():Vx(l)};function Iy(e,t,n){const{style:s}=e,a={};for(const l in s)(rn(s[l])||t.style&&rn(t.style[l])||PS(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const nO=BS({scrapeMotionValuesFromProps:Iy,createRenderState:wy});function jS(e,t,n){const s=Iy(e,t,n);for(const a in e)if(rn(e[a])||rn(t[a])){const l=Yo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const iO=BS({scrapeMotionValuesFromProps:jS,createRenderState:LS}),sO=Symbol.for("motionComponentSymbol");function Eo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function rO(e,t,n){return L.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Eo(n)&&(n.current=s))},[t])}const xy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aO="framerAppearId",zS="data-"+xy(aO),FS=L.createContext({});function oO(e,t,n,s,a){const{visualElement:l}=L.useContext(Lf),c=L.useContext(OS),d=L.useContext(ty),m=L.useContext(DS).reducedMotion,g=L.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,E=L.useContext(FS);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&lO(g.current,n,a,E);const b=L.useRef(!1);L.useInsertionEffect(()=>{y&&b.current&&y.update(n,d)});const C=n[zS],N=L.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return kx(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),N.current&&y.animationState&&y.animationState.animateChanges())}),L.useEffect(()=>{y&&(!N.current&&y.animationState&&y.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),N.current=!1),y.enteringChildren=void 0)}),y}function lO(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:HS(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Eo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function HS(e){if(e)return e.options.allowProjection!==!1?e.projection:HS(e.parent)}function _p(e,{forwardMotionProps:t=!1}={},n,s){n&&VD(n);const a=Ry(e)?iO:nO;function l(d,m){let g;const y={...L.useContext(DS),...d,layoutId:uO(d)},{isStatic:E}=y,b=jD(d),C=a(d,E);if(!E&&Jg){cO();const N=hO(y);g=N.MeasureLayout,b.visualElement=oO(e,C,y,s,N.ProjectionNode)}return Y.jsxs(Lf.Provider,{value:b,children:[g&&b.visualElement?Y.jsx(g,{visualElement:b.visualElement,...y}):null,JD(e,d,rO(C,b.visualElement,m),C,E,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=L.forwardRef(l);return c[sO]=e,c}function uO({layoutId:e}){const t=L.useContext(j1).id;return t&&e!==void 0?t+"-"+e:e}function cO(e,t){L.useContext(OS).strict}function hO(e){const{drag:t,layout:n}=Po;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function fO(e,t){if(typeof Proxy>"u")return _p;const n=new Map,s=(l,c)=>_p(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,_p(c,void 0,e,t)),n.get(c))})}function qS({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function dO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Tp(e){return e===void 0||e===1}function ng({scale:e,scaleX:t,scaleY:n}){return!Tp(e)||!Tp(t)||!Tp(n)}function sa(e){return ng(e)||GS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function GS(e){return aE(e.x)||aE(e.y)}function aE(e){return e&&e!=="0%"}function gf(e,t,n){const s=e-n,a=t*s;return n+a}function oE(e,t,n,s,a){return a!==void 0&&(e=gf(e,a,s)),gf(e,n,s)+t}function ig(e,t=0,n=1,s,a){e.min=oE(e.min,t,n,s,a),e.max=oE(e.max,t,n,s,a)}function KS(e,{x:t,y:n}){ig(e.x,t.translate,t.scale,t.originPoint),ig(e.y,n.translate,n.scale,n.originPoint)}const lE=.999999999999,uE=1.0000000000001;function pO(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&So(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,KS(e,c)),s&&sa(l.latestValues)&&So(e,l.latestValues))}t.x<uE&&t.x>lE&&(t.x=1),t.y<uE&&t.y>lE&&(t.y=1)}function bo(e,t){e.min=e.min+t,e.max=e.max+t}function cE(e,t,n,s,a=.5){const l=ue(e.min,e.max,a);ig(e,t,n,l,s)}function So(e,t){cE(e.x,t.x,t.scaleX,t.scale,t.originX),cE(e.y,t.y,t.scaleY,t.scale,t.originY)}function YS(e,t){return qS(mO(e.getBoundingClientRect(),t))}function gO(e,t,n){const s=YS(e,n),{scroll:a}=t;return a&&(bo(s.x,a.offset.x),bo(s.y,a.offset.y)),s}const hE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ao=()=>({x:hE(),y:hE()}),fE=()=>({min:0,max:0}),_e=()=>({x:fE(),y:fE()}),sg={current:null},$S={current:!1};function yO(){if($S.current=!0,!!Jg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sg.current=e.matches;e.addEventListener("change",t),t()}else sg.current=!1}const vO=new WeakMap;function _O(e,t,n){for(const s in t){const a=t[s],l=n[s];if(rn(a))e.addValue(s,a);else if(rn(l))e.addValue(s,No(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,No(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const dE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TO{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=_n.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,re.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Bf(n),this.isVariantNode=NS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in E){const C=E[b];m[b]!==void 0&&rn(C)&&C.set(m[b])}}mount(t){this.current=t,vO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),$S.current||yO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),or(this.notifyUpdate),or(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=$o.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&re.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Po){const n=Po[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<dE.length;s++){const a=dE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=_O(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=No(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(z1(s)||H1(s))?s=parseFloat(s):!ND(s)&&lr.test(n)&&(s=AS(t,n)),this.setBaseTarget(t,rn(s)?s.get():s)),rn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Cy(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!rn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ry),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Ty.render(this.render)}}class XS extends TO{constructor(){super(...arguments),this.KeyframeResolver=TD}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function QS(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function EO(e){return window.getComputedStyle(e)}class bO extends XS{constructor(){super(...arguments),this.type="html",this.renderInstance=QS}readValueFromInstance(t,n){if($o.has(n))return this.projection?.isProjecting?Xp(n):B2(t,n);{const s=EO(t),a=(ly(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return YS(t,n)}build(t,n,s){Ay(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Iy(t,n,s)}}const WS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SO(e,t,n,s){QS(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(WS.has(a)?a:xy(a),t.attrs[a])}class AO extends XS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_e}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if($o.has(n)){const s=SS(n);return s&&s.default||0}return n=WS.has(n)?n:xy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return jS(t,n,s)}build(t,n,s){kS(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){SO(t,n,s,a)}mount(t){this.isSVGTag=US(t.tagName),super.mount(t)}}const wO=(e,t)=>Ry(e)?new AO(t):new bO(t,{allowProjection:e!==L.Fragment});function Ro(e,t,n){const s=e.getProps();return Cy(s,t,n!==void 0?n:s.custom,e)}const rg=e=>Array.isArray(e);function RO(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,No(n))}function CO(e){return rg(e)?e[e.length-1]||0:e}function IO(e,t){const n=Ro(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=CO(l[c]);RO(e,c,d)}}function xO(e){return!!(rn(e)&&e.add)}function ag(e,t){const n=e.getValue("willChange");if(xO(n))return n.add(t);if(!n&&fs.WillChange){const s=new fs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function ZS(e){return e.props[zS]}const DO=e=>e!==null;function OO(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(DO),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const MO={type:"spring",stiffness:500,damping:25,restSpeed:10},NO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),PO={type:"keyframes",duration:.8},VO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kO=(e,{keyframes:t})=>t.length>2?PO:$o.has(e)?e.startsWith("scale")?NO(t[1]):MO:VO;function LO({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Dy=(e,t,n,s={},a,l)=>c=>{const d=vy(s,e)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-wi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};LO(d)||Object.assign(y,kO(e,y)),y.duration&&(y.duration=wi(y.duration)),y.repeatDelay&&(y.repeatDelay=wi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let E=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(tg(y),y.delay===0&&(E=!0)),(fs.instantAnimations||fs.skipAnimations)&&(E=!0,tg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,E&&!l&&t.get()!==void 0){const b=OO(y.keyframes,d);if(b!==void 0){re.update(()=>{y.onUpdate(b),y.onComplete()});return}}return d.isSync?new gy(y):new lD(y)};function UO({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function JS(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const m=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const E=e.getValue(y,e.latestValues[y]??null),b=d[y];if(b===void 0||g&&UO(g,y))continue;const C={delay:n,...vy(l||{},y)},N=E.get();if(N!==void 0&&!E.isAnimating&&!Array.isArray(b)&&b===N&&!C.velocity)continue;let H=!1;if(window.MotionHandoffAnimation){const F=ZS(e);if(F){const U=window.MotionHandoffAnimation(F,y,re);U!==null&&(C.startTime=U,H=!0)}}ag(e,y),E.start(Dy(y,E,b,e.shouldReduceMotion&&TS.has(y)?{type:!1}:C,e,H));const P=E.animation;P&&m.push(P)}return c&&Promise.all(m).then(()=>{re.update(()=>{c&&IO(e,c)})}),m}function tA(e,t,n,s=0,a=1){const l=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function og(e,t,n={}){const s=Ro(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(JS(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:E}=a;return BO(e,t,m,g,y,E,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function BO(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(og(m,t,{...c,delay:n+(typeof s=="function"?0:s)+tA(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function jO(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>og(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=og(e,t,n);else{const a=typeof t=="function"?Ro(e,t,n.custom):t;s=Promise.all(JS(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function eA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const zO=Sy.length;function nA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?nA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<zO;n++){const s=Sy[n],a=e.props[s];(Lu(a)||a===!1)&&(t[s]=a)}return t}const FO=[...by].reverse(),HO=by.length;function qO(e){return t=>Promise.all(t.map(({animation:n,options:s})=>jO(e,n,s)))}function GO(e){let t=qO(e),n=mE(),s=!0;const a=m=>(g,y)=>{const E=Ro(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(E){const{transition:b,transitionEnd:C,...N}=E;g={...g,...N,...C}}return g};function l(m){t=m(e)}function c(m){const{props:g}=e,y=nA(e.parent)||{},E=[],b=new Set;let C={},N=1/0;for(let P=0;P<HO;P++){const F=FO[P],U=n[F],j=g[F]!==void 0?g[F]:y[F],nt=Lu(j),Z=F===m?U.isActive:null;Z===!1&&(N=P);let ut=j===y[F]&&j!==g[F]&&nt;if(ut&&s&&e.manuallyAnimateOnMount&&(ut=!1),U.protectedKeys={...C},!U.isActive&&Z===null||!j&&!U.prevProp||Uf(j)||typeof j=="boolean")continue;const I=KO(U.prevProp,j);let w=I||F===m&&U.isActive&&!ut&&nt||P>N&&nt,R=!1;const O=Array.isArray(j)?j:[j];let V=O.reduce(a(F),{});Z===!1&&(V={});const{prevResolvedValues:B={}}=U,D={...B,...V},he=rt=>{w=!0,b.has(rt)&&(R=!0,b.delete(rt)),U.needsAnimating[rt]=!0;const ht=e.getValue(rt);ht&&(ht.liveStyle=!1)};for(const rt in D){const ht=V[rt],Ct=B[rt];if(C.hasOwnProperty(rt))continue;let M=!1;rg(ht)&&rg(Ct)?M=!eA(ht,Ct):M=ht!==Ct,M?ht!=null?he(rt):b.add(rt):ht!==void 0&&b.has(rt)?he(rt):U.protectedKeys[rt]=!0}U.prevProp=j,U.prevResolvedValues=V,U.isActive&&(C={...C,...V}),s&&e.blockInitialAnimation&&(w=!1);const $t=ut&&I;w&&(!$t||R)&&E.push(...O.map(rt=>{const ht={type:F};if(typeof rt=="string"&&s&&!$t&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ct}=e,M=Ro(Ct,rt);if(Ct.enteringChildren&&M){const{delayChildren:st}=M.transition||{};ht.delay=tA(Ct.enteringChildren,e,st)}}return{animation:rt,options:ht}}))}if(b.size){const P={};if(typeof g.initial!="boolean"){const F=Ro(e,Array.isArray(g.initial)?g.initial[0]:g.initial);F&&F.transition&&(P.transition=F.transition)}b.forEach(F=>{const U=e.getBaseTarget(F),j=e.getValue(F);j&&(j.liveStyle=!0),P[F]=U??null}),E.push({animation:P})}let H=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(H=!1),s=!1,H?t(E):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(E=>E.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=mE(),s=!0}}}function KO(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!eA(t,e):!1}function na(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mE(){return{animate:na(!0),whileInView:na(),whileHover:na(),whileTap:na(),whileDrag:na(),whileFocus:na(),exit:na()}}class gr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class YO extends gr{constructor(t){super(t),t.animationState||(t.animationState=GO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Uf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $O=0;class XO extends gr{constructor(){super(...arguments),this.id=$O++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const QO={animation:{Feature:YO},exit:{Feature:XO}};function Bu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function tc(e){return{point:{x:e.pageX,y:e.pageY}}}const WO=e=>t=>Ey(t)&&e(t,tc(t));function bu(e,t,n,s){return Bu(e,t,WO(n),s)}const iA=1e-4,ZO=1-iA,JO=1+iA,sA=.01,tM=0-sA,eM=0+sA;function fn(e){return e.max-e.min}function nM(e,t,n){return Math.abs(e-t)<=n}function pE(e,t,n,s=.5){e.origin=s,e.originPoint=ue(t.min,t.max,e.origin),e.scale=fn(n)/fn(t),e.translate=ue(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ZO&&e.scale<=JO||isNaN(e.scale))&&(e.scale=1),(e.translate>=tM&&e.translate<=eM||isNaN(e.translate))&&(e.translate=0)}function Su(e,t,n,s){pE(e.x,t.x,n.x,s?s.originX:void 0),pE(e.y,t.y,n.y,s?s.originY:void 0)}function gE(e,t,n){e.min=n.min+t.min,e.max=e.min+fn(t)}function iM(e,t,n){gE(e.x,t.x,n.x),gE(e.y,t.y,n.y)}function yE(e,t,n){e.min=t.min-n.min,e.max=e.min+fn(t)}function Au(e,t,n){yE(e.x,t.x,n.x),yE(e.y,t.y,n.y)}function Hn(e){return[e("x"),e("y")]}const rA=({current:e})=>e?e.ownerDocument.defaultView:null,vE=(e,t)=>Math.abs(e-t);function sM(e,t){const n=vE(e.x,t.x),s=vE(e.y,t.y);return Math.sqrt(n**2+s**2)}class aA{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=bp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,N=sM(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!N)return;const{point:H}=b,{timestamp:P}=Xe;this.history.push({...H,timestamp:P});const{onStart:F,onMove:U}=this.handlers;C||(F&&F(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,b)},this.handlePointerMove=(b,C)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Ep(C,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(b,C)=>{this.end();const{onEnd:N,onSessionEnd:H,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=bp(b.type==="pointercancel"?this.lastMoveEventInfo:Ep(C,this.transformPagePoint),this.history);this.startEvent&&N&&N(b,F),H&&H(b,F)},!Ey(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=tc(t),m=Ep(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=Xe;this.history=[{...g,timestamp:y}];const{onSessionStart:E}=n;E&&E(t,bp(m,this.history)),this.removeListeners=Wu(bu(this.contextWindow,"pointermove",this.handlePointerMove),bu(this.contextWindow,"pointerup",this.handlePointerUp),bu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),or(this.updatePoint)}}function Ep(e,t){return t?{point:t(e.point)}:e}function _E(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bp({point:e},t){return{point:e,delta:_E(e,oA(t)),offset:_E(e,rM(t)),velocity:aM(t,.1)}}function rM(e){return e[0]}function oA(e){return e[e.length-1]}function aM(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=oA(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>wi(t)));)n--;if(!s)return{x:0,y:0};const l=Gn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function oM(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ue(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ue(n,e,s.max):Math.min(e,n)),e}function TE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function lM(e,{top:t,left:n,bottom:s,right:a}){return{x:TE(e.x,n,a),y:TE(e.y,t,s)}}function EE(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function uM(e,t){return{x:EE(e.x,t.x),y:EE(e.y,t.y)}}function cM(e,t){let n=.5;const s=fn(e),a=fn(t);return a>s?n=Pu(t.min,t.max-s,e.min):s>a&&(n=Pu(e.min,e.max-a,t.min)),hs(0,1,n)}function hM(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const lg=.35;function fM(e=lg){return e===!1?e=0:e===!0&&(e=lg),{x:bE(e,"left","right"),y:bE(e,"top","bottom")}}function bE(e,t,n){return{min:SE(e,t),max:SE(e,n)}}function SE(e,t){return typeof e=="number"?e:e[t]||0}const dM=new WeakMap;class mM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=E=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tc(E).point)},c=(E,b)=>{const{drag:C,dragPropagation:N,onDragStart:H}=this.getProps();if(C&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wD(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(F=>{let U=this.getAxisMotionValue(F).get()||0;if(Ri.test(U)){const{projection:j}=this.visualElement;if(j&&j.layout){const nt=j.layout.layoutBox[F];nt&&(U=fn(nt)*(parseFloat(U)/100))}}this.originPoint[F]=U}),H&&re.postRender(()=>H(E,b)),ag(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},d=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b;const{dragPropagation:C,dragDirectionLock:N,onDirectionLock:H,onDrag:P}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:F}=b;if(N&&this.currentDirection===null){this.currentDirection=pM(F),this.currentDirection!==null&&H&&H(this.currentDirection);return}this.updateAxis("x",b.point,F),this.updateAxis("y",b.point,F),this.visualElement.render(),P&&P(E,b)},m=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b,this.stop(E,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Hn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new aA(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:rA(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&re.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!zh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=oM(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Eo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=lM(s.layoutBox,t):this.constraints=!1,this.elastic=fM(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=hM(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Eo(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=gO(s,a.root,this.visualElement.getTransformPagePoint());let c=uM(a.layout.layoutBox,l);if(n){const d=n(dO(c));this.hasMutatedConstraints=!!d,d&&(c=qS(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=Hn(y=>{if(!zh(y,n,this.currentDirection))return;let E=m&&m[y]||{};c&&(E={min:0,max:0});const b=a?200:1e6,C=a?40:1e7,N={type:"inertia",velocity:s?t[y]:0,bounceStiffness:b,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...E};return this.startAxisValueAnimation(y,N)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return ag(this.visualElement,t),s.start(Dy(t,s,0,n,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Hn(n=>{const{drag:s}=this.getProps();if(!zh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-ue(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Eo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=cM({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Hn(c=>{if(!zh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(ue(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;dM.set(this.visualElement,this);const t=this.visualElement.current,n=bu(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Eo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),re.read(s);const c=Bu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Hn(y=>{const E=this.getAxisMotionValue(y);E&&(this.originPoint[y]+=m[y].translate,E.set(E.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=lg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function zh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function pM(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class gM extends gr{constructor(t){super(t),this.removeGroupControls=Kn,this.removeListeners=Kn,this.controls=new mM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const AE=e=>(t,n)=>{e&&re.postRender(()=>e(t,n))};class yM extends gr{constructor(){super(...arguments),this.removePointerDownListener=Kn}onPointerDown(t){this.session=new aA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:AE(t),onStart:AE(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&re.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=bu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(bt.test(e))e=parseFloat(e);else return e;const n=wE(e,t.target.x),s=wE(e,t.target.y);return`${n}% ${s}%`}},vM={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=lr.parse(e);if(a.length>5)return s;const l=lr.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const g=ue(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let Sp=!1;class _M extends L.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;zD(TM),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Sp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Jh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Sp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||re.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ty.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;Sp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function lA(e){const[t,n]=PD(),s=L.useContext(j1);return Y.jsx(_M,{...e,layoutGroup:s,switchLayoutGroup:L.useContext(FS),isPresent:t,safeToRemove:n})}const TM={borderRadius:{...fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:vM};function EM(e,t,n){const s=rn(e)?e:No(e);return s.start(Dy("",s,t,n)),s.animation}const bM=(e,t)=>e.depth-t.depth;class SM{constructor(){this.children=[],this.isDirty=!1}add(t){ey(this.children,t),this.isDirty=!0}remove(t){ny(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bM),this.isDirty=!1,this.children.forEach(t)}}function AM(e,t){const n=_n.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(or(s),e(l-t))};return re.setup(s,!0),()=>or(s)}const uA=["TopLeft","TopRight","BottomLeft","BottomRight"],wM=uA.length,RE=e=>typeof e=="string"?parseFloat(e):e,CE=e=>typeof e=="number"||bt.test(e);function RM(e,t,n,s,a,l){a?(e.opacity=ue(0,n.opacity??1,CM(s)),e.opacityExit=ue(t.opacity??1,0,IM(s))):l&&(e.opacity=ue(t.opacity??1,n.opacity??1,s));for(let c=0;c<wM;c++){const d=`border${uA[c]}Radius`;let m=IE(t,d),g=IE(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||CE(m)===CE(g)?(e[d]=Math.max(ue(RE(m),RE(g),s),0),(Ri.test(g)||Ri.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=ue(t.rotate||0,n.rotate||0,s))}function IE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const CM=cA(0,.5,W1),IM=cA(.5,.95,Kn);function cA(e,t,n){return s=>s<e?0:s>t?1:n(Pu(e,t,s))}function xE(e,t){e.min=t.min,e.max=t.max}function Fn(e,t){xE(e.x,t.x),xE(e.y,t.y)}function DE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function OE(e,t,n,s,a){return e-=t,e=gf(e,1/n,s),a!==void 0&&(e=gf(e,1/a,s)),e}function xM(e,t=0,n=1,s=.5,a,l=e,c=e){if(Ri.test(t)&&(t=parseFloat(t),t=ue(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ue(l.min,l.max,s);e===l&&(d-=t),e.min=OE(e.min,t,n,d,a),e.max=OE(e.max,t,n,d,a)}function ME(e,t,[n,s,a],l,c){xM(e,t[n],t[s],t[a],t.scale,l,c)}const DM=["x","scaleX","originX"],OM=["y","scaleY","originY"];function NE(e,t,n,s){ME(e.x,t,DM,n?n.x:void 0,s?s.x:void 0),ME(e.y,t,OM,n?n.y:void 0,s?s.y:void 0)}function PE(e){return e.translate===0&&e.scale===1}function hA(e){return PE(e.x)&&PE(e.y)}function VE(e,t){return e.min===t.min&&e.max===t.max}function MM(e,t){return VE(e.x,t.x)&&VE(e.y,t.y)}function kE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function fA(e,t){return kE(e.x,t.x)&&kE(e.y,t.y)}function LE(e){return fn(e.x)/fn(e.y)}function UE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class NM{constructor(){this.members=[]}add(t){ey(this.members,t),t.scheduleRender()}remove(t){if(ny(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PM(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:E,rotateY:b,skewX:C,skewY:N}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),E&&(s+=`rotateX(${E}deg) `),b&&(s+=`rotateY(${b}deg) `),C&&(s+=`skewX(${C}deg) `),N&&(s+=`skewY(${N}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Ap=["","X","Y","Z"],VM=1e3;let kM=0;function wp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function dA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ZS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",re,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&dA(s)}function mA({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=kM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BM),this.nodes.forEach(HM),this.nodes.forEach(qM),this.nodes.forEach(jM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new SM)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ry),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=xS(c)&&!OD(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,E=0;const b=()=>this.root.updateBlockedByResize=!1;re.read(()=>{E=window.innerWidth}),e(c,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,y&&y(),y=AM(b,250),Jh.hasAnimatedSinceResize&&(Jh.hasAnimatedSinceResize=!1,this.nodes.forEach(zE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:E,hasRelativeLayoutChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||XM,{onLayoutAnimationStart:H,onLayoutAnimationComplete:P}=g.getProps(),F=!this.targetLayout||!fA(this.targetLayout,C),U=!E&&b;if(this.options.layoutRoot||this.resumeFrom||U||E&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...vy(N,"layout"),onPlay:H,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(y,U)}else E||zE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const E=this.path[y];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(FM),this.nodes.forEach(LM),this.nodes.forEach(UM)):this.nodes.forEach(jE),this.clearAllSnapshots();const d=_n.now();Xe.delta=hs(0,1e3/60,d-Xe.timestamp),Xe.timestamp=d,Xe.isProcessing=!0,dp.update.process(Xe),dp.preRender.process(Xe),dp.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ty.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zM),this.sharedNodes.forEach(KM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!hA(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||sa(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),QM(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return _e();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(WM))){const{scroll:g}=this.root;g&&(bo(d.x,g.offset.x),bo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=_e();if(Fn(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:E}=g;g!==this.root&&y&&E.layoutScroll&&(y.wasRoot&&Fn(d,c),bo(d.x,y.offset.x),bo(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=_e();Fn(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&So(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),sa(y.latestValues)&&So(m,y.latestValues)}return sa(this.latestValues)&&So(m,this.latestValues),m}removeTransform(c){const d=_e();Fn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!sa(g.latestValues))continue;ng(g.latestValues)&&g.updateSnapshot();const y=_e(),E=g.measurePageBox();Fn(y,E),NE(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return sa(this.latestValues)&&NE(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:E}=this.options;if(!(!this.layout||!(y||E))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),Au(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_e(),this.targetWithTransforms=_e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),KS(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),Au(this.relativeTargetOrigin,this.target,b.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ng(this.parent.latestValues)||GS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Fn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,b=this.treeScale.y;pO(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=_e());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DE(this.prevProjectionDelta.x,this.projectionDelta.x),DE(this.prevProjectionDelta.y,this.projectionDelta.y)),Su(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==b||!UE(this.projectionDelta.x,this.prevProjectionDelta.x)||!UE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ao(),this.projectionDelta=Ao(),this.projectionDeltaWithTransform=Ao()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},E=Ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=_e(),C=m?m.source:void 0,N=this.layout?this.layout.source:void 0,H=C!==N,P=this.getStack(),F=!P||P.members.length<=1,U=!!(H&&!F&&this.options.crossfade===!0&&!this.path.some($M));this.animationProgress=0;let j;this.mixTargetDelta=nt=>{const Z=nt/1e3;FE(E.x,c.x,Z),FE(E.y,c.y,Z),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Au(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YM(this.relativeTarget,this.relativeTargetOrigin,b,Z),j&&MM(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=_e()),Fn(j,this.relativeTarget)),H&&(this.animationValues=y,RM(y,g,this.latestValues,Z,U,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{Jh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=No(0)),this.currentAnimation=EM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&pA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||_e();const E=fn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+E;const b=fn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}Fn(d,m),So(d,y),Su(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new NM),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&wp("z",c,g,this.animationValues);for(let y=0;y<Ap.length;y++)wp(`rotate${Ap[y]}`,c,g,this.animationValues),wp(`skew${Ap[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Zh(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Zh(d?.pointerEvents)||""),this.hasProjected&&!sa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=PM(this.projectionDeltaWithTransform,this.treeScale,y);m&&(E=m(y,E)),c.transform=E;const{x:b,y:C}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in Uu){if(y[N]===void 0)continue;const{correct:H,applyTo:P,isCSSVariable:F}=Uu[N],U=E==="none"?y[N]:H(y[N],g);if(P){const j=P.length;for(let nt=0;nt<j;nt++)c[P[nt]]=U}else F?this.options.visualElement.renderState.vars[N]=U:c[N]=U}this.options.layoutId&&(c.pointerEvents=g===this?Zh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(BE),this.root.sharedNodes.clear()}}}function LM(e){e.updateLayout()}function UM(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Hn(y=>{const E=l?t.measuredBox[y]:t.layoutBox[y],b=fn(E);E.min=n[y].min,E.max=E.min+b}):pA(a,t.layoutBox,n)&&Hn(y=>{const E=l?t.measuredBox[y]:t.layoutBox[y],b=fn(n[y]);E.max=E.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const c=Ao();Su(c,n,t.layoutBox);const d=Ao();l?Su(d,e.applyTransform(s,!0),t.measuredBox):Su(d,n,t.layoutBox);const m=!hA(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:E,layout:b}=y;if(E&&b){const C=_e();Au(C,t.layoutBox,E.layoutBox);const N=_e();Au(N,n,b.layoutBox),fA(C,N)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=C,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function BM(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function jM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zM(e){e.clearSnapshot()}function BE(e){e.clearMeasurements()}function jE(e){e.isLayoutDirty=!1}function FM(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function HM(e){e.resolveTargetDelta()}function qM(e){e.calcProjection()}function GM(e){e.resetSkewAndRotation()}function KM(e){e.removeLeadSnapshot()}function FE(e,t,n){e.translate=ue(t.translate,0,n),e.scale=ue(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function HE(e,t,n,s){e.min=ue(t.min,n.min,s),e.max=ue(t.max,n.max,s)}function YM(e,t,n,s){HE(e.x,t.x,n.x,s),HE(e.y,t.y,n.y,s)}function $M(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const XM={duration:.45,ease:[.4,0,.1,1]},qE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),GE=qE("applewebkit/")&&!qE("chrome/")?Math.round:Kn;function KE(e){e.min=GE(e.min),e.max=GE(e.max)}function QM(e){KE(e.x),KE(e.y)}function pA(e,t,n){return e==="position"||e==="preserve-aspect"&&!nM(LE(t),LE(n),.2)}function WM(e){return e!==e.root&&e.scroll?.wasRoot}const ZM=mA({attachResizeListener:(e,t)=>Bu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rp={current:void 0},gA=mA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Rp.current){const e=new ZM({});e.mount(window),e.setOptions({layoutScroll:!0}),Rp.current=e}return Rp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),JM={pan:{Feature:yM},drag:{Feature:gM,ProjectionNode:gA,MeasureLayout:lA}};function YE(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&re.postRender(()=>l(t,tc(t)))}class tN extends gr{mount(){const{current:t}=this.node;t&&(this.unmount=RD(t,(n,s)=>(YE(this.node,s,"Start"),a=>YE(this.node,a,"End"))))}unmount(){}}class eN extends gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wu(Bu(this.node.current,"focus",()=>this.onFocus()),Bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $E(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&re.postRender(()=>l(t,tc(t)))}class nN extends gr{mount(){const{current:t}=this.node;t&&(this.unmount=DD(t,(n,s)=>($E(this.node,s,"Start"),(a,{success:l})=>$E(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ug=new WeakMap,Cp=new WeakMap,iN=e=>{const t=ug.get(e.target);t&&t(e)},sN=e=>{e.forEach(iN)};function rN({root:e,...t}){const n=e||document;Cp.has(n)||Cp.set(n,{});const s=Cp.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(sN,{root:e,...t})),s[a]}function aN(e,t,n){const s=rN(t);return ug.set(e,n),s.observe(e),()=>{ug.delete(e),s.unobserve(e)}}const oN={some:0,all:1};class lN extends gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:oN[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:E}=this.node.getProps(),b=g?y:E;b&&b(m)};return aN(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(uN(t,n))&&this.startObserver()}unmount(){}}function uN({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const cN={inView:{Feature:lN},tap:{Feature:nN},focus:{Feature:eN},hover:{Feature:tN}},hN={layout:{ProjectionNode:gA,MeasureLayout:lA}},fN={...QO,...cN,...JM,...hN},cg=fO(fN,wO),dN=({title:e,description:t,image:n,closeModal:s,showModal:a,category:l})=>Y.jsx(Y.Fragment,{children:a&&Y.jsx("dialog",{id:"modal-product",className:"modal",open:!0,children:Y.jsxs(cg.div,{initial:{opacity:0,y:1e3},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:10,duration:.4},className:"modal-box relative",children:[Y.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:s,"aria-label":"Close modal",children:"✕"}),Y.jsx("figure",{children:Y.jsx("img",{src:n,alt:""})}),Y.jsx("h3",{className:"text-lg font-bold",children:e}),Y.jsx("p",{children:Y.jsx("strong",{children:l})}),Y.jsx("p",{className:"py-4",children:t})]})})}),yA=({product:e,enableActions:t=!0,enableDelate:n=!0})=>{const{handleBuy:s,handleDelete:a,handleAddQuantity:l,handleSubtractQuantity:c}=L.useContext(kf),[d,m]=L.useState(!1),g=()=>m(!0),y=()=>m(!1),E=()=>{s(e)},b=()=>{a(e)},C=()=>{l(e.id)},N=()=>{c(e.id)};return Y.jsxs("div",{className:"card bg-base-100 w-96 h-120 shadow-sm",children:[Y.jsxs("figure",{className:"h-100 relative ",children:[Y.jsx("img",{src:e.image,alt:e.title,className:"h-75"}),Y.jsxs("div",{className:"flex flex-col gap-2 absolute right-5 top-5",children:[Y.jsx("button",{className:"btn btn-circle",children:Y.jsx("i",{className:"bxr  bx-heart text-2xl"})}),Y.jsx("button",{className:"btn btn-circle",onClick:g,children:Y.jsx("i",{className:"bxr  bx-eye text-2xl"})}),Y.jsx(dN,{title:e.title,description:e.description,category:e.category,image:e.image,closeModal:y,showModal:d})]})]}),Y.jsxs("div",{className:"card-body",children:[Y.jsx("h2",{className:"card-title",children:e.title}),Y.jsxs("p",{className:"text-[#DB4444] text-2xl font-bold",children:["$",e.price]}),t&&Y.jsx(Y.Fragment,{children:Y.jsx("div",{className:"card-actions justify-end",children:Y.jsx("button",{className:"btn btn-primary",onClick:E,children:"Buy Now"})})}),n&&Y.jsx(Y.Fragment,{children:Y.jsxs("div",{className:"card-actions justify-end flex",children:[Y.jsxs("div",{className:"quantity flex items-center justify-center gap-2",children:[Y.jsx("button",{className:"btn btn-neutral-content  w-5 h-8",onClick:N,children:"-"}),Y.jsx("p",{children:e.quantity}),Y.jsx("button",{className:"btn btn-neutral w-5 h-8",onClick:C,children:"+"})]}),Y.jsx("button",{className:"btn btn-primary",onClick:b,children:"Delete"})]})})]})]})},mN=({filterCategory:e=!0})=>{const{items:t,loading:n}=Px("https://fakestoreapi.com/products"),[s,a]=L.useState(""),l=d=>{d.preventDefault(),a(d.target.value),console.log(s)};let c=[];return s?c=t.filter(d=>d.category.toLowerCase().includes(s.toLowerCase())):c=t,Y.jsx(Y.Fragment,{children:Y.jsxs("section",{id:"cards",className:"bg-base-300 ",children:[Y.jsx("h3",{className:"flex  p-5 text-4xl font-bold",children:"OUR COLLETION"}),e&&Y.jsx("form",{className:"flex gap-2 items-center  p-5",children:Y.jsxs("label",{htmlFor:"filter",children:["Category:",Y.jsx("input",{id:"filter",type:"text",placeholder:"Men's Clothing",value:s,onChange:l,className:"input input-bordered"})]})}),n?Y.jsx("p",{children:"Cargando"}):c.length===0?Y.jsx("p",{children:"No se encontraron articulos"}):Y.jsx("div",{className:"flex flex-wrap gap-4 items-center justify-center",children:c.map(d=>Y.jsx(yA,{product:d,enableDelate:!1},d.id))})]})})},pN=({bgImage:e})=>Y.jsx("div",{className:"grid min-h-screen  content-center ",children:Y.jsxs("div",{className:" h-[100vh] relative",children:[Y.jsx("img",{src:e,alt:"",className:"w-full h-full object-cover md:object-[center_top] object-top-left "}),Y.jsxs("div",{className:"absolute bottom-20 left-5 z-10 text-2xl flex flex-col gap-5 ",children:[Y.jsx(cg.h2,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"font-bold text-4xl text-[#FD607B]",children:"Vive el estilo sin limites"}),Y.jsxs(cg.div,{initial:{opacity:0,x:-300},animate:{opacity:1,x:0},transition:{type:"spring",stiffness:100,damping:10,delay:.3},className:"flex flex-col gap-2",children:[Y.jsx("p",{className:"font-bold text-white",style:{WebkitTextStroke:"0.2px black"},children:"Nueva colección inspirada en la elegancia del camino."}),Y.jsx("button",{className:"btn btn-error w-50",children:"DISCOVER"})]})]})]})});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hg=function(){return hg=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},hg.apply(this,arguments)};function gN(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}var Co="",wu=null,tf=null,vA=null;function Oy(){Co="",wu!==null&&wu.disconnect(),tf!==null&&(window.clearTimeout(tf),tf=null)}function XE(e){var t=["BUTTON","INPUT","SELECT","TEXTAREA"],n=["A","AREA"];return t.includes(e.tagName)&&!e.hasAttribute("disabled")||n.includes(e.tagName)&&e.hasAttribute("href")}function QE(){var e=null;if(Co==="#")e=document.body;else{var t=Co.replace("#","");e=document.getElementById(t),e===null&&Co==="#top"&&(e=document.body)}if(e!==null){vA(e);var n=e.getAttribute("tabindex");return n===null&&!XE(e)&&e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),n===null&&!XE(e)&&(e.blur(),e.removeAttribute("tabindex")),Oy(),!0}return!1}function yN(e){window.setTimeout(function(){QE()===!1&&(wu===null&&(wu=new MutationObserver(QE)),wu.observe(document,{attributes:!0,childList:!0,subtree:!0}),tf=window.setTimeout(function(){Oy()},e||1e4))},0)}function _A(e){return te.forwardRef(function(t,n){var s="";typeof t.to=="string"&&t.to.includes("#")?s="#"+t.to.split("#").slice(1).join("#"):typeof t.to=="object"&&typeof t.to.hash=="string"&&(s=t.to.hash);var a={};e===Zg&&(a.isActive=function(d,m){return d&&d.isExact&&m.hash===s});function l(d){Oy(),Co=t.elementId?"#"+t.elementId:s,t.onClick&&t.onClick(d),Co!==""&&!d.defaultPrevented&&d.button===0&&(!t.target||t.target==="_self")&&!(d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)&&(vA=t.scroll||(function(m){return t.smooth?m.scrollIntoView({behavior:"smooth"}):m.scrollIntoView()}),yN(t.timeout))}var c=gN(t,["scroll","smooth","timeout","elementId"]);return te.createElement(e,hg({},a,c,{onClick:l,ref:n}),t.children)})}var vN=_A(ti);_A(Zg);const _N=()=>{};var WE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},TN=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},EA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,g=m?e[a+2]:0,y=l>>2,E=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,C=g&63;m||(C=64,c||(b=64)),s.push(n[y],n[E],n[b],n[C])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(TA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):TN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const g=a<e.length?n[e.charAt(a)]:64;++a;const E=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new EN;const b=l<<2|d>>4;if(s.push(b),g!==64){const C=d<<4&240|g>>2;if(s.push(C),E!==64){const N=g<<6&192|E;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class EN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bN=function(e){const t=TA(e);return EA.encodeByteArray(t,!0)},yf=function(e){return bN(e).replace(/\./g,"")},bA=function(e){try{return EA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=()=>SN().__FIREBASE_DEFAULTS__,wN=()=>{if(typeof process>"u"||typeof WE>"u")return;const e=WE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},RN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&bA(e[1]);return t&&JSON.parse(t)},jf=()=>{try{return _N()||AN()||wN()||RN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},SA=e=>jf()?.emulatorHosts?.[e],CN=e=>{const t=SA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},AA=()=>jf()?.config,wA=e=>jf()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RA(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[yf(JSON.stringify(n)),yf(JSON.stringify(c)),""].join(".")}const Ru={};function DN(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ru))Ru[t]?e.emulator.push(t):e.prod.push(t);return e}function ON(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let ZE=!1;function CA(e,t){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||Ru[e]===t||Ru[e]||ZE)return;Ru[e]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=DN().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{ZE=!0,c()},b}function y(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=ON(s),C=n("text"),N=document.getElementById(C)||document.createElement("span"),H=n("learnmore"),P=document.getElementById(H)||document.createElement("a"),F=n("preprendIcon"),U=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const j=b.element;d(j),y(P,H);const nt=g();m(U,F),j.append(U,N,P,nt),document.body.appendChild(j)}l?(N.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function NN(){const e=jf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VN(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function kN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LN(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function UN(){return!NN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BN(){try{return typeof indexedDB=="object"}catch{return!1}}function jN(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="FirebaseError";class ys extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=zN,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?FN(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ys(a,d,s)}}function FN(e,t){return e.replace(HN,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const HN=/\{\$([^}]+)}/g;function qN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pa(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(JE(l)&&JE(c)){if(!pa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function JE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function mu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function pu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function GN(e,t){const n=new KN(e,t);return n.subscribe.bind(n)}class KN{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");YN(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=Ip),a.error===void 0&&(a.error=Ip),a.complete===void 0&&(a.complete=Ip);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YN(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(e){return e&&e._delegate?e._delegate:e}class ga{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new IN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QN(t))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ra){return this.instances.has(t)}getOptions(t=ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XN(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ra){return this.component?this.component.multipleInstances?t:ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XN(e){return e===ra?void 0:e}function QN(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $N(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Nt||(Nt={}));const ZN={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},JN=Nt.INFO,tP={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},eP=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=tP[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class My{constructor(t){this.name=t,this._logLevel=JN,this._logHandler=eP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ZN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const nP=(e,t)=>t.some(n=>e instanceof n);let tb,eb;function iP(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sP(){return eb||(eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IA=new WeakMap,fg=new WeakMap,xA=new WeakMap,xp=new WeakMap,Ny=new WeakMap;function rP(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(er(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&IA.set(n,e)}).catch(()=>{}),Ny.set(t,e),t}function aP(e){if(fg.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});fg.set(e,t)}let dg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return fg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||xA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return er(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function oP(e){dg=e(dg)}function lP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Dp(this),t,...n);return xA.set(s,t.sort?t.sort():[t]),er(s)}:sP().includes(e)?function(...t){return e.apply(Dp(this),t),er(IA.get(this))}:function(...t){return er(e.apply(Dp(this),t))}}function uP(e){return typeof e=="function"?lP(e):(e instanceof IDBTransaction&&aP(e),nP(e,iP())?new Proxy(e,dg):e)}function er(e){if(e instanceof IDBRequest)return rP(e);if(xp.has(e))return xp.get(e);const t=uP(e);return t!==e&&(xp.set(e,t),Ny.set(t,e)),t}const Dp=e=>Ny.get(e);function cP(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=er(c);return s&&c.addEventListener("upgradeneeded",m=>{s(er(c.result),m.oldVersion,m.newVersion,er(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const hP=["get","getKey","getAll","getAllKeys","count"],fP=["put","add","delete","clear"],Op=new Map;function nb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Op.get(t))return Op.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=fP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||hP.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return Op.set(t,l),l}oP(e=>({...e,get:(t,n,s)=>nb(t,n)||e.get(t,n,s),has:(t,n)=>!!nb(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mP(e){return e.getComponent()?.type==="VERSION"}const mg="@firebase/app",ib="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new My("@firebase/app"),pP="@firebase/app-compat",gP="@firebase/analytics-compat",yP="@firebase/analytics",vP="@firebase/app-check-compat",_P="@firebase/app-check",TP="@firebase/auth",EP="@firebase/auth-compat",bP="@firebase/database",SP="@firebase/data-connect",AP="@firebase/database-compat",wP="@firebase/functions",RP="@firebase/functions-compat",CP="@firebase/installations",IP="@firebase/installations-compat",xP="@firebase/messaging",DP="@firebase/messaging-compat",OP="@firebase/performance",MP="@firebase/performance-compat",NP="@firebase/remote-config",PP="@firebase/remote-config-compat",VP="@firebase/storage",kP="@firebase/storage-compat",LP="@firebase/firestore",UP="@firebase/ai",BP="@firebase/firestore-compat",jP="firebase",zP="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="[DEFAULT]",FP={[mg]:"fire-core",[pP]:"fire-core-compat",[yP]:"fire-analytics",[gP]:"fire-analytics-compat",[_P]:"fire-app-check",[vP]:"fire-app-check-compat",[TP]:"fire-auth",[EP]:"fire-auth-compat",[bP]:"fire-rtdb",[SP]:"fire-data-connect",[AP]:"fire-rtdb-compat",[wP]:"fire-fn",[RP]:"fire-fn-compat",[CP]:"fire-iid",[IP]:"fire-iid-compat",[xP]:"fire-fcm",[DP]:"fire-fcm-compat",[OP]:"fire-perf",[MP]:"fire-perf-compat",[NP]:"fire-rc",[PP]:"fire-rc-compat",[VP]:"fire-gcs",[kP]:"fire-gcs-compat",[LP]:"fire-fst",[BP]:"fire-fst-compat",[UP]:"fire-vertex","fire-js":"fire-js",[jP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Map,HP=new Map,gg=new Map;function sb(e,t){try{e.container.addComponent(t)}catch(n){ds.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Vo(e){const t=e.name;if(gg.has(t))return ds.debug(`There were multiple attempts to register component ${t}.`),!1;gg.set(t,e);for(const n of vf.values())sb(n,e);for(const n of HP.values())sb(n,e);return!0}function Py(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new ec("app","Firebase",qP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=zP;function DA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:pg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw nr.create("bad-app-name",{appName:String(a)});if(n||(n=AA()),!n)throw nr.create("no-options");const l=vf.get(a);if(l){if(pa(n,l.options)&&pa(s,l.config))return l;throw nr.create("duplicate-app",{appName:a})}const c=new WN(a);for(const m of gg.values())c.addComponent(m);const d=new GP(n,s,c);return vf.set(a,d),d}function OA(e=pg){const t=vf.get(e);if(!t&&e===pg&&AA())return DA();if(!t)throw nr.create("no-app",{appName:e});return t}function ir(e,t,n){let s=FP[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ds.warn(c.join(" "));return}Vo(new ga(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="firebase-heartbeat-database",YP=1,ju="firebase-heartbeat-store";let Mp=null;function MA(){return Mp||(Mp=cP(KP,YP,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(e=>{throw nr.create("idb-open",{originalErrorMessage:e.message})})),Mp}async function $P(e){try{const n=(await MA()).transaction(ju),s=await n.objectStore(ju).get(NA(e));return await n.done,s}catch(t){if(t instanceof ys)ds.warn(t.message);else{const n=nr.create("idb-get",{originalErrorMessage:t?.message});ds.warn(n.message)}}}async function rb(e,t){try{const s=(await MA()).transaction(ju,"readwrite");await s.objectStore(ju).put(t,NA(e)),await s.done}catch(n){if(n instanceof ys)ds.warn(n.message);else{const s=nr.create("idb-set",{originalErrorMessage:n?.message});ds.warn(s.message)}}}function NA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=1024,QP=30;class WP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ab();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>QP){const a=tV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ds.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ab(),{heartbeatsToSend:n,unsentEntries:s}=ZP(this._heartbeatsCache.heartbeats),a=yf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ds.warn(t),""}}}function ab(){return new Date().toISOString().substring(0,10)}function ZP(e,t=XP){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),ob(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ob(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class JP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BN()?jN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $P(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return rb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return rb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function ob(e){return yf(JSON.stringify({version:2,heartbeats:e})).length}function tV(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(e){Vo(new ga("platform-logger",t=>new dP(t),"PRIVATE")),Vo(new ga("heartbeat",t=>new WP(t),"PRIVATE")),ir(mg,ib,e),ir(mg,ib,"esm2020"),ir("fire-js","")}eV("");var nV="firebase",iV="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(nV,iV,"app");function PA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sV=PA,VA=new ec("auth","Firebase",PA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=new My("@firebase/auth");function rV(e,...t){_f.logLevel<=Nt.WARN&&_f.warn(`Auth (${Qo}): ${e}`,...t)}function ef(e,...t){_f.logLevel<=Nt.ERROR&&_f.error(`Auth (${Qo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(e,...t){throw Vy(e,...t)}function Ci(e,...t){return Vy(e,...t)}function kA(e,t,n){const s={...sV(),[t]:n};return new ec("auth","Firebase",s).create(t,{appName:e.name})}function us(e){return kA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vy(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return VA.create(e,...t)}function Tt(e,t,...n){if(!e)throw Vy(t,...n)}function as(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ef(t),new Error(t)}function ms(e,t){e||as(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(){return typeof self<"u"&&self.location?.href||""}function aV(){return lb()==="http:"||lb()==="https:"}function lb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aV()||VN()||"connection"in navigator)?navigator.onLine:!0}function lV(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,n){this.shortDelay=t,this.longDelay=n,ms(n>t,"Short delay should be less than long delay!"),this.isMobile=MN()||kN()}get(){return oV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e,t){ms(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hV=new ic(3e4,6e4);function yr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function vr(e,t,n,s,a={}){return UA(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=nc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:m,...l};return PN()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&Xo(e.emulatorConfig.host)&&(g.credentials="include"),LA.fetch()(await BA(e,e.config.apiHost,n,d),g)})}async function UA(e,t,n){e._canInitEmulator=!1;const s={...uV,...t};try{const a=new dV(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Fh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Fh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Fh(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kA(e,y,g);ii(e,y)}}catch(a){if(a instanceof ys)throw a;ii(e,"network-request-failed",{message:String(a)})}}async function sc(e,t,n,s,a={}){const l=await vr(e,t,n,s,a);return"mfaPendingCredential"in l&&ii(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function BA(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?ky(e.config,a):`${e.config.apiScheme}://${a}`;return cV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function fV(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),hV.get())})}}function Fh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ci(e,t,s);return a.customData._tokenResponse=n,a}function ub(e){return e!==void 0&&e.enterprise!==void 0}class mV{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return fV(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pV(e,t){return vr(e,"GET","/v2/recaptchaConfig",yr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(e,t){return vr(e,"POST","/v1/accounts:delete",t)}async function Tf(e,t){return vr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yV(e,t=!1){const n=Ni(e),s=await n.getIdToken(t),a=Ly(s);Tt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Cu(Np(a.auth_time)),issuedAtTime:Cu(Np(a.iat)),expirationTime:Cu(Np(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Np(e){return Number(e)*1e3}function Ly(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{const a=bA(n);return a?JSON.parse(a):(ef("Failed to decode base64 JWT payload"),null)}catch(a){return ef("Caught error parsing JWT payload as JSON",a?.toString()),null}}function cb(e){const t=Ly(e);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ys&&vV(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function vV({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(e){const t=e.auth,n=await e.getIdToken(),s=await zu(e,Tf(t,{idToken:n}));Tt(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?jA(a.providerUserInfo):[],c=EV(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,g=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new vg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function TV(e){const t=Ni(e);await Ef(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function EV(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function jA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(e,t){const n=await UA(e,{},async()=>{const s=nc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await BA(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&Xo(e.emulatorConfig.host)&&(m.credentials="include"),LA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SV(e,t){return vr(e,"POST","/v2/accounts:revokeToken",yr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=cb(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await bV(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Io;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Tt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Tt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(e,t){Tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new _V(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new vg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await zu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return yV(this,t)}reload(){return TV(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ef(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(us(this.auth));const t=await this.getIdToken();return await zu(this,gV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:C,providerData:N,stsTokenManager:H}=n;Tt(E&&H,t,"internal-error");const P=Io.fromJSON(this.name,H);Tt(typeof E=="string",t,"internal-error"),Ys(s,t.name),Ys(a,t.name),Tt(typeof b=="boolean",t,"internal-error"),Tt(typeof C=="boolean",t,"internal-error"),Ys(l,t.name),Ys(c,t.name),Ys(d,t.name),Ys(m,t.name),Ys(g,t.name),Ys(y,t.name);const F=new ei({uid:E,auth:t,email:a,emailVerified:b,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:P,createdAt:g,lastLoginAt:y});return N&&Array.isArray(N)&&(F.providerData=N.map(U=>({...U}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(t,n,s=!1){const a=new Io;a.updateFromServerResponse(n);const l=new ei({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Ef(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Tt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?jA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Io;d.updateFromIdToken(s);const m=new ei({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new vg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new Map;function os(e){ms(e instanceof Function,"Expected a class definition");let t=hb.get(e);return t?(ms(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hb.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}zA.type="NONE";const fb=zA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(e,t,n){return`firebase:${e}:${t}:${n}`}class xo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=nf(this.userKey,a.apiKey,l),this.fullPersistenceKey=nf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Tf(this.auth,{idToken:t}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new xo(os(fb),t,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||os(fb);const c=nf(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let E;if(typeof y=="string"){const b=await Tf(t,{idToken:y}).catch(()=>{});if(!b)break;E=await ei._fromGetAccountInfoResponse(t,b,y)}else E=ei._fromJSON(t,y);g!==l&&(d=E),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new xo(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new xo(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(GA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(FA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(YA(t))return"Blackberry";if($A(t))return"Webos";if(HA(t))return"Safari";if((t.includes("chrome/")||qA(t))&&!t.includes("edge/"))return"Chrome";if(KA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function FA(e=an()){return/firefox\//i.test(e)}function HA(e=an()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qA(e=an()){return/crios\//i.test(e)}function GA(e=an()){return/iemobile/i.test(e)}function KA(e=an()){return/android/i.test(e)}function YA(e=an()){return/blackberry/i.test(e)}function $A(e=an()){return/webos/i.test(e)}function Uy(e=an()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function AV(e=an()){return Uy(e)&&!!window.navigator?.standalone}function wV(){return LN()&&document.documentMode===10}function XA(e=an()){return Uy(e)||KA(e)||$A(e)||YA(e)||/windows phone/i.test(e)||GA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(e,t=[]){let n;switch(e){case"Browser":n=db(an());break;case"Worker":n=`${db(an())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(e,t={}){return vr(e,"GET","/v2/passwordPolicy",yr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=6;class xV{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mb(this),this.idTokenSubscription=new mb(this),this.beforeStateQueue=new RV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Tf(this,{idToken:t}),s=await ei._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ef(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(us(this));const n=t?Ni(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await CV(this),n=new xV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ec("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await SV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&os(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&rV(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ea(e){return Ni(e)}class mb{constructor(t){this.auth=t,this.observer=null,this.addObserver=GN(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OV(e){zf=e}function WA(e){return zf.loadJS(e)}function MV(){return zf.recaptchaEnterpriseScript}function NV(){return zf.gapiScript}function PV(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class VV{constructor(){this.enterprise=new kV}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class kV{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const LV="recaptcha-enterprise",ZA="NO_RECAPTCHA";class UV{constructor(t){this.type=LV,this.auth=Ea(t)}async verify(t="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{pV(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new mV(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;ub(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(g=>{c(g)}).catch(()=>{c(ZA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&ub(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=MV();m.length!==0&&(m+=d),WA(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function pb(e,t,n,s=!1,a=!1){const l=new UV(e);let c;if(a)c=ZA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function _g(e,t,n,s,a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await pb(e,t,n,n==="getOobCode");return s(e,l)}else return s(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await pb(e,t,n,n==="getOobCode");return s(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(e,t){const n=Py(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(pa(l,t??{}))return a;ii(a,"already-initialized")}return n.initialize({options:t})}function jV(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(os);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function zV(e,t,n){const s=Ea(e);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=JA(t),{host:c,port:d}=FV(t),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(pa(g,s.config.emulator)&&pa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Xo(c)?(RA(`${l}//${c}${m}`),CA("Auth",!0)):HV()}function JA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function FV(e){const t=JA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:gb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:gb(c)}}}function gb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function HV(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return as("not implemented")}_getIdTokenResponse(t){return as("not implemented")}_linkToIdToken(t,n){return as("not implemented")}_getReauthenticationResolver(t){return as("not implemented")}}async function qV(e,t){return vr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(e,t){return sc(e,"POST","/v1/accounts:signInWithPassword",yr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(e,t){return sc(e,"POST","/v1/accounts:signInWithEmailLink",yr(e,t))}async function YV(e,t){return sc(e,"POST","/v1/accounts:signInWithEmailLink",yr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends By{constructor(t,n,s,a=null){super("password",s),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new Fu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Fu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _g(t,n,"signInWithPassword",GV);case"emailLink":return KV(t,{email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _g(t,s,"signUpPassword",qV);case"emailLink":return YV(t,{idToken:n,email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(e,t){return sc(e,"POST","/v1/accounts:signInWithIdp",yr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="http://localhost";class ya extends By{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ya(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new ya(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Do(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Do(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Do(t,n)}buildRequest(){const t={requestUri:$V,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QV(e){const t=mu(pu(e)).link,n=t?mu(pu(t)).deep_link_id:null,s=mu(pu(e)).deep_link_id;return(s?mu(pu(s)).link:null)||s||n||t||e}class jy{constructor(t){const n=mu(pu(t)),s=n.apiKey??null,a=n.oobCode??null,l=XV(n.mode??null);Tt(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=QV(t);try{return new jy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(t,n){return Fu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=jy.parseLink(n);return Tt(s,"argument-error"),Fu._fromEmailAndCode(t,s.code,s.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends tw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends rc{constructor(){super("facebook.com")}static credential(t){return ya._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ya._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Qs.credential(n,s)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends rc{constructor(){super("github.com")}static credential(t){return ya._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends rc{constructor(){super("twitter.com")}static credential(t,n){return ya._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Zs.credential(n,s)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(e,t){return sc(e,"POST","/v1/accounts:signUp",yr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await ei._fromIdTokenResponse(t,s,a),c=yb(s);return new va({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=yb(s);return new va({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function yb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends ys{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,bf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new bf(t,n,s,a)}}function ew(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?bf._fromErrorAndOperation(e,l,t,s):l})}async function ZV(e,t,n=!1){const s=await zu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return va._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(e,t,n=!1){const{auth:s}=e;if(qn(s.app))return Promise.reject(us(s));const a="reauthenticate";try{const l=await zu(e,ew(s,a,t,e),n);Tt(l.idToken,s,"internal-error");const c=Ly(l.idToken);Tt(c,s,"internal-error");const{sub:d}=c;return Tt(e.uid===d,s,"user-mismatch"),va._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ii(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(e,t,n=!1){if(qn(e.app))return Promise.reject(us(e));const s="signIn",a=await ew(e,s,t),l=await va._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}async function t4(e,t){return nw(Ea(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(e){const t=Ea(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function e4(e,t,n){if(qn(e.app))return Promise.reject(us(e));const s=Ea(e),c=await _g(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WV).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&iw(e),m}),d=await va._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function n4(e,t,n){return qn(e.app)?Promise.reject(us(e)):t4(Ni(e),Wo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&iw(e),s})}function i4(e,t,n,s){return Ni(e).onIdTokenChanged(t,n,s)}function s4(e,t,n){return Ni(e).beforeAuthStateChanged(t,n)}function r4(e,t,n,s){return Ni(e).onAuthStateChanged(t,n,s)}function a4(e){return Ni(e).signOut()}const Sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sf,"1"),this.storage.removeItem(Sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=1e3,l4=10;class rw extends sw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);wV()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,l4):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},o4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}rw.type="LOCAL";const u4=rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw extends sw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}aw.type="SESSION";const ow=aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new Ff(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await c4(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=zy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(E){const b=E;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function f4(e){Ii().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function d4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m4(){return navigator?.serviceWorker?.controller||null}function p4(){return lw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firebaseLocalStorageDb",g4=1,Af="firebaseLocalStorage",cw="fbase_key";class ac{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hf(e,t){return e.transaction([Af],t?"readwrite":"readonly").objectStore(Af)}function y4(){const e=indexedDB.deleteDatabase(uw);return new ac(e).toPromise()}function Tg(){const e=indexedDB.open(uw,g4);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Af,{keyPath:cw})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Af)?t(s):(s.close(),await y4(),t(await Tg()))})})}async function vb(e,t,n){const s=Hf(e,!0).put({[cw]:t,value:n});return new ac(s).toPromise()}async function v4(e,t){const n=Hf(e,!1).get(t),s=await new ac(n).toPromise();return s===void 0?null:s.value}function _b(e,t){const n=Hf(e,!0).delete(t);return new ac(n).toPromise()}const _4=800,T4=3;class hw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>T4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(p4()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await d4(),!this.activeServiceWorker)return;this.sender=new h4(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||m4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Tg();return await vb(t,Sf,"1"),await _b(t,Sf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vb(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>v4(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_b(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Hf(a,!1).getAll();return new ac(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hw.type="LOCAL";const E4=hw;new ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(e,t){return t?os(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends By{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Do(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Do(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Do(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function S4(e){return nw(e.auth,new Fy(e),e.bypassAuthState)}function A4(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),JV(n,new Fy(e),e.bypassAuthState)}async function w4(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),ZV(n,new Fy(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return S4;case"linkViaPopup":case"linkViaRedirect":return w4;case"reauthViaPopup":case"reauthViaRedirect":return A4;default:ii(this.auth,"internal-error")}}resolve(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new ic(2e3,1e4);class wo extends fw{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const t=zy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,R4.get())};t()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="pendingRedirect",sf=new Map;class I4 extends fw{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=sf.get(this.auth._key());if(!t){try{const s=await x4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}sf.set(this.auth._key(),t)}return this.bypassAuthState||sf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x4(e,t){const n=M4(t),s=O4(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function D4(e,t){sf.set(e._key(),t)}function O4(e){return os(e._redirectPersistence)}function M4(e){return nf(C4,e.config.apiKey,e.name)}async function N4(e,t,n=!1){if(qn(e.app))return Promise.reject(us(e));const s=Ea(e),a=b4(s,t),c=await new I4(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=600*1e3;class V4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!k4(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!dw(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=P4&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tb(t))}saveEventToCache(t){this.cachedEventUids.add(Tb(t)),this.lastProcessedEventTime=Date.now()}}function Tb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function dw({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function k4(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dw(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(e,t={}){return vr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B4=/^https?/;async function j4(e){if(e.config.emulator)return;const{authorizedDomains:t}=await L4(e);for(const n of t)try{if(z4(n))return}catch{}ii(e,"unauthorized-domain")}function z4(e){const t=yg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!B4.test(n))return!1;if(U4.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new ic(3e4,6e4);function Eb(){const e=Ii().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function H4(e){return new Promise((t,n)=>{function s(){Eb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Eb(),n(Ci(e,"network-request-failed"))},timeout:F4.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const a=PV("iframefcb");return Ii()[a]=()=>{gapi.load?s():n(Ci(e,"network-request-failed"))},WA(`${NV()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw rf=null,t})}let rf=null;function q4(e){return rf=rf||H4(e),rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new ic(5e3,15e3),K4="__/auth/iframe",Y4="emulator/auth/iframe",$4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q4(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ky(t,Y4):`https://${e.config.authDomain}/${K4}`,s={apiKey:t.apiKey,appName:e.name,v:Qo},a=X4.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${nc(s).slice(1)}`}async function W4(e){const t=await q4(e),n=Ii().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:Q4(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$4,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ci(e,"network-request-failed"),d=Ii().setTimeout(()=>{l(c)},G4.get());function m(){Ii().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J4=500,tk=600,ek="_blank",nk="http://localhost";class bb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ik(e,t,n,s=J4,a=tk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...Z4,width:s.toString(),height:a.toString(),top:l,left:c},g=an().toLowerCase();n&&(d=qA(g)?ek:n),FA(g)&&(t=t||nk,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[C,N])=>`${b}${C}=${N},`,"");if(AV(g)&&d!=="_self")return sk(t||"",d),new bb(null);const E=window.open(t||"",d,y);Tt(E,e,"popup-blocked");try{E.focus()}catch{}return new bb(E)}function sk(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="__/auth/handler",ak="emulator/auth/handler",ok=encodeURIComponent("fac");async function Sb(e,t,n,s,a,l){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Qo,eventId:a};if(t instanceof tw){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",qN(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,E]of Object.entries({}))c[y]=E}if(t instanceof rc){const y=t.getScopes().filter(E=>E!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),g=m?`#${ok}=${encodeURIComponent(m)}`:"";return`${lk(e)}?${nc(d).slice(1)}${g}`}function lk({config:e}){return e.emulator?ky(e,ak):`https://${e.authDomain}/${rk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class uk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ow,this._completeRedirectFn=N4,this._overrideRedirectResult=D4}async _openPopup(t,n,s,a){ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Sb(t,n,s,yg(),a);return ik(t,l,zy())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await Sb(t,n,s,yg(),a);return f4(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ms(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await W4(t),s=new V4(t);return n.register("authEvent",a=>(Tt(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Pp,{type:Pp},a=>{const l=a?.[0]?.[Pp];l!==void 0&&n(!!l),ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=j4(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return XA()||HA()||Uy()}}const ck=uk;var Ab="@firebase/auth",wb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dk(e){Vo(new ga("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QA(e)},g=new DV(s,a,l,m);return jV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Vo(new ga("auth-internal",t=>{const n=Ea(t.getProvider("auth").getImmediate());return(s=>new hk(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(Ab,wb,fk(e)),ir(Ab,wb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=300,pk=wA("authIdTokenMaxAge")||mk;let Rb=null;const gk=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>pk)return;const a=n?.token;Rb!==a&&(Rb=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function yk(e=OA()){const t=Py(e,"auth");if(t.isInitialized())return t.getImmediate();const n=BV(e,{popupRedirectResolver:ck,persistence:[E4,u4,ow]}),s=wA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=gk(l.toString());s4(n,c,()=>c(n.currentUser)),i4(n,d=>c(d))}}const a=SA("auth");return a&&zV(n,`http://${a}`),n}function vk(){return document.getElementsByTagName("head")?.[0]??document}OV({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=Ci("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",vk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dk("Browser");var Cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sr,mw;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,w){function R(){}R.prototype=w.prototype,I.D=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(O,V,B){for(var D=Array(arguments.length-2),he=2;he<arguments.length;he++)D[he-2]=arguments[he];return w.prototype[V].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,w,R){R||(R=0);var O=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)O[V]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],V=I.g[2];var B=I.g[3],D=w+(B^R&(V^B))+O[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=B+(V^w&(R^V))+O[1]+3905402710&4294967295,B=w+(D<<12&4294967295|D>>>20),D=V+(R^B&(w^R))+O[2]+606105819&4294967295,V=B+(D<<17&4294967295|D>>>15),D=R+(w^V&(B^w))+O[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=w+(B^R&(V^B))+O[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=B+(V^w&(R^V))+O[5]+1200080426&4294967295,B=w+(D<<12&4294967295|D>>>20),D=V+(R^B&(w^R))+O[6]+2821735955&4294967295,V=B+(D<<17&4294967295|D>>>15),D=R+(w^V&(B^w))+O[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=w+(B^R&(V^B))+O[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=B+(V^w&(R^V))+O[9]+2336552879&4294967295,B=w+(D<<12&4294967295|D>>>20),D=V+(R^B&(w^R))+O[10]+4294925233&4294967295,V=B+(D<<17&4294967295|D>>>15),D=R+(w^V&(B^w))+O[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=w+(B^R&(V^B))+O[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=B+(V^w&(R^V))+O[13]+4254626195&4294967295,B=w+(D<<12&4294967295|D>>>20),D=V+(R^B&(w^R))+O[14]+2792965006&4294967295,V=B+(D<<17&4294967295|D>>>15),D=R+(w^V&(B^w))+O[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=w+(V^B&(R^V))+O[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=B+(R^V&(w^R))+O[6]+3225465664&4294967295,B=w+(D<<9&4294967295|D>>>23),D=V+(w^R&(B^w))+O[11]+643717713&4294967295,V=B+(D<<14&4294967295|D>>>18),D=R+(B^w&(V^B))+O[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=w+(V^B&(R^V))+O[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=B+(R^V&(w^R))+O[10]+38016083&4294967295,B=w+(D<<9&4294967295|D>>>23),D=V+(w^R&(B^w))+O[15]+3634488961&4294967295,V=B+(D<<14&4294967295|D>>>18),D=R+(B^w&(V^B))+O[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=w+(V^B&(R^V))+O[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=B+(R^V&(w^R))+O[14]+3275163606&4294967295,B=w+(D<<9&4294967295|D>>>23),D=V+(w^R&(B^w))+O[3]+4107603335&4294967295,V=B+(D<<14&4294967295|D>>>18),D=R+(B^w&(V^B))+O[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=w+(V^B&(R^V))+O[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=B+(R^V&(w^R))+O[2]+4243563512&4294967295,B=w+(D<<9&4294967295|D>>>23),D=V+(w^R&(B^w))+O[7]+1735328473&4294967295,V=B+(D<<14&4294967295|D>>>18),D=R+(B^w&(V^B))+O[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=w+(R^V^B)+O[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=B+(w^R^V)+O[8]+2272392833&4294967295,B=w+(D<<11&4294967295|D>>>21),D=V+(B^w^R)+O[11]+1839030562&4294967295,V=B+(D<<16&4294967295|D>>>16),D=R+(V^B^w)+O[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=w+(R^V^B)+O[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=B+(w^R^V)+O[4]+1272893353&4294967295,B=w+(D<<11&4294967295|D>>>21),D=V+(B^w^R)+O[7]+4139469664&4294967295,V=B+(D<<16&4294967295|D>>>16),D=R+(V^B^w)+O[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=w+(R^V^B)+O[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=B+(w^R^V)+O[0]+3936430074&4294967295,B=w+(D<<11&4294967295|D>>>21),D=V+(B^w^R)+O[3]+3572445317&4294967295,V=B+(D<<16&4294967295|D>>>16),D=R+(V^B^w)+O[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=w+(R^V^B)+O[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=B+(w^R^V)+O[12]+3873151461&4294967295,B=w+(D<<11&4294967295|D>>>21),D=V+(B^w^R)+O[15]+530742520&4294967295,V=B+(D<<16&4294967295|D>>>16),D=R+(V^B^w)+O[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=w+(V^(R|~B))+O[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=B+(R^(w|~V))+O[7]+1126891415&4294967295,B=w+(D<<10&4294967295|D>>>22),D=V+(w^(B|~R))+O[14]+2878612391&4294967295,V=B+(D<<15&4294967295|D>>>17),D=R+(B^(V|~w))+O[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=w+(V^(R|~B))+O[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=B+(R^(w|~V))+O[3]+2399980690&4294967295,B=w+(D<<10&4294967295|D>>>22),D=V+(w^(B|~R))+O[10]+4293915773&4294967295,V=B+(D<<15&4294967295|D>>>17),D=R+(B^(V|~w))+O[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=w+(V^(R|~B))+O[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=B+(R^(w|~V))+O[15]+4264355552&4294967295,B=w+(D<<10&4294967295|D>>>22),D=V+(w^(B|~R))+O[6]+2734768916&4294967295,V=B+(D<<15&4294967295|D>>>17),D=R+(B^(V|~w))+O[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=w+(V^(R|~B))+O[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=B+(R^(w|~V))+O[11]+3174756917&4294967295,B=w+(D<<10&4294967295|D>>>22),D=V+(w^(B|~R))+O[2]+718787259&4294967295,V=B+(D<<15&4294967295|D>>>17),D=R+(B^(V|~w))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+B&4294967295}s.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var R=w-this.blockSize,O=this.B,V=this.h,B=0;B<w;){if(V==0)for(;B<=R;)a(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<w;)if(O[V++]=I.charCodeAt(B++),V==this.blockSize){a(this,O),V=0;break}}else for(;B<w;)if(O[V++]=I[B++],V==this.blockSize){a(this,O),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var R=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=R&255,R/=256;for(this.u(I),I=Array(16),w=R=0;4>w;++w)for(var O=0;32>O;O+=8)I[R++]=this.g[w]>>>O&255;return I};function l(I,w){var R=d;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function c(I,w){this.h=w;for(var R=[],O=!0,V=I.length-1;0<=V;V--){var B=I[V]|0;O&&B==w||(R[V]=B,O=!1)}this.g=R}var d={};function m(I){return-128<=I&&128>I?l(I,function(w){return new c([w|0],0>w?-1:0)}):new c([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return E;if(0>I)return P(g(-I));for(var w=[],R=1,O=0;I>=R;O++)w[O]=I/R|0,R*=4294967296;return new c(w,0)}function y(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return P(y(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),O=E,V=0;V<I.length;V+=8){var B=Math.min(8,I.length-V),D=parseInt(I.substring(V,V+B),w);8>B?(B=g(Math.pow(w,B)),O=O.j(B).add(g(D))):(O=O.j(R),O=O.add(g(D)))}return O}var E=m(0),b=m(1),C=m(16777216);e=c.prototype,e.m=function(){if(H(this))return-P(this).m();for(var I=0,w=1,R=0;R<this.g.length;R++){var O=this.i(R);I+=(0<=O?O:4294967296+O)*w,w*=4294967296}return I},e.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N(this))return"0";if(H(this))return"-"+P(this).toString(I);for(var w=g(Math.pow(I,6)),R=this,O="";;){var V=nt(R,w).g;R=F(R,V.j(w));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=V,N(R))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},e.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function N(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function H(I){return I.h==-1}e.l=function(I){return I=F(this,I),H(I)?-1:N(I)?0:1};function P(I){for(var w=I.g.length,R=[],O=0;O<w;O++)R[O]=~I.g[O];return new c(R,~I.h).add(b)}e.abs=function(){return H(this)?P(this):this},e.add=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],O=0,V=0;V<=w;V++){var B=O+(this.i(V)&65535)+(I.i(V)&65535),D=(B>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);O=D>>>16,B&=65535,D&=65535,R[V]=D<<16|B}return new c(R,R[R.length-1]&-2147483648?-1:0)};function F(I,w){return I.add(P(w))}e.j=function(I){if(N(this)||N(I))return E;if(H(this))return H(I)?P(this).j(P(I)):P(P(this).j(I));if(H(I))return P(this.j(P(I)));if(0>this.l(C)&&0>I.l(C))return g(this.m()*I.m());for(var w=this.g.length+I.g.length,R=[],O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<I.g.length;V++){var B=this.i(O)>>>16,D=this.i(O)&65535,he=I.i(V)>>>16,$t=I.i(V)&65535;R[2*O+2*V]+=D*$t,U(R,2*O+2*V),R[2*O+2*V+1]+=B*$t,U(R,2*O+2*V+1),R[2*O+2*V+1]+=D*he,U(R,2*O+2*V+1),R[2*O+2*V+2]+=B*he,U(R,2*O+2*V+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new c(R,0)};function U(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function j(I,w){this.g=I,this.h=w}function nt(I,w){if(N(w))throw Error("division by zero");if(N(I))return new j(E,E);if(H(I))return w=nt(P(I),w),new j(P(w.g),P(w.h));if(H(w))return w=nt(I,P(w)),new j(P(w.g),w.h);if(30<I.g.length){if(H(I)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,O=w;0>=O.l(I);)R=Z(R),O=Z(O);var V=ut(R,1),B=ut(O,1);for(O=ut(O,2),R=ut(R,2);!N(O);){var D=B.add(O);0>=D.l(I)&&(V=V.add(R),B=D),O=ut(O,1),R=ut(R,1)}return w=F(I,V.j(w)),new j(V,w)}for(V=E;0<=I.l(w);){for(R=Math.max(1,Math.floor(I.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=g(R),D=B.j(w);H(D)||0<D.l(I);)R-=O,B=g(R),D=B.j(w);N(B)&&(B=b),V=V.add(B),I=F(I,D)}return new j(V,I)}e.A=function(I){return nt(this,I).h},e.and=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)&I.i(O);return new c(R,this.h&I.h)},e.or=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)|I.i(O);return new c(R,this.h|I.h)},e.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)^I.i(O);return new c(R,this.h^I.h)};function Z(I){for(var w=I.g.length+1,R=[],O=0;O<w;O++)R[O]=I.i(O)<<1|I.i(O-1)>>>31;return new c(R,I.h)}function ut(I,w){var R=w>>5;w%=32;for(var O=I.g.length-R,V=[],B=0;B<O;B++)V[B]=0<w?I.i(B+R)>>>w|I.i(B+R+1)<<32-w:I.i(B+R);return new c(V,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,sr=c}).apply(typeof Cb<"u"?Cb:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,gu,gw,af,Eg,yw,vw,_w;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var _=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in _))break t;_=_[q]}h=h[h.length-1],A=_[h],v=v(A),v!=A&&v!=null&&t(_,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var _=0,A=!1,q={next:function(){if(!A&&_<h.length){var Q=_++;return{value:v(Q,h[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,_){return h.call.apply(h.bind,arguments)}function E(h,v,_){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),h.apply(v,q)}}return function(){return h.apply(v,arguments)}}function b(h,v,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,b.apply(null,arguments)}function C(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function N(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(A,q,Q){for(var ot=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)ot[Vt-2]=arguments[Vt];return v.prototype[q].apply(A,ot)}}function H(h){const v=h.length;if(0<v){const _=Array(v);for(let A=0;A<v;A++)_[A]=h[A];return _}return[]}function P(h,v){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(m(A)){const q=h.length||0,Q=A.length||0;h.length=q+Q;for(let ot=0;ot<Q;ot++)h[q+ot]=A[ot]}else h.push(A)}}class F{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(h){return/^[\s\xa0]*$/.test(h)}function j(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function nt(h){return nt[" "](h),h}nt[" "]=function(){};var Z=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function ut(h,v,_){for(const A in h)v.call(_,h[A],A,h)}function I(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function w(h){const v={};for(const _ in h)v[_]=h[_];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,v){let _,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(_ in A)h[_]=A[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(A,_)&&(h[_]=A[_])}}function V(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function B(h){d.setTimeout(()=>{throw h},0)}function D(){var h=Ct;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class he{constructor(){this.h=this.g=null}add(v,_){const A=$t.get();A.set(v,_),this.h?this.h.next=A:this.g=A,this.h=A}}var $t=new F(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ht=!1,Ct=new he,M=()=>{const h=d.Promise.resolve(void 0);rt=()=>{h.then(st)}};var st=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(_){B(_)}var v=$t;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ht=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var gt=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h})();function xt(h,v){if(at.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(Z){t:{try{nt(v.nodeName);var q=!0;break t}catch{}q=!1}q||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:St[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&xt.aa.h.call(this)}}N(xt,at);var St={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),ee=0;function ri(h,v,_,A,q){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!A,this.ha=q,this.key=++ee,this.da=this.fa=!1}function vs(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pi(h){this.src=h,this.g={},this.h=0}Pi.prototype.add=function(h,v,_,A,q){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var ot=Tr(h,v,A,q);return-1<ot?(v=h[ot],_||(v.fa=!1)):(v=new ri(v,this.src,Q,!!A,q),v.fa=_,h.push(v)),v};function _r(h,v){var _=v.type;if(_ in h.g){var A=h.g[_],q=Array.prototype.indexOf.call(A,v,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(A,q,1),Q&&(vs(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Tr(h,v,_,A){for(var q=0;q<h.length;++q){var Q=h[q];if(!Q.da&&Q.listener==v&&Q.capture==!!_&&Q.ha==A)return q}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),el={};function mc(h,v,_,A,q){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)mc(h,v[Q],_,A,q);return null}return _=pc(_),h&&h[Le]?h.K(v,_,g(A)?!!A.capture:!1,q):xn(h,v,_,!1,A,q)}function xn(h,v,_,A,q,Q){if(!v)throw Error("Invalid event type");var ot=g(q)?!!q.capture:!!q,Vt=Aa(h);if(Vt||(h[Er]=Vt=new Pi(h)),_=Vt.add(v,_,A,ot,Q),_.proxy)return _;if(A=rd(),_.proxy=A,A.src=h,A.listener=_,h.addEventListener)gt||(q=ot),q===void 0&&(q=!1),h.addEventListener(v.toString(),A,q);else if(h.attachEvent)h.attachEvent(br(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function rd(){function h(_){return v.call(h.src,h.listener,_)}const v=ad;return h}function nl(h,v,_,A,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)nl(h,v[Q],_,A,q);else A=g(A)?!!A.capture:!!A,_=pc(_),h&&h[Le]?(h=h.i,v=String(v).toString(),v in h.g&&(Q=h.g[v],_=Tr(Q,_,A,q),-1<_&&(vs(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete h.g[v],h.h--)))):h&&(h=Aa(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Tr(v,_,A,q)),(_=-1<h?v[h]:null)&&Sa(_))}function Sa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Le])_r(v.i,h);else{var _=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(_,A,h.capture):v.detachEvent?v.detachEvent(br(_),A):v.addListener&&v.removeListener&&v.removeListener(A),(_=Aa(v))?(_r(_,h),_.h==0&&(_.src=null,v[Er]=null)):vs(h)}}}function br(h){return h in el?el[h]:el[h]="on"+h}function ad(h,v){if(h.da)h=!0;else{v=new xt(v,this);var _=h.listener,A=h.ha||h.src;h.fa&&Sa(h),h=_.call(A,v)}return h}function Aa(h){return h=h[Er],h instanceof Pi?h:null}var il="__closure_events_fn_"+(1e9*Math.random()>>>0);function pc(h){return typeof h=="function"?h:(h[il]||(h[il]=function(v){return h.handleEvent(v)}),h[il])}function fe(){ct.call(this),this.i=new Pi(this),this.M=this,this.F=null}N(fe,ct),fe.prototype[Le]=!0,fe.prototype.removeEventListener=function(h,v,_,A){nl(this,h,v,_,A)};function qt(h,v){var _,A=h.F;if(A)for(_=[];A;A=A.F)_.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new at(v,h);else if(v instanceof at)v.target=v.target||h;else{var q=v;v=new at(A,h),O(v,q)}if(q=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ot=v.g=_[Q];q=Tn(ot,A,!0,v)&&q}if(ot=v.g=h,q=Tn(ot,A,!0,v)&&q,q=Tn(ot,A,!1,v)&&q,_)for(Q=0;Q<_.length;Q++)ot=v.g=_[Q],q=Tn(ot,A,!1,v)&&q}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],A=0;A<_.length;A++)vs(_[A]);delete h.g[v],h.h--}}this.F=null},fe.prototype.K=function(h,v,_,A){return this.i.add(String(h),v,!1,_,A)},fe.prototype.L=function(h,v,_,A){return this.i.add(String(h),v,!0,_,A)};function Tn(h,v,_,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Q=0;Q<v.length;++Q){var ot=v[Q];if(ot&&!ot.da&&ot.capture==_){var Vt=ot.listener,Oe=ot.ha||ot.src;ot.fa&&_r(h.i,ot),q=Vt.call(Oe,A)!==!1&&q}}return q&&!A.defaultPrevented}function Ze(h,v,_){if(typeof h=="function")_&&(h=b(h,_));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function gc(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,gc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class od extends ct{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:gc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(h){ct.call(this),this.h=h,this.g={}}N(Sr,ct);var Ar=[];function wr(h){ut(h.g,function(v,_){this.g.hasOwnProperty(_)&&Sa(v)},h),h.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),wr(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=d.JSON.stringify,wa=d.JSON.parse,Rr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function sl(){}sl.prototype.h=null;function rl(h){return h.h||(h.h=h.i())}function al(){}var Vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){at.call(this,"d")}N(ki,at);function ol(){at.call(this,"c")}N(ol,at);var ai={},ll=null;function _s(){return ll=ll||new fe}ai.La="serverreachability";function Ra(h){at.call(this,ai.La,h)}N(Ra,at);function Ts(h){const v=_s();qt(v,new Ra(v))}ai.STAT_EVENT="statevent";function yc(h,v){at.call(this,ai.STAT_EVENT,h),this.stat=v}N(yc,at);function ie(h){const v=_s();qt(v,new yc(v,h))}ai.Ma="timingevent";function De(h,v){at.call(this,ai.Ma,h),this.size=v}N(De,at);function be(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function ul(h,v,_,A,q,Q){h.info(function(){if(h.g)if(Q)for(var ot="",Vt=Q.split("&"),Oe=0;Oe<Vt.length;Oe++){var kt=Vt[Oe].split("=");if(1<kt.length){var Be=kt[0];kt=kt[1];var Me=Be.split("_");ot=2<=Me.length&&Me[1]=="type"?ot+(Be+"="+kt+"&"):ot+(Be+"=redacted&")}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+v+`
`+_+`
`+ot})}function ld(h,v,_,A,q,Q,ot){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+v+`
`+_+`
`+Q+" "+ot})}function Es(h,v,_,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Cr(h,_)+(A?" "+A:"")})}function vc(h,v){h.info(function(){return"TIMEOUT: "+v})}Dn.prototype.info=function(){};function Cr(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var A=_[h];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ot=1;ot<q.length;ot++)q[ot]=""}}}}return Yn(_)}catch{return v}}var bs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oi;function li(){}N(li,sl),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},oi=new li;function on(h,v,_,A){this.j=h,this.i=v,this.l=_,this.R=A||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var cl={},Ca={};function $n(h,v,_){h.L=1,h.v=Mr(En(v)),h.m=_,h.P=!0,Ui(h,null)}function Ui(h,v){h.F=Date.now(),Ir(h),h.A=En(h.v);var _=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),gl(_.i,"t",A),h.C=0,_=h.j.J,h.h=new ge,h.g=Pc(h.j,_?v:null,!h.m),0<h.O&&(h.M=new od(b(h.Y,h,h.g),h.O)),v=h.U,_=h.g,A=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(Ar[0]=q.toString()),q=Ar);for(var Q=0;Q<q.length;Q++){var ot=mc(_,q[Q],A||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ts(),ul(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const v=this.M;v&&Pn(h)==3?v.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)t:{const Me=Pn(this.g);var v=this.g.Ba();const Ki=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||Rc(this.g)))){this.J||Me!=4||v==7||(v==8||0>=Ki?Ts(3):Ts(2)),Ss(this);var _=this.g.Z();this.X=_;e:if(_c(this)){var A=Rc(this.g);h="";var q=A.length,Q=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),ui(this);var ot="";break e}this.h.i=new d.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(Q&&v==q-1)});A.length=0,this.h.g+=h,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,ld(this.i,this.u,this.A,this.l,this.R,Me,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Oe=this.g;if((Vt=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Vt)){var kt=Vt;break e}}kt=null}if(_=kt)Es(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xr(this,_);else{this.o=!1,this.s=3,ie(12),qe(this),ui(this);break t}}if(this.P){_=!0;let Ge;for(;!this.J&&this.C<ot.length;)if(Ge=Tc(this,ot),Ge==Ca){Me==4&&(this.s=4,ie(14),_=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==cl){this.s=4,ie(15),Es(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else Es(this.i,this.l,Ge,null),xr(this,Ge);if(_c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||ot.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)Es(this.i,this.l,ot,"[Invalid Chunked Response]"),qe(this),ui(this);else if(0<ot.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),jr(Be),Be.M=!0,ie(11))}}else Es(this.i,this.l,ot,null),xr(this,ot);Me==4&&qe(this),this.o&&!this.J&&(Me==4?Oc(this.j,this):(this.o=!1,Ir(this)))}else dd(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),qe(this),ui(this)}}}catch{}finally{}};function _c(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Tc(h,v){var _=h.C,A=v.indexOf(`
`,_);return A==-1?Ca:(_=Number(v.substring(_,A)),isNaN(_)?cl:(A+=1,A+_>v.length?Ca:(v=v.slice(A,A+_),h.C=A+_,v)))}on.prototype.cancel=function(){this.J=!0,qe(this)};function Ir(h){h.S=Date.now()+h.I,Ec(h,h.I)}function Ec(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=be(b(h.ba,h),v)}function Ss(h){h.B&&(d.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(vc(this.i,this.A),this.L!=2&&(Ts(),ie(17)),qe(this),this.s=2,ui(this)):Ec(this,this.S-h)};function ui(h){h.j.G==0||h.J||Oc(h.j,h)}function qe(h){Ss(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,wr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function xr(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||hl(_.h,h))){if(!h.K&&hl(_.h,h)&&_.G==3){try{var A=_.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ba(_),La(_);else break t;El(_),ie(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=be(b(_.Za,_),6e3));if(1>=xa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Gi(_,11)}else if((h.K||_.g==h)&&Ba(_),!U(v))for(q=_.Da.g.parse(v),v=0;v<q.length;v++){let kt=q[v];if(_.T=kt[0],kt=kt[1],_.G==2)if(kt[0]=="c"){_.K=kt[1],_.ia=kt[2];const Be=kt[3];Be!=null&&(_.la=Be,_.j.info("VER="+_.la));const Me=kt[4];Me!=null&&(_.Aa=Me,_.j.info("SVER="+_.Aa));const Ki=kt[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(A=1.5*Ki,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ge=h.g;if(Ge){const gi=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var Q=A.h;Q.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Da(Q,Q.h),Q.h=null))}if(A.D){const Sl=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(A.ya=Sl,Xt(A.I,A.D,Sl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ot=h;if(A.qa=Nc(A,A.J?A.ia:null,A.W),ot.K){ln(A.h,ot);var Vt=ot,Oe=A.L;Oe&&(Vt.I=Oe),Vt.B&&(Ss(Vt),Ir(Vt)),A.g=ot}else xc(A);0<_.i.length&&Ua(_)}else kt[0]!="stop"&&kt[0]!="close"||Gi(_,7);else _.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Gi(_,7):_l(_):kt[0]!="noop"&&_.l&&_.l.ta(kt),_.v=0)}}Ts(4)}catch{}}var bc=class{constructor(h,v){this.g=h,this.map=v}};function Bi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ia(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function xa(h){return h.h?1:h.g?h.g.size:0}function hl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Da(h,v){h.g?h.g.add(v):h.h=v}function ln(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Bi.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return H(h.i)}function ud(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],_=h.length,A=0;A<_;A++)v.push(h[A]);return v}v=[],_=0;for(A in h)v[_++]=h[A];return v}function Oa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const A in h)v[_++]=A;return v}}}function dl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=Oa(h),A=ud(h),q=A.length,Q=0;Q<q;Q++)v.call(void 0,A[Q],_&&_[Q],h)}var Dr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cd(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var A=h[_].indexOf("="),q=null;if(0<=A){var Q=h[_].substring(0,A);q=h[_].substring(A+1)}else Q=h[_];v(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Se(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Se){this.h=h.h,Or(this,h.j),this.o=h.o,this.g=h.g,As(this,h.s),this.l=h.l;var v=h.i,_=new zi;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),ji(this,_),this.m=h.m}else h&&(v=String(h).match(Dr))?(this.h=!1,Or(this,v[1]||"",!0),this.o=On(v[2]||""),this.g=On(v[3]||"",!0),As(this,v[4]),this.l=On(v[5]||"",!0),ji(this,v[6]||"",!0),this.m=On(v[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}Se.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Nr(v,ml,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Nr(v,ml,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Nr(_,_.charAt(0)=="/"?hd:pl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Nr(_,Ma)),h.join("")};function En(h){return new Se(h)}function Or(h,v,_){h.j=_?On(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function As(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ji(h,v,_){v instanceof zi?(h.i=v,Ac(h.i,h.h)):(_||(v=Nr(v,fd)),h.i=new zi(v,h.h))}function Xt(h,v,_){h.i.set(v,_)}function Mr(h){return Xt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function On(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Nr(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,Sc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ml=/[#\/\?@]/g,pl=/[#\?:]/g,hd=/[#\?]/g,fd=/[#\?@]/g,Ma=/#/g;function zi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Mn(h){h.g||(h.g=new Map,h.h=0,h.i&&cd(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}e=zi.prototype,e.add=function(h,v){Mn(this),this.i=null,h=ci(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function Fi(h,v){Mn(h),v=ci(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Hi(h,v){return Mn(h),v=ci(h,v),h.g.has(v)}e.forEach=function(h,v){Mn(this),this.g.forEach(function(_,A){_.forEach(function(q){h.call(v,q,A,this)},this)},this)},e.na=function(){Mn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let A=0;A<v.length;A++){const q=h[A];for(let Q=0;Q<q.length;Q++)_.push(v[A])}return _},e.V=function(h){Mn(this);let v=[];if(typeof h=="string")Hi(this,h)&&(v=v.concat(this.g.get(ci(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},e.set=function(h,v){return Mn(this),this.i=null,h=ci(this,h),Hi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function gl(h,v,_){Fi(h,v),0<_.length&&(h.i=null,h.g.set(ci(h,v),H(_)),h.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var A=v[_];const Q=encodeURIComponent(String(A)),ot=this.V(A);for(A=0;A<ot.length;A++){var q=Q;ot[A]!==""&&(q+="="+encodeURIComponent(String(ot[A]))),h.push(q)}}return this.i=h.join("&")};function ci(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ac(h,v){v&&!h.j&&(Mn(h),h.i=null,h.g.forEach(function(_,A){var q=A.toLowerCase();A!=q&&(Fi(this,A),gl(this,q,_))},h)),h.j=v}function Pr(h,v){const _=new Dn;if(d.Image){const A=new Image;A.onload=C(Nn,_,"TestLoadImage: loaded",!0,v,A),A.onerror=C(Nn,_,"TestLoadImage: error",!1,v,A),A.onabort=C(Nn,_,"TestLoadImage: abort",!1,v,A),A.ontimeout=C(Nn,_,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function Xn(h,v){const _=new Dn,A=new AbortController,q=setTimeout(()=>{A.abort(),Nn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?Nn(_,"TestPingServer: ok",!0,v):Nn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Nn(_,"TestPingServer: error",!1,v)})}function Nn(h,v,_,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(_)}catch{}}function Vr(){this.g=new Rr}function hi(h,v,_){const A=_||"";try{dl(h,function(q,Q){let ot=q;g(q)&&(ot=Yn(q)),v.push(A+Q+"="+encodeURIComponent(ot))})}catch(q){throw v.push(A+"type="+encodeURIComponent("_badmap")),q}}function ws(h){this.l=h.Ub||null,this.j=h.eb||!1}N(ws,sl),ws.prototype.g=function(){return new qi(this.l,this.j)},ws.prototype.i=(function(h){return function(){return h}})({});function qi(h,v){fe.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(qi,fe),e=qi.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,di(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function yl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?fi(this):di(this),this.readyState==3&&yl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,fi(this))},e.Qa=function(h){this.g&&(this.response=h,fi(this))},e.ga=function(){this.g&&fi(this)};function fi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,di(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function di(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function vl(h){let v="";return ut(h,function(_,A){v+=A,v+=":",v+=_,v+=`\r
`}),v}function Ue(h,v,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=vl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Xt(h,v,_))}function Ht(h){fe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ht,fe);var Na=/^https?$/i,kr=["POST","PUT"];e=Ht.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?rl(this.o):rl(oi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){wc(this,Q);return}if(h=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)_.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(kr,v,void 0))||A||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of _)this.g.setRequestHeader(Q,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lr(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){wc(this,Q)}};function wc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Pa(h),mi(h)}function Pa(h){h.A||(h.A=!0,qt(h,"complete"),qt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,qt(this,"complete"),qt(this,"abort"),mi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),Ht.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},e.bb=function(){Va(this)};function Va(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Pn(h)!=4||h.Z()!=2)){if(h.u&&Pn(h)==4)Ze(h.Ea,0,h);else if(qt(h,"readystatechange"),Pn(h)==4){h.h=!1;try{const ot=h.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var _;if(!(_=v)){var A;if(A=ot===0){var q=String(h.D).match(Dr)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),A=!Na.test(q?q.toLowerCase():"")}_=A}if(_)qt(h,"complete"),qt(h,"success");else{h.m=6;try{var Q=2<Pn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Pa(h)}}finally{mi(h)}}}}function mi(h,v){if(h.g){Lr(h);const _=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||qt(h,"ready");try{_.onreadystatechange=A}catch{}}}function Lr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Pn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),wa(v)}};function Rc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function dd(h){const v={};h=(h.g&&2<=Pn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(U(h[A]))continue;var _=V(h[A]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=v[q]||[];v[q]=Q,Q.push(_)}I(v,function(A){return A.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ur(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function ka(h){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ur("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ur("baseRetryDelayMs",5e3,h),this.cb=Ur("retryDelaySeedMs",1e4,h),this.Wa=Ur("forwardChannelMaxRetries",2,h),this.wa=Ur("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(h&&h.concurrentRequestLimit),this.Da=new Vr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ka.prototype,e.la=8,e.G=1,e.connect=function(h,v,_,A){ie(0),this.W=h,this.H=v||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Nc(this,null,this.W),Ua(this)};function _l(h){if(Cc(h),h.G==3){var v=h.U++,_=En(h.I);if(Xt(_,"SID",h.K),Xt(_,"RID",v),Xt(_,"TYPE","terminate"),Br(h,_),v=new on(h,h.j,v),v.L=2,v.v=Mr(En(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.v,_=!0),_||(v.g=Pc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ir(v)}Mc(h)}function La(h){h.g&&(jr(h),h.g.cancel(),h.g=null)}function Cc(h){La(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ba(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ua(h){if(!Ia(h.h)&&!h.s){h.s=!0;var v=h.Ga;rt||M(),ht||(rt(),ht=!0),Ct.add(v,h),h.B=0}}function md(h,v){return xa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=be(b(h.Ga,h,v),bl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new on(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=w(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)t:{for(var v=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=_;break t}if(v===4096||_===this.i.length-1){v=_+1;break t}}v=1e3}else v=1e3;v=Ic(this,q,v),_=En(this.I),Xt(_,"RID",h),Xt(_,"CVER",22),this.D&&Xt(_,"X-HTTP-Session-Id",this.D),Br(this,_),Q&&(this.O?v="headers="+encodeURIComponent(String(vl(Q)))+"&"+v:this.m&&Ue(_,this.m,Q)),Da(this.h,q),this.Ua&&Xt(_,"TYPE","init"),this.P?(Xt(_,"$req",v),Xt(_,"SID","null"),q.T=!0,$n(q,_,null)):$n(q,_,v),this.G=2}}else this.G==3&&(h?Tl(this,h):this.i.length==0||Ia(this.h)||Tl(this))};function Tl(h,v){var _;v?_=v.l:_=h.U++;const A=En(h.I);Xt(A,"SID",h.K),Xt(A,"RID",_),Xt(A,"AID",h.T),Br(h,A),h.m&&h.o&&Ue(A,h.m,h.o),_=new on(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ic(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Da(h.h,_),$n(_,A,v)}function Br(h,v){h.H&&ut(h.H,function(_,A){Xt(v,A,_)}),h.l&&dl({},function(_,A){Xt(v,A,_)})}function Ic(h,v,_){_=Math.min(h.i.length,_);var A=h.l?b(h.l.Na,h.l,h):null;t:{var q=h.i;let Q=-1;for(;;){const ot=["count="+_];Q==-1?0<_?(Q=q[0].g,ot.push("ofs="+Q)):Q=0:ot.push("ofs="+Q);let Vt=!0;for(let Oe=0;Oe<_;Oe++){let kt=q[Oe].g;const Be=q[Oe].map;if(kt-=Q,0>kt)Q=Math.max(0,q[Oe].g-100),Vt=!1;else try{hi(Be,ot,"req"+kt+"_")}catch{A&&A(Be)}}if(Vt){A=ot.join("&");break t}}}return h=h.i.splice(0,_),v.D=h,A}function xc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;rt||M(),ht||(rt(),ht=!0),Ct.add(v,h),h.v=0}}function El(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=be(b(h.Fa,h),bl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Dc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=be(b(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),La(this),Dc(this))};function jr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Dc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=En(h.qa);Xt(v,"RID","rpc"),Xt(v,"SID",h.K),Xt(v,"AID",h.T),Xt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xt(v,"TO",h.ja),Xt(v,"TYPE","xmlhttp"),Br(h,v),h.m&&h.o&&Ue(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Mr(En(v)),_.m=null,_.P=!0,Ui(_,h)}e.Za=function(){this.C!=null&&(this.C=null,La(this),El(this),ie(19))};function Ba(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Oc(h,v){var _=null;if(h.g==v){Ba(h),jr(h),h.g=null;var A=2}else if(hl(h.h,v))_=v.D,ln(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var q=h.B;A=_s(),qt(A,new De(A,_)),Ua(h)}else xc(h);else if(q=v.s,q==3||q==0&&0<v.X||!(A==1&&md(h,v)||A==2&&El(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),q){case 1:Gi(h,5);break;case 4:Gi(h,10);break;case 3:Gi(h,6);break;default:Gi(h,2)}}}function bl(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function Gi(h,v){if(h.j.info("Error code "+v),v==2){var _=b(h.fb,h),A=h.Xa;const q=!A;A=new Se(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Or(A,"https"),Mr(A),q?Pr(A.toString(),_):Xn(A.toString(),_)}else ie(2);h.G=0,h.l&&h.l.sa(v),Mc(h),Cc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Mc(h){if(h.G=0,h.ka=[],h.l){const v=fl(h.h);(v.length!=0||h.i.length!=0)&&(P(h.ka,v),P(h.ka,h.i),h.h.i.length=0,H(h.i),h.i.length=0),h.l.ra()}}function Nc(h,v,_){var A=_ instanceof Se?En(_):new Se(_);if(A.g!="")v&&(A.g=v+"."+A.g),As(A,A.s);else{var q=d.location;A=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Q=new Se(null);A&&Or(Q,A),v&&(Q.g=v),q&&As(Q,q),_&&(Q.l=_),A=Q}return _=h.D,v=h.ya,_&&v&&Xt(A,_,v),Xt(A,"VER",h.la),Br(h,A),A}function Pc(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ht(new ws({eb:_})):new Ht(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vc(){}e=Vc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ja(){}ja.prototype.g=function(h,v){return new un(h,v)};function un(h,v){fe.call(this),this.g=new ka(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!U(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!U(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new pi(this)}N(un,fe),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){_l(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Yn(h),h=_);v.i.push(new bc(v.Ya++,h)),v.G==3&&Ua(v)},un.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,un.aa.N.call(this)};function kc(h){ki.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const _ in v){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}N(kc,ki);function Lc(){ol.call(this),this.status=1}N(Lc,ol);function pi(h){this.g=h}N(pi,Vc),pi.prototype.ua=function(){qt(this.g,"a")},pi.prototype.ta=function(h){qt(this.g,new kc(h))},pi.prototype.sa=function(h){qt(this.g,new Lc)},pi.prototype.ra=function(){qt(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,_w=function(){return new ja},vw=function(){return _s()},yw=ai,Eg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,af=bs,Li.COMPLETE="complete",gw=Li,al.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",fe.prototype.listen=fe.prototype.K,gu=al,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,pw=Ht}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const Ib="@firebase/firestore",xb="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new My("@firebase/firestore");function go(){return _a.logLevel}function ft(e,...t){if(_a.logLevel<=Nt.DEBUG){const n=t.map(Hy);_a.debug(`Firestore (${Zo}): ${e}`,...n)}}function ps(e,...t){if(_a.logLevel<=Nt.ERROR){const n=t.map(Hy);_a.error(`Firestore (${Zo}): ${e}`,...n)}}function ko(e,...t){if(_a.logLevel<=Nt.WARN){const n=t.map(Hy);_a.warn(`Firestore (${Zo}): ${e}`,...n)}}function Hy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Tw(e,s,n)}function Tw(e,t,n){let s=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ps(s),new Error(s)}function ce(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||Tw(t,a,s)}function Bt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends ys{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _k{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class Tk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ek{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ce(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ha,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ha)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ce(typeof s.accessToken=="string",31837,{l:s}),new Ew(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class bk{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Sk{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new bk(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Db{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ak{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ce(this.o===void 0,3512);const s=l=>{l.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Db(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Db(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=wk(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function Pt(e,t){return e<t?-1:e>t?1:0}function bg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return Vp(a)===Vp(l)?Pt(a,l):Vp(a)?1:-1}return Pt(e.length,t.length)}const Rk=55296,Ck=57343;function Vp(e){const t=e.charCodeAt(0);return t>=Rk&&t<=Ck}function Lo(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="__name__";class bi{constructor(t,n,s){n===void 0?n=0:n>t.length&&wt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&wt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=bi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Pt(t.length,n.length)}static compareSegments(t,n){const s=bi.isNumericId(t),a=bi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?bi.extractNumericId(t).compare(bi.extractNumericId(n)):bg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sr.fromString(t.substring(4,t.length-2))}}class le extends bi{construct(t,n,s){return new le(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt(lt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new le(n)}static emptyPath(){return new le([])}}const Ik=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends bi{construct(t,n,s){return new hn(t,n,s)}static isValidIdentifier(t){return Ik.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ob}static keyField(){return new hn([Ob])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new pt(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new pt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new pt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(le.fromString(t))}static fromName(t){return new vt(le.fromString(t).popFirst(5))}static empty(){return new vt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(e,t,n){if(!n)throw new pt(lt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Dk(e,t,n,s){if(t===!0&&s===!0)throw new pt(lt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Mb(e){if(!vt.isDocumentKey(e))throw new pt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ok(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Mk(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":wt(12329,{type:typeof e})}function Sg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mk(e);throw new pt(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(e,t){const n={typeString:e};return t&&(n.value=t),n}function oc(e,t){if(!Ok(e))throw new pt(lt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new pt(lt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=-62135596800,Pb=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Pb);return new Ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Nb)throw new pt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pb}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(oc(t,Ie._jsonSchema))return new Ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Nb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ie._jsonSchemaVersion="firestore/timestamp/1.0",Ie._jsonSchema={type:xe("string",Ie._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Ie(0,0))}static max(){return new At(new Ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=-1;function Nk(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=At.fromTimestamp(s===1e9?new Ie(n+1,0):new Ie(n,s));return new ur(a,vt.empty(),t)}function Pk(e){return new ur(e.readTime,e.key,Hu)}class ur{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ur(At.min(),vt.empty(),Hu)}static max(){return new ur(At.max(),vt.empty(),Hu)}}function Vk(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:Pt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(e){if(e.code!==lt.FAILED_PRECONDITION||e.message!==kk)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((a=>a?it.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(t[g]).next((y=>{c[g]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new it(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function Uk(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Gf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=-1;function Kf(e){return e==null}function Ag(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="";function jk(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Vb(t)),t=zk(e.get(n),t);return Vb(t)}function zk(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case bw:n+="";break;default:n+=l}}return n}function Vb(e){return e+bw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Fk(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new Ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qh(this.root,t,this.comparator,!1)}getReverseIterator(){return new qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qh(this.root,t,this.comparator,!0)}}class qh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??Qe.RED,this.left=a??Qe.EMPTY,this.right=l??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new Qe(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Qe.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lb(this.data.getIterator())}getIteratorFrom(t){return new Lb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class Lb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t){this.fields=t,t.sort(hn.comparator)}static empty(){return new Js([])}unionWith(t){let n=new ke(hn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Js(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Lo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Sw("Invalid base64 string: "+l):l}})(t);return new We(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const Hk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(e){if(ce(!!e,39018),typeof e=="string"){let t=0;const n=Hk.exec(e);if(ce(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(e.seconds),nanos:Te(e.nanos)}}function Te(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function hr(e){return typeof e=="string"?We.fromBase64String(e):We.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="server_timestamp",ww="__type__",Rw="__previous_value__",Cw="__local_write_time__";function Gy(e){return(e?.mapValue?.fields||{})[ww]?.stringValue===Aw}function Yf(e){const t=e.mapValue.fields[Rw];return Gy(t)?Yf(t):t}function qu(e){const t=cr(e.mapValue.fields[Cw].timestampValue);return new Ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,n,s,a,l,c,d,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const wf="(default)";class Gu{constructor(t,n){this.projectId=t,this.database=n||wf}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database===wf}isEqual(t){return t instanceof Gu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="__type__",Kk="__max__",Gh={mapValue:{}},Yk="__vector__",wg="value";function fr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gy(e)?4:Xk(e)?9007199254740991:$k(e)?10:11:wt(28295,{value:e})}function Di(e,t){if(e===t)return!0;const n=fr(e);if(n!==fr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qu(e).isEqual(qu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=cr(a.timestampValue),d=cr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return hr(a.bytesValue).isEqual(hr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Te(a.geoPointValue.latitude)===Te(l.geoPointValue.latitude)&&Te(a.geoPointValue.longitude)===Te(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Te(a.integerValue)===Te(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Te(a.doubleValue),d=Te(l.doubleValue);return c===d?Ag(c)===Ag(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Lo(e.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(kb(c)!==kb(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Di(c[m],d[m])))return!1;return!0})(e,t);default:return wt(52216,{left:e})}}function Ku(e,t){return(e.values||[]).find((n=>Di(n,t)))!==void 0}function Uo(e,t){if(e===t)return 0;const n=fr(e),s=fr(t);if(n!==s)return Pt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Te(l.integerValue||l.doubleValue),m=Te(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return Ub(e.timestampValue,t.timestampValue);case 4:return Ub(qu(e),qu(t));case 5:return bg(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=hr(l),m=hr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Pt(d[g],m[g]);if(y!==0)return y}return Pt(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Pt(Te(l.latitude),Te(c.latitude));return d!==0?d:Pt(Te(l.longitude),Te(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return Bb(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[wg]?.arrayValue,y=m[wg]?.arrayValue,E=Pt(g?.values?.length||0,y?.values?.length||0);return E!==0?E:Bb(g,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Gh.mapValue&&c===Gh.mapValue)return 0;if(l===Gh.mapValue)return 1;if(c===Gh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let E=0;E<m.length&&E<y.length;++E){const b=bg(m[E],y[E]);if(b!==0)return b;const C=Uo(d[m[E]],g[y[E]]);if(C!==0)return C}return Pt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw wt(23264,{he:n})}}function Ub(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Pt(e,t);const n=cr(e),s=cr(t),a=Pt(n.seconds,s.seconds);return a!==0?a:Pt(n.nanos,s.nanos)}function Bb(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Uo(n[a],s[a]);if(l)return l}return Pt(n.length,s.length)}function Bo(e){return Rg(e)}function Rg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=cr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return hr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return vt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Rg(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Rg(n.fields[c])}`;return a+"}"})(e.mapValue):wt(61005,{value:e})}function of(e){switch(fr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Yf(e);return t?16+of(t):16;case 5:return 2*e.stringValue.length;case 6:return hr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+of(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return lc(s.fields,((l,c)=>{a+=l.length+of(c)})),a})(e.mapValue);default:throw wt(13486,{value:e})}}function Cg(e){return!!e&&"integerValue"in e}function Ky(e){return!!e&&"arrayValue"in e}function jb(e){return!!e&&"nullValue"in e}function zb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function kp(e){return!!e&&"mapValue"in e}function $k(e){return(e?.mapValue?.fields||{})[Gk]?.stringValue===Yk}function Iu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return lc(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Iu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Iu(e.arrayValue.values[n]);return t}return{...e}}function Xk(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Kk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this.value=t}static empty(){return new Si({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!kp(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Iu(n)}setAll(t){let n=hn.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Iu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());kp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];kp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){lc(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Si(Iu(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new sn(t,0,At.min(),At.min(),At.min(),Si.empty(),0)}static newFoundDocument(t,n,s,a){return new sn(t,1,n,At.min(),s,a,0)}static newNoDocument(t,n){return new sn(t,2,n,At.min(),At.min(),Si.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,At.min(),At.min(),Si.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Si.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t,n){this.position=t,this.inclusive=n}}function Fb(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),n.key):s=Uo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Di(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t,n="asc"){this.field=t,this.dir=n}}function Qk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{}class Ve extends Iw{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new Zk(t,n,s):n==="array-contains"?new eL(t,s):n==="in"?new nL(t,s):n==="not-in"?new iL(t,s):n==="array-contains-any"?new sL(t,s):new Ve(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new Jk(t,s):new tL(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uo(n,this.value)):n!==null&&fr(this.value)===fr(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends Iw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Oi(t,n)}matches(t){return xw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xw(e){return e.op==="and"}function Dw(e){return Wk(e)&&xw(e)}function Wk(e){for(const t of e.filters)if(t instanceof Oi)return!1;return!0}function Ig(e){if(e instanceof Ve)return e.field.canonicalString()+e.op.toString()+Bo(e.value);if(Dw(e))return e.filters.map((t=>Ig(t))).join(",");{const t=e.filters.map((n=>Ig(n))).join(",");return`${e.op}(${t})`}}function Ow(e,t){return e instanceof Ve?(function(s,a){return a instanceof Ve&&s.op===a.op&&s.field.isEqual(a.field)&&Di(s.value,a.value)})(e,t):e instanceof Oi?(function(s,a){return a instanceof Oi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&Ow(c,a.filters[d])),!0):!1})(e,t):void wt(19439)}function Mw(e){return e instanceof Ve?(function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`})(e):e instanceof Oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Mw).join(" ,")+"}"})(e):"Filter"}class Zk extends Ve{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Jk extends Ve{constructor(t,n){super(t,"in",n),this.keys=Nw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class tL extends Ve{constructor(t,n){super(t,"not-in",n),this.keys=Nw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Nw(e,t){return(t.arrayValue?.values||[]).map((n=>vt.fromName(n.referenceValue)))}class eL extends Ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ky(n)&&Ku(n.arrayValue,this.value)}}class nL extends Ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ku(this.value.arrayValue,n)}}class iL extends Ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ku(this.value.arrayValue,n)}}class sL extends Ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ky(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ku(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function qb(e,t=null,n=[],s=[],a=null,l=null,c=null){return new rL(e,t,n,s,a,l,c)}function Yy(e){const t=Bt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Ig(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Kf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Bo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Bo(s))).join(",")),t.Te=n}return t.Te}function $y(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Qk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ow(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Hb(e.startAt,t.startAt)&&Hb(e.endAt,t.endAt)}function xg(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aL(e,t,n,s,a,l,c,d){return new $f(e,t,n,s,a,l,c,d)}function Xy(e){return new $f(e)}function Gb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function oL(e){return e.collectionGroup!==null}function xu(e){const t=Bt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ke(hn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Cf(l,s))})),n.has(hn.keyField().canonicalString())||t.Ie.push(new Cf(hn.keyField(),s))}return t.Ie}function xi(e){const t=Bt(e);return t.Ee||(t.Ee=lL(t,xu(e))),t.Ee}function lL(e,t){if(e.limitType==="F")return qb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Cf(a.field,l)}));const n=e.endAt?new Rf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Rf(e.startAt.position,e.startAt.inclusive):null;return qb(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Dg(e,t,n){return new $f(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xf(e,t){return $y(xi(e),xi(t))&&e.limitType===t.limitType}function Pw(e){return`${Yy(xi(e))}|lt:${e.limitType}`}function yo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>Mw(a))).join(", ")}]`),Kf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Bo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Bo(a))).join(",")),`Target(${s})`})(xi(e))}; limitType=${e.limitType})`}function Qf(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):vt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of xu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const g=Fb(c,d,m);return c.inclusive?g<=0:g<0})(s.startAt,xu(s),a)||s.endAt&&!(function(c,d,m){const g=Fb(c,d,m);return c.inclusive?g>=0:g>0})(s.endAt,xu(s),a))})(e,t)}function uL(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Vw(e){return(t,n)=>{let s=!1;for(const a of xu(e)){const l=cL(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function cL(e,t,n){const s=e.field.isKeyField()?vt.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Uo(m,g):wt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){lc(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return Fk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Ee(vt.comparator);function dr(){return hL}const kw=new Ee(vt.comparator);function yu(...e){let t=kw;for(const n of e)t=t.insert(n.key,n);return t}function fL(e){let t=kw;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function la(){return Du()}function Lw(){return Du()}function Du(){return new ba((e=>e.toString()),((e,t)=>e.isEqual(t)))}const dL=new ke(vt.comparator);function jt(...e){let t=dL;for(const n of e)t=t.add(n);return t}const mL=new ke(Pt);function pL(){return mL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ag(t)?"-0":t}}function yL(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this._=void 0}}function vL(e,t,n){return e instanceof Og?(function(a,l){const c={fields:{[ww]:{stringValue:Aw},[Cw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Gy(l)&&(l=Yf(l)),l&&(c.fields[Rw]=l),{mapValue:c}})(n,t):e instanceof If?Uw(e,t):e instanceof xf?Bw(e,t):(function(a,l){const c=TL(a,l),d=Kb(c)+Kb(a.Ae);return Cg(c)&&Cg(a.Ae)?yL(d):gL(a.serializer,d)})(e,t)}function _L(e,t,n){return e instanceof If?Uw(e,t):e instanceof xf?Bw(e,t):n}function TL(e,t){return e instanceof Mg?(function(s){return Cg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Og extends Wf{}class If extends Wf{constructor(t){super(),this.elements=t}}function Uw(e,t){const n=jw(t);for(const s of e.elements)n.some((a=>Di(a,s)))||n.push(s);return{arrayValue:{values:n}}}class xf extends Wf{constructor(t){super(),this.elements=t}}function Bw(e,t){let n=jw(t);for(const s of e.elements)n=n.filter((a=>!Di(a,s)));return{arrayValue:{values:n}}}class Mg extends Wf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Kb(e){return Te(e.integerValue||e.doubleValue)}function jw(e){return Ky(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function EL(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof If&&a instanceof If||s instanceof xf&&a instanceof xf?Lo(s.elements,a.elements,Di):s instanceof Mg&&a instanceof Mg?Di(s.Ae,a.Ae):s instanceof Og&&a instanceof Og})(e.transform,t.transform)}class fa{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new fa}static exists(t){return new fa(void 0,t)}static updateTime(t){return new fa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Qy{}function zw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new SL(e.key,fa.none()):new Wy(e.key,e.data,fa.none());{const n=e.data,s=Si.empty();let a=new ke(hn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Zf(e.key,s,new Js(a.toArray()),fa.none())}}function bL(e,t,n){e instanceof Wy?(function(a,l,c){const d=a.value.clone(),m=$b(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Zf?(function(a,l,c){if(!lf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=$b(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Fw(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Ou(e,t,n,s){return e instanceof Wy?(function(l,c,d,m){if(!lf(l.precondition,c))return d;const g=l.value.clone(),y=Xb(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof Zf?(function(l,c,d,m){if(!lf(l.precondition,c))return d;const g=Xb(l.fieldTransforms,m,c),y=c.data;return y.setAll(Fw(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(e,t,n,s):(function(l,c,d){return lf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function Yb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Lo(s,a,((l,c)=>EL(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wy extends Qy{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Zf extends Qy{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Fw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function $b(e,t,n){const s=new Map;ce(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,_L(c,d,n[a]))}return s}function Xb(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,vL(l,c,t))}return s}class SL extends Qy{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&bL(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ou(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ou(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Lw();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=zw(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),jt())}isEqual(t){return this.batchId===t.batchId&&Lo(this.mutations,t.mutations,((n,s)=>Yb(n,s)))&&Lo(this.baseMutations,t.baseMutations,((n,s)=>Yb(n,s)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Ut;function Hw(e){if(e===void 0)return ps("GRPC error has no .code"),lt.UNKNOWN;switch(e){case Re.OK:return lt.OK;case Re.CANCELLED:return lt.CANCELLED;case Re.UNKNOWN:return lt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return lt.INTERNAL;case Re.UNAVAILABLE:return lt.UNAVAILABLE;case Re.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Re.NOT_FOUND:return lt.NOT_FOUND;case Re.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Re.ABORTED:return lt.ABORTED;case Re.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Re.DATA_LOSS:return lt.DATA_LOSS;default:return wt(39323,{code:e})}}(Ut=Re||(Re={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=new sr([4294967295,4294967295],0);function Qb(e){const t=CL().encode(e),n=new mw;return n.update(t),new Uint8Array(n.digest())}function Wb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new sr([n,s],0),new sr([a,l],0)]}class Zy{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vu(`Invalid padding: ${n}`);if(s<0)throw new vu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new vu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=sr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(sr.fromNumber(s)));return a.compare(IL)===1&&(a=new sr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Qb(t),[s,a]=Wb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Zy(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=Qb(t),[s,a]=Wb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,uc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Jf(At.min(),a,new Ee(Pt),dr(),jt())}}class uc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new uc(s,n,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,n,s,a){this.be=t,this.removedTargetIds=n,this.key=s,this.De=a}}class qw{constructor(t,n){this.targetId=t,this.Ce=n}}class Gw{constructor(t,n,s=We.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Zb{constructor(){this.ve=0,this.Fe=Jb(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),n=jt(),s=jt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:wt(38017,{changeType:l})}})),new uc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Jb()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xL{constructor(t){this.Ge=t,this.ze=new Map,this.je=dr(),this.Je=Kh(),this.He=Kh(),this.Ye=new Ee(Pt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:wt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(xg(l))if(s===0){const c=new vt(l.path);this.et(n,c,sn.newNoDocument(c,At.min()))}else ce(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=hr(s).toUint8Array()}catch(m){if(m instanceof Sw)return ko("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Zy(c,a,l)}catch(m){return ko(m instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&xg(d.target)){const m=new vt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,sn.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=jt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Jf(t,n,this.Ye,this.je,s);return this.je=dr(),this.Je=Kh(),this.He=Kh(),this.Ye=new Ee(Pt),a}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Zb,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ke(Pt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ke(Pt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Zb),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Kh(){return new Ee(vt.comparator)}function Jb(){return new Ee(vt.comparator)}const DL={asc:"ASCENDING",desc:"DESCENDING"},OL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ML={and:"AND",or:"OR"};class NL{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ng(e,t){return e.useProto3Json||Kf(t)?t:{value:t}}function PL(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VL(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Oo(e){return ce(!!e,49232),At.fromTimestamp((function(n){const s=cr(n);return new Ie(s.seconds,s.nanos)})(e))}function kL(e,t){return Pg(e,t).canonicalString()}function Pg(e,t){const n=(function(a){return new le(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Kw(e){const t=le.fromString(e);return ce(Ww(t),10190,{key:t.toString()}),t}function Lp(e,t){const n=Kw(t);if(n.get(1)!==e.databaseId.projectId)throw new pt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt($w(n))}function Yw(e,t){return kL(e.databaseId,t)}function LL(e){const t=Kw(e);return t.length===4?le.emptyPath():$w(t)}function t1(e){return new le(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $w(e){return ce(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function UL(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(ce(y===void 0||typeof y=="string",58123),We.fromBase64String(y||"")):(ce(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),We.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?lt.UNKNOWN:Hw(g.code);return new pt(y,g.message||"")})(c);n=new Gw(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Lp(e,s.document.name),l=Oo(s.document.updateTime),c=s.document.createTime?Oo(s.document.createTime):At.min(),d=new Si({mapValue:{fields:s.document.fields}}),m=sn.newFoundDocument(a,l,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new uf(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Lp(e,s.document),l=s.readTime?Oo(s.readTime):At.min(),c=sn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new uf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Lp(e,s.document),l=s.removedTargetIds||[];n=new uf([],l,a,null)}else{if(!("filter"in t))return wt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new RL(a,l),d=s.targetId;n=new qw(d,c)}}return n}function BL(e,t){return{documents:[Yw(e,t.path)]}}function jL(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Yw(e,a);const l=(function(g){if(g.length!==0)return Qw(Oi.create(g,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(b){return{field:vo(b.field),direction:HL(b.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Ng(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:a}}function zL(e){let t=LL(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ce(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(E){const b=Xw(E);return b instanceof Oi&&Dw(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((b=>(function(N){return new Cf(_o(N.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(E){let b;return b=typeof E=="object"?E.value:E,Kf(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(E){const b=!!E.before,C=E.values||[];return new Rf(C,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const b=!E.before,C=E.values||[];return new Rf(C,b)})(n.endAt)),aL(t,a,c,l,d,"F",m,g)}function FL(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Xw(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=_o(n.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=_o(n.unaryFilter.field);return Ve.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_o(n.unaryFilter.field);return Ve.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=_o(n.unaryFilter.field);return Ve.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Ve.create(_o(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Oi.create(n.compositeFilter.filters.map((s=>Xw(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(n.compositeFilter.op))})(e):wt(30097,{filter:e})}function HL(e){return DL[e]}function qL(e){return OL[e]}function GL(e){return ML[e]}function vo(e){return{fieldPath:e.canonicalString()}}function _o(e){return hn.fromServerFormat(e.fieldPath)}function Qw(e){return e instanceof Ve?(function(n){if(n.op==="=="){if(zb(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(jb(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zb(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(jb(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:qL(n.op),value:n.value}}})(e):e instanceof Oi?(function(n){const s=n.getFilters().map((a=>Qw(a)));return s.length===1?s[0]:{compositeFilter:{op:GL(n.op),filters:s}}})(e):wt(54877,{filter:e})}function Ww(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t,n,s,a,l=At.min(),c=At.min(),d=We.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(t){this.yt=t}}function YL(e){const t=zL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Dg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.Cn=new XL}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(ur.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class XL{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new ke(le.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new ke(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zw=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(Zw,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new jo(0)}static cr(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="LruGarbageCollector",QL=1048576;function i1([e,t],[n,s]){const a=Pt(e,n);return a===0?Pt(t,s):a}class WL{constructor(t){this.Ir=t,this.buffer=new ke(i1),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();i1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZL{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(n1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jo(n)?ft(n1,"Ignoring IndexedDB error during garbage collection: ",n):await qf(n)}await this.Vr(3e5)}))}}class JL{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve(Gf.ce);const s=new WL(n);return this.mr.forEachTarget(t,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(e1)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e1):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,a,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(t,a)))).next((E=>(s=E,d=Date.now(),this.removeTargets(t,s,n)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((E=>(g=Date.now(),go()<=Nt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function t3(e,t){return new JL(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.changes=new ba((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Ou(s.mutation,a,Js.empty(),Ie.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=jt()){const a=la();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=yu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=la();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,jt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=dr();const c=Du(),d=(function(){return Du()})();return n.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Zf)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Ou(y.mutation,g,y.mutation.getFieldMask(),Ie.now())):c.set(g.key,Js.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new n3(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Du();let a=new Ee(((c,d)=>c-d)),l=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=s.get(m)||Js.empty();y=d.applyToLocalView(g,y),s.set(m,y);const E=(a.get(d.batchId)||jt()).add(m);a=a.insert(d.batchId,E)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,E=Lw();y.forEach((b=>{if(!l.has(b)){const C=zw(n.get(b),s.get(b));C!==null&&E.set(b,C),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return it.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):oL(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):it.resolve(la());let d=Hu,m=l;return c.next((g=>it.forEach(g,((y,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,m,g,jt()))).next((y=>({batchId:d,changes:fL(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let a=yu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=yu();return this.indexManager.getCollectionParents(t,l).next((d=>it.forEach(d,(m=>{const g=(function(E,b){return new $f(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next((y=>{y.forEach(((E,b)=>{c=c.insert(E,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,sn.newInvalidDocument(y)))}));let d=yu();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&Ou(y.mutation,g,Js.empty(),Ie.now()),Qf(n,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Oo(a.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:YL(a.bundledQuery),readTime:Oo(a.readTime)}})(n)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this.overlays=new Ee(vt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=la();return it.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.St(t,n,l)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const a=la(),l=n.length+1,c=new vt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return it.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new Ee(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=la(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=la(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return it.resolve(d)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new wL(n,s));let l=this.qr.get(n);l===void 0&&(l=jt(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.Qr=new ke(He.$r),this.Ur=new ke(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new He(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new He(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new vt(new le([])),s=new He(n,t),a=new He(n,t+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new vt(new le([])),s=new He(n,t),a=new He(n,t+1);let l=jt();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new He(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return vt.comparator(t.key,n.key)||Pt(t.Yr,n.Yr)}static Kr(t,n){return Pt(t.Yr,n.Yr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ke(He.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new AL(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new He(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Bk:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new He(n,0),a=new He(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ke(Pt);return n.forEach((a=>{const l=new He(a,0),c=new He(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;vt.isDocumentKey(l)||(l=l.child(""));const c=new He(new vt(l),0);let d=new ke(Pt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),it.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(n.mutations,(a=>{const l=new He(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new He(n,0),a=this.Zr.firstAfterOrEqual(s);return it.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(t){this.ri=t,this.docs=(function(){return new Ee(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let s=dr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():sn.newInvalidDocument(a))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=dr();const c=n.path,d=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Vk(Pk(y),s)<=0||(a.has(y.key)||Qf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,n,s,a){wt(9500)}ii(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new u3(this)}getSize(t){return it.resolve(this.size)}}class u3 extends e3{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(t){this.persistence=t,this.si=new ba((n=>Yy(n)),$y),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Jy,this.targetCount=0,this.ai=jo.ur()}forEachTarget(t,n){return this.si.forEach(((s,a)=>n(a))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new jo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),it.waitFor(l).next((()=>a))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),it.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,n){this.ui={},this.overlays={},this.ci=new Gf(0),this.li=!1,this.li=!0,this.hi=new a3,this.referenceDelegate=t(this),this.Pi=new c3(this),this.indexManager=new $L,this.remoteDocumentCache=(function(a){return new l3(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new KL(n),this.Ii=new s3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new r3,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new o3(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const a=new h3(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class h3 extends Lk{constructor(t){super(),this.currentSequenceNumber=t}}class tv{constructor(t){this.persistence=t,this.Ri=new Jy,this.Vi=null}static mi(t){return new tv(t)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const a=vt.fromPath(s);return this.gi(t,a).next((l=>{l||n.removeEntry(a,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Df{constructor(t,n){this.persistence=t,this.pi=new ba((s=>jk(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=t3(this,n)}static mi(t,n){return new Df(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return it.forEach(this.pi,((s,a)=>this.br(t,s,a).next((l=>l?it.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,l.removeEntry(c,At.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=of(t.data.value)),n}br(t,n,s){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return it.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=a}static As(t,n){let s=jt(),a=jt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ev(t,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return UN()?8:Uk(an())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new f3;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,s,a){return s.documentReadCount<this.fs?(go()<=Nt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(go()<=Nt.DEBUG&&ft("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(go()<=Nt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):it.resolve())}ys(t,n){if(Gb(n))return it.resolve(null);let s=xi(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Dg(n,null,"F"),s=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=jt(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(t,Dg(n,null,"F")):this.vs(t,g,n,m)}))))})))))}ws(t,n,s,a){return Gb(n)||a.isEqual(At.min())?it.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?it.resolve(null):(go()<=Nt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yo(n)),this.vs(t,c,n,Nk(a,Hu)).next((d=>d)))}))}Ds(t,n){let s=new ke(Vw(t));return n.forEach(((a,l)=>{Qf(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return go()<=Nt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(t,n,ur.min(),s)}vs(t,n,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="LocalStore",m3=3e8;class p3{constructor(t,n,s,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new Ee(Pt),this.xs=new ba((l=>Yy(l)),$y),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new i3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function g3(e,t,n,s){return new p3(e,t,n,s)}async function tR(e,t){const n=Bt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=jt();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function eR(e){const t=Bt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function y3(e,t){const n=Bt(e),s=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach(((y,E)=>{const b=a.get(E);if(!b)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,E))));let C=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken(We.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(E,C),(function(H,P,F){return H.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=m3?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(b,C,y)&&d.push(n.Pi.updateTargetData(l,C))}));let m=dr(),g=jt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(v3(l,c,t.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!s.isEqual(At.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return it.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function v3(e,t,n){let s=jt(),a=jt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=dr();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(At.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ft(nv,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function _3(e,t){const n=Bt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,t).next((l=>l?(a=l,it.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new tr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Vg(e,t,n){const s=Bt(e),a=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Jo(c))throw c;ft(nv,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function s1(e,t,n){const s=Bt(e);let a=At.min(),l=jt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const E=Bt(m),b=E.xs.get(y);return b!==void 0?it.resolve(E.Ms.get(b)):E.Pi.getTargetData(g,y)})(s,c,xi(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?a:At.min(),n?l:jt()))).next((d=>(T3(s,uL(t),d),{documents:d,Qs:l})))))}function T3(e,t,n){let s=e.Os.get(t)||At.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class r1{constructor(){this.activeTargetIds=pL()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class E3{constructor(){this.Mo=new r1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new r1,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="ConnectivityMonitor";class o1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(a1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(a1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=null;function kg(){return Yh===null?Yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yh++,"0x"+Yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="RestConnection",S3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A3{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===wf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,n,s,a,l){const c=kg(),d=this.zo(t,n.toUriEncodedString());ft(Up,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),y=Xo(g);return this.Jo(t,d,m,s,y).then((E=>(ft(Up,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw ko(Up,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E}))}Ho(t,n,s,a,l,c){return this.Go(t,n,s,a,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const s=S3[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class R3 extends A3{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=kg();return new Promise(((d,m)=>{const g=new pw;g.setWithCredentials(!0),g.listenOnce(gw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case af.NO_ERROR:const E=g.getResponseJson();ft(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case af.TIMEOUT:ft(en,`RPC '${t}' ${c} timed out`),m(new pt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const b=g.getStatus();if(ft(en,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C?.error;if(N&&N.status&&N.message){const H=(function(F){const U=F.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(U)>=0?U:lt.UNKNOWN})(N.status);m(new pt(H,N.message))}else m(new pt(lt.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new pt(lt.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ft(en,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ft(en,`RPC '${t}' ${c} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=kg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=_w(),d=vw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ft(en,`Creating RPC '${t}' stream ${a}: ${y}`,m);const E=c.createWebChannel(y,m);this.I_(E);let b=!1,C=!1;const N=new w3({Yo:P=>{C?ft(en,`Not sending because RPC '${t}' stream ${a} is closed:`,P):(b||(ft(en,`Opening RPC '${t}' stream ${a} transport.`),E.open(),b=!0),ft(en,`RPC '${t}' stream ${a} sending:`,P),E.send(P))},Zo:()=>E.close()}),H=(P,F,U)=>{P.listen(F,(j=>{try{U(j)}catch(nt){setTimeout((()=>{throw nt}),0)}}))};return H(E,gu.EventType.OPEN,(()=>{C||(ft(en,`RPC '${t}' stream ${a} transport opened.`),N.o_())})),H(E,gu.EventType.CLOSE,(()=>{C||(C=!0,ft(en,`RPC '${t}' stream ${a} transport closed`),N.a_(),this.E_(E))})),H(E,gu.EventType.ERROR,(P=>{C||(C=!0,ko(en,`RPC '${t}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),N.a_(new pt(lt.UNAVAILABLE,"The operation could not be completed")))})),H(E,gu.EventType.MESSAGE,(P=>{if(!C){const F=P.data[0];ce(!!F,16349);const U=F,j=U?.error||U[0]?.error;if(j){ft(en,`RPC '${t}' stream ${a} received error:`,j);const nt=j.status;let Z=(function(w){const R=Re[w];if(R!==void 0)return Hw(R)})(nt),ut=j.message;Z===void 0&&(Z=lt.INTERNAL,ut="Unknown error status: "+nt+" with message "+j.message),C=!0,N.a_(new pt(Z,ut)),E.close()}else ft(en,`RPC '${t}' stream ${a} received:`,F),N.u_(F)}})),H(d,yw.STAT_EVENT,(P=>{P.stat===Eg.PROXY?ft(en,`RPC '${t}' stream ${a} detected buffering proxy`):P.stat===Eg.NOPROXY&&ft(en,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(e){return new NL(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="PersistentStream";class C3{constructor(t,n,s,a,l,c,d,m){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iR(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===lt.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new pt(lt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(l1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ft(l1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class I3 extends C3{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=UL(this.serializer,t),s=(function(l){if(!("targetChange"in l))return At.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Oo(c.readTime):At.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=t1(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=xg(m)?{documents:BL(l,m)}:{query:jL(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=VL(l,c.resumeToken);const g=Ng(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){d.readTime=PL(l,c.snapshotVersion.toTimestamp());const g=Ng(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=FL(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=t1(this.serializer),n.removeTarget=t,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{}class D3 extends x3{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,Pg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pt(lt.UNKNOWN,l.toString())}))}Ho(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Pg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(lt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class O3{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="RemoteStore";class M3{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{hc(this)&&(ft(zo,"Restarting streams for network reachability change."),await(async function(m){const g=Bt(m);g.Ea.add(4),await cc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await td(g)})(this))}))})),this.Ra=new O3(s,a)}}async function td(e){if(hc(e))for(const t of e.da)await t(!0)}async function cc(e){for(const t of e.da)await t(!1)}function sR(e,t){const n=Bt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),av(n)?rv(n):tl(n).O_()&&sv(n,t))}function iv(e,t){const n=Bt(e),s=tl(n);n.Ia.delete(t),s.O_()&&rR(n,t),n.Ia.size===0&&(s.O_()?s.L_():hc(n)&&n.Ra.set("Unknown"))}function sv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}tl(e).Y_(t)}function rR(e,t){e.Va.Ue(t),tl(e).Z_(t)}function rv(e){e.Va=new xL({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),tl(e).start(),e.Ra.ua()}function av(e){return hc(e)&&!tl(e).x_()&&e.Ia.size>0}function hc(e){return Bt(e).Ea.size===0}function aR(e){e.Va=void 0}async function N3(e){e.Ra.set("Online")}async function P3(e){e.Ia.forEach(((t,n)=>{sv(e,t)}))}async function V3(e,t){aR(e),av(e)?(e.Ra.ha(t),rv(e)):e.Ra.set("Unknown")}async function k3(e,t,n){if(e.Ra.set("Online"),t instanceof Gw&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(e,t)}catch(s){ft(zo,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await u1(e,s)}else if(t instanceof uf?e.Va.Ze(t):t instanceof qw?e.Va.st(t):e.Va.tt(t),!n.isEqual(At.min()))try{const s=await eR(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(We.EMPTY_BYTE_STRING,y.snapshotVersion)),rR(l,m);const E=new tr(y.target,m,g,y.sequenceNumber);sv(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ft(zo,"Failed to raise snapshot:",s),await u1(e,s)}}async function u1(e,t,n){if(!Jo(t))throw t;e.Ea.add(1),await cc(e),e.Ra.set("Offline"),n||(n=()=>eR(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ft(zo,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await td(e)}))}async function c1(e,t){const n=Bt(e);n.asyncQueue.verifyOperationInProgress(),ft(zo,"RemoteStore received new credentials");const s=hc(n);n.Ea.add(3),await cc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await td(n)}async function L3(e,t){const n=Bt(e);t?(n.Ea.delete(2),await td(n)):t||(n.Ea.add(2),await cc(n),n.Ra.set("Unknown"))}function tl(e){return e.ma||(e.ma=(function(n,s,a){const l=Bt(n);return l.sa(),new I3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:N3.bind(null,e),t_:P3.bind(null,e),r_:V3.bind(null,e),H_:k3.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),av(e)?rv(e):e.Ra.set("Unknown")):(await e.ma.stop(),aR(e))}))),e.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new ov(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oR(e,t){if(ps("AsyncQueue",`${t}: ${e}`),Jo(e))return new pt(lt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(t){return new Mo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=yu(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Mo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.ga=new Ee(vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):wt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Fo{constructor(t,n,s,a,l,c,d,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Fo(t,n,Mo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class B3{constructor(){this.queries=f1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Bt(n),l=a.queries;a.queries=f1(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new pt(lt.ABORTED,"Firestore shutting down"))}}function f1(){return new ba((e=>Pw(e)),Xf)}async function j3(e,t){const n=Bt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new U3,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=oR(c,`Initialization of query '${yo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&lv(n)}async function z3(e,t){const n=Bt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function F3(e,t){const n=Bt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&lv(n)}function H3(e,t,n){const s=Bt(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function lv(e){e.Ca.forEach((t=>{t.next()}))}var Lg,d1;(d1=Lg||(Lg={})).Ma="default",d1.Cache="cache";class q3{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Fo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this.key=t}}class uR{constructor(t){this.key=t}}class G3{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=Vw(t),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new h1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,E)=>{const b=a.get(y),C=Qf(this.query,E)?E:null,N=!!b&&this.mutatedKeys.has(b.key),H=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let P=!1;b&&C?b.data.isEqual(C.data)?N!==H&&(s.track({type:3,doc:C}),P=!0):this.su(b,C)||(s.track({type:2,doc:C}),P=!0,(m&&this.eu(C,m)>0||g&&this.eu(C,g)<0)&&(d=!0)):!b&&C?(s.track({type:0,doc:C}),P=!0):b&&!C&&(s.track({type:1,doc:b}),P=!0,(m||g)&&(d=!0)),P&&(C?(c=c.add(C),l=H?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,E)=>(function(C,N){const H=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:P})}};return H(C)-H(N)})(y.type,E.type)||this.eu(y.doc,E.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Fo(this.query,t.tu,l,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new uR(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new lR(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=jt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const uv="SyncEngine";class K3{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class Y3{constructor(t){this.key=t,this.hu=!1}}class $3{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ba((d=>Pw(d)),Xf),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(vt.comparator),this.Au=new Map,this.Ru=new Jy,this.Vu={},this.mu=new Map,this.fu=jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function X3(e,t,n=!0){const s=mR(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await cR(s,t,n,!0),a}async function Q3(e,t){const n=mR(e);await cR(n,t,!0,!1)}async function cR(e,t,n,s){const a=await _3(e.localStore,xi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await W3(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&sR(e.remoteStore,a),d}async function W3(e,t,n,s,a){e.pu=(E,b,C)=>(async function(H,P,F,U){let j=P.view.ru(F);j.Cs&&(j=await s1(H.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,j))));const nt=U&&U.targetChanges.get(P.targetId),Z=U&&U.targetMismatches.get(P.targetId)!=null,ut=P.view.applyChanges(j,H.isPrimaryClient,nt,Z);return p1(H,P.targetId,ut.au),ut.snapshot})(e,E,b,C);const l=await s1(e.localStore,t,!0),c=new G3(t,l.Qs),d=c.ru(l.documents),m=uc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),g=c.applyChanges(d,e.isPrimaryClient,m);p1(e,n,g.au);const y=new K3(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function Z3(e,t,n){const s=Bt(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Xf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Vg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&iv(s.remoteStore,a.targetId),Ug(s,a.targetId)})).catch(qf)):(Ug(s,a.targetId),await Vg(s.localStore,a.targetId,!0))}async function J3(e,t){const n=Bt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),iv(n.remoteStore,s.targetId))}async function hR(e,t){const n=Bt(e);try{const s=await y3(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(ce(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ce(c.hu,14607):a.removedDocuments.size>0&&(ce(c.hu,42227),c.hu=!1))})),await dR(n,s,t)}catch(s){await qf(s)}}function m1(e,t,n){const s=Bt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Bt(c);m.onlineState=d;let g=!1;m.queries.forEach(((y,E)=>{for(const b of E.Sa)b.va(d)&&(g=!0)})),g&&lv(m)})(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function t6(e,t,n){const s=Bt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new Ee(vt.comparator);c=c.insert(l,sn.newNoDocument(l,At.min()));const d=jt().add(l),m=new Jf(At.min(),new Map,new Ee(Pt),c,d);await hR(s,m),s.du=s.du.remove(l),s.Au.delete(t),cv(s)}else await Vg(s.localStore,t,!1).then((()=>Ug(s,t,n))).catch(qf)}function Ug(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||fR(e,s)}))}function fR(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(iv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),cv(e))}function p1(e,t,n){for(const s of n)s instanceof lR?(e.Ru.addReference(s.key,t),e6(e,s)):s instanceof uR?(ft(uv,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||fR(e,s.key)):wt(19791,{wu:s})}function e6(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ft(uv,"New document in limbo: "+n),e.Eu.add(s),cv(e))}function cv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vt(le.fromString(t)),s=e.fu.next();e.Au.set(s,new Y3(n)),e.du=e.du.insert(n,s),sR(e.remoteStore,new tr(xi(Xy(n.path)),s,"TargetPurposeLimboResolution",Gf.ce))}}async function dR(e,t,n){const s=Bt(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=ev.As(m.targetId,g);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,g){const y=Bt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>it.forEach(g,(b=>it.forEach(b.Es,(C=>y.persistence.referenceDelegate.addReference(E,b.targetId,C))).next((()=>it.forEach(b.ds,(C=>y.persistence.referenceDelegate.removeReference(E,b.targetId,C)))))))))}catch(E){if(!Jo(E))throw E;ft(nv,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const C=y.Ms.get(b),N=C.snapshotVersion,H=C.withLastLimboFreeSnapshotVersion(N);y.Ms=y.Ms.insert(b,H)}}})(s.localStore,l))}async function n6(e,t){const n=Bt(e);if(!n.currentUser.isEqual(t)){ft(uv,"User change. New user:",t.toKey());const s=await tR(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new pt(lt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await dR(n,s.Ls)}}function i6(e,t){const n=Bt(e),s=n.Au.get(t);if(s&&s.hu)return jt().add(s.key);{let a=jt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function mR(e){const t=Bt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=i6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=t6.bind(null,t),t.Pu.H_=F3.bind(null,t.eventManager),t.Pu.yu=H3.bind(null,t.eventManager),t}class Of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=nR(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return g3(this.persistence,new d3,t.initialUser,this.serializer)}Cu(t){return new Jw(tv.mi,this.serializer)}Du(t){return new E3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Of.provider={build:()=>new Of};class s6 extends Of{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ce(this.persistence.referenceDelegate instanceof Df,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZL(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new Jw((s=>Df.mi(s,n)),this.serializer)}}class Bg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>m1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=n6.bind(null,this.syncEngine),await L3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new B3})()}createDatastore(t){const n=nR(t.databaseInfo.databaseId),s=(function(l){return new R3(l)})(t.databaseInfo);return(function(l,c,d,m){return new D3(l,c,d,m)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new M3(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>m1(this.syncEngine,n,0)),(function(){return o1.v()?new o1:new b3})())}createSyncEngine(t,n){return(function(a,l,c,d,m,g,y){const E=new $3(a,l,c,d,m,g);return y&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Bt(n);ft(zo,"RemoteStore shutting down."),s.Ea.add(5),await cc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="FirestoreClient";class a6{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ft(mr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ft(mr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=oR(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function jp(e,t){e.asyncQueue.verifyOperationInProgress(),ft(mr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await tR(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function g1(e,t){e.asyncQueue.verifyOperationInProgress();const n=await o6(e);ft(mr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>c1(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>c1(t.remoteStore,a))),e._onlineComponents=t}async function o6(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(mr,"Using user provided OfflineComponentProvider");try{await jp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===lt.FAILED_PRECONDITION||a.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await jp(e,new Of)}}else ft(mr,"Using default OfflineComponentProvider"),await jp(e,new s6(void 0));return e._offlineComponents}async function l6(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(mr,"Using user provided OnlineComponentProvider"),await g1(e,e._uninitializedComponentsProvider._online)):(ft(mr,"Using default OnlineComponentProvider"),await g1(e,new Bg))),e._onlineComponents}async function u6(e){const t=await l6(e),n=t.eventManager;return n.onListen=X3.bind(null,t.syncEngine),n.onUnlisten=Z3.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Q3.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=J3.bind(null,t.syncEngine),n}function c6(e,t,n={}){const s=new ha;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new r6({next:b=>{y.Nu(),c.enqueueAndForget((()=>z3(l,E)));const C=b.docs.has(d);!C&&b.fromCache?g.reject(new pt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&m&&m.source==="server"?g.reject(new pt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new q3(Xy(d.path),y,{includeMetadataChanges:!0,qa:!0});return j3(l,E)})(await u6(e),e.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firestore.googleapis.com",v1=!0;class _1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gR,this.ssl=v1}else this.host=t.host,this.ssl=t.ssl??v1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Zw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QL)throw new pt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Dk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pR(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hv{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new _k;switch(s.type){case"firstParty":return new Sk(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=y1.get(n);s&&(ft("ComponentProvider","Removing Datastore"),y1.delete(n),s.terminate())})(this),Promise.resolve()}}function h6(e,t,n,s={}){e=Sg(e,hv);const a=Xo(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(RA(`https://${d}`),CA("Firestore",!0)),l.host!==gR&&l.host!==d&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!pa(m,c)&&(e._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=nn.MOCK_USER;else{g=xN(s.mockUserToken,e._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new pt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new nn(E)}e._authCredentials=new Tk(new Ew(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new fv(this.firestore,t,this._query)}}class dn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(oc(n,dn._jsonSchema))return new dn(t,s||null,new vt(le.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:xe("string",dn._jsonSchemaVersion),referencePath:xe("string")};class Yu extends fv{constructor(t,n,s){super(t,n,Xy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new vt(t))}withConverter(t){return new Yu(this.firestore,t,this._path)}}function f6(e,t,...n){if(e=Ni(e),arguments.length===1&&(t=qy.newId()),xk("doc","path",t),e instanceof hv){const s=le.fromString(t,...n);return Mb(s),new dn(e,null,new vt(s))}{if(!(e instanceof dn||e instanceof Yu))throw new pt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(le.fromString(t,...n));return Mb(s),new dn(e.firestore,e instanceof Yu?e.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="AsyncQueue";class E1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iR(this,"async_queue_retry"),this._c=()=>{const s=Bp();s&&ft(T1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Jo(t))throw t;ft(T1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",b1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=ov.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&wt(47125,{Pc:b1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function b1(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class yR extends hv{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new E1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new E1(t),this._firestoreClient=void 0,await t}}}function d6(e,t){const n=typeof e=="object"?e:OA(),s=typeof e=="string"?e:wf,a=Py(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=CN("firestore");l&&h6(a,...l)}return a}function m6(e){if(e._terminated)throw new pt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||p6(e),e._firestoreClient}function p6(e){const t=e._freezeSettings(),n=(function(a,l,c,d){return new qk(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,pR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new a6(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ai(We.fromBase64String(t))}catch(n){throw new pt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ai(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(oc(t,Ai._jsonSchema))return Ai.fromBase64String(t.bytes)}}Ai._jsonSchemaVersion="firestore/bytes/1.0",Ai._jsonSchema={type:xe("string",Ai._jsonSchemaVersion),bytes:xe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(t){if(oc(t,rr._jsonSchema))return new rr(t.latitude,t.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:xe("string",rr._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(oc(t,ar._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ar(t.vectorValues);throw new pt(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ar._jsonSchemaVersion="firestore/vectorValue/1.0",ar._jsonSchema={type:xe("string",ar._jsonSchemaVersion),vectorValues:xe("object")};const g6=new RegExp("[~\\*/\\[\\]]");function y6(e,t,n){if(t.search(g6)>=0)throw S1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new vR(...t.split("."))._internalPath}catch{throw S1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function S1(e,t,n,s,a){let l=`Function ${t}() called with invalid data`;l+=". ";let c="";return new pt(lt.INVALID_ARGUMENT,l+e+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new v6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(TR("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class v6 extends _R{data(){return super.data()}}function TR(e,t){return typeof t=="string"?y6(e,t):t instanceof vR?t._internalPath:t._delegate._internalPath}class _6{convertValue(t,n="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return lc(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[wg].arrayValue?.values?.map((s=>Te(s.doubleValue)));return new ar(n)}convertGeoPoint(t){return new rr(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Yf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(qu(t));default:return null}}convertTimestamp(t){const n=cr(t);return new Ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=le.fromString(t);ce(Ww(s),9688,{name:t});const a=new Gu(s.get(1),s.get(3)),l=new vt(s.popFirst(5));return a.isEqual(n)||ps(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class _u{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class da extends _R{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(TR("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:xe("string",da._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class cf extends da{data(t={}){return super.data(t)}}class Mu{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new _u(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new cf(this._firestore,this._userDataWriter,s.key,s,new _u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new cf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _u(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new cf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _u(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:T6(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Mu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function T6(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(e){e=Sg(e,dn);const t=Sg(e.firestore,yR);return c6(m6(t),e._key).then((n=>S6(t,e,n)))}Mu._jsonSchemaVersion="firestore/querySnapshot/1.0",Mu._jsonSchema={type:xe("string",Mu._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class b6 extends _6{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ai(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function S6(e,t,n){const s=n.docs.get(t._key),a=new b6(e);return new da(e,a,t._key,s,new _u(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){Zo=a})(Qo),Vo(new ga("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new yR(new Ek(s.getProvider("auth-internal")),new Ak(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ir(Ib,xb,t),ir(Ib,xb,"esm2020")})();const A6={apiKey:"AIzaSyCcWwo8R6vEX8KqgHWU4Fg-cBACmLeipxs",authDomain:"you-23634.firebaseapp.com",projectId:"you-23634",storageBucket:"you-23634.firebasestorage.app",messagingSenderId:"939994239645",appId:"1:939994239645:web:7d34514c53e71e4610fa74"},ER=DA(A6),w6=d6(ER),Mf=yk(ER),bR=L.createContext(),R6=({children:e})=>{const[t,n]=L.useState(null),[s,a]=L.useState(!0),l=()=>a4(Mf);return L.useEffect(()=>{const c=r4(Mf,async d=>{if(d)try{console.log("Auth user:",d.uid);const m=f6(w6,"users",d.uid),g=await E6(m);g.exists()?(console.log("Firestore data:",g.data()),n({uid:d.uid,email:d.email,...g.data()})):(console.warn("Documento no encontrado en Firestore"),n({uid:d.uid,email:d.email}))}catch(m){console.error("Error cargando perfil:",m),n({uid:d.uid,email:d.email})}else n(null);a(!1)});return()=>c()},[]),Y.jsx(bR.Provider,{value:{user:t,logout:l},children:!s&&e})},ed=()=>L.useContext(bR),C6="/4YouPage/assets/blank-profile-picture-BQ7GxP88.webp";function SR(){const{car:e=[]}=L.useContext(kf),{user:t,logout:n}=ed();return Y.jsxs("nav",{className:"navbar bg-base-300 shadow-sm md:justify-between",children:[Y.jsx("div",{className:"flex justify-between",children:Y.jsxs("div",{className:"dropdown md:hidden",children:[Y.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle",children:Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h7"})})}),Y.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-10 mt-3 w-52 p-2 shadow",children:[Y.jsx("li",{children:Y.jsxs(ti,{to:"/",children:[Y.jsx("i",{className:"bxr  bx-home"})," HOME"]})}),Y.jsx("li",{children:Y.jsxs(ti,{to:"/login",children:[Y.jsx("i",{className:"bxr  bx-luggage"})," INGRESAR"]})}),Y.jsx("li",{children:Y.jsxs(vN,{smooth:!0,to:"/#cards",children:[Y.jsx("i",{className:"bxr  bx-groceries"})," PRODUCTS"]})})]})]})}),Y.jsx("div",{className:"navbar-center",children:Y.jsx(ti,{to:"/",className:"text-4xl font-bold",children:"4You"})}),Y.jsxs("div",{className:" gap-x-5 hidden md:flex ",children:[t?Y.jsx(Y.Fragment,{children:Y.jsxs("div",{className:"flex gap-3 justify-center items-center",children:[Y.jsx(ti,{to:"/perfil",className:"btn btn-circle w-12 h-12 flex items-center justify-center overflow-hidden border-4 border-white shadow-lg hover:scale-105 transition-transform duration-300",style:{backgroundImage:`url(${C6})`,backgroundSize:"cover",backgroundPosition:"center"},title:"Ir a mi perfil",children:Y.jsx("span",{className:"sr-only",children:"Mi perfil"})}),Y.jsx("button",{className:"btn btn-ghost ",onClick:n,children:Y.jsx("i",{className:"bxr  bx-arrow-out-left-square-half "})})]})}):Y.jsx(ti,{to:"/register",className:"btn hover:scale-105 transition ease-in-out duration-300",children:"registrarse"}),Y.jsx("button",{className:"btn btn-ghost btn-circle",children:Y.jsx("div",{className:"indicator",children:Y.jsxs(ti,{to:"/carshop",className:"items-center justify-center flex",children:[Y.jsx("i",{className:"bxr  bx-cart-minus text-2xl"}),Y.jsx("span",{className:"badge badge-xs badge-primary indicator-item",children:e.length})]})})})]})]})}const I6="/4YouPage/assets/tommy-BNiun8sa.webp",x6=()=>Y.jsxs(Y.Fragment,{children:[Y.jsx(SR,{}),Y.jsx(pN,{bgImage:I6}),Y.jsx(mN,{})]}),D6=()=>{const{car:e=[]}=L.useContext(kf),[t,n]=L.useState(0),{user:s}=ed();return L.useEffect(()=>{const a=e.reduce((l,c)=>l+c.price*c.quantity,0);n(a)},[e]),Y.jsxs(Y.Fragment,{children:[Y.jsx(SR,{}),Y.jsx("main",{className:"pt-20",children:e.length===0?Y.jsx("p",{className:"flex items-center justify-center h-screen",children:"No hay productos"}):Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"flex flex-wrap justify-center gap-5 py-5",children:e.map(a=>Y.jsx(yA,{product:a,enableActions:!1},a.id))}),Y.jsxs("p",{children:["Total: $",Math.round(t)]}),s&&Y.jsx("button",{className:"btn btn-primary",children:"comprar"})]})})]})},AR="/4YouPage/assets/boy-sltcm4mP.webp",O6=()=>{const[e,t]=L.useState(""),[n,s]=L.useState(""),a=Pf(),l=c=>{c.preventDefault(),e4(Mf,e,n).then(d=>{console.log("Usuario registrado:",d.user),a("/")})};return Y.jsx("main",{className:"flex items-center justify-center h-screen",style:{backgroundImage:`url(${AR})`,backgroundSize:"cover"},children:Y.jsxs("fieldset",{className:"fieldset bg-base-200 border-base-300 rounded-box w-xs border p-4",children:[Y.jsx("legend",{className:"fieldset-legend",children:"Register"}),Y.jsx("label",{className:"label",children:"Email"}),Y.jsx("input",{type:"email",className:"input",placeholder:"Email",onChange:c=>t(c.target.value)}),Y.jsx("label",{className:"label",children:"Password"}),Y.jsx("input",{type:"password",className:"input",placeholder:"Password",onChange:c=>s(c.target.value)}),Y.jsx("button",{className:"btn btn-neutral mt-4",onClick:l,children:"Registrase"}),Y.jsx("span",{children:Y.jsx(ti,{to:"/login",children:"Ya tienes cuenta?"})})]})})},M6=()=>{const[e,t]=L.useState(""),[n,s]=L.useState(""),a=Pf(),l=()=>{n4(Mf,e,n).then(c=>{a("/")})};return Y.jsx("main",{className:"flex items-center justify-center h-screen",style:{backgroundImage:`url(${AR})`,backgroundSize:"cover"},children:Y.jsxs("fieldset",{className:"fieldset bg-base-200 border-base-300 rounded-box w-xs border p-4",children:[Y.jsx("legend",{className:"fieldset-legend",children:"Login"}),Y.jsx("label",{className:"label",children:"Email"}),Y.jsx("input",{type:"email",className:"input",placeholder:"Email",onChange:c=>t(c.target.value)}),Y.jsx("label",{className:"label",children:"Password"}),Y.jsx("input",{type:"password",className:"input",placeholder:"Password",onChange:c=>s(c.target.value)}),Y.jsx("button",{className:"btn btn-neutral mt-4",onClick:l,children:"Entrar"}),Y.jsx("span",{children:Y.jsx(ti,{to:"/register",children:"No tienes cuenta?"})})]})})},N6=()=>{const{user:e}=ed();return console.log("Perfil user:",e),Y.jsxs("div",{className:"h-screen bg-amber-300 text-black",children:[Y.jsx("span",{children:e.email}),Y.jsx("span",{children:e?.role??"sin rol"})]})},P6=({children:e})=>{const{user:t}=ed();return t?e:Y.jsx(P1,{to:"/"})},V6=()=>Y.jsx(Y.Fragment,{children:Y.jsx(wx,{basename:"/4YouPage",children:Y.jsxs(nx,{children:[Y.jsx(ia,{path:"/",element:Y.jsx(x6,{})}),Y.jsx(ia,{path:"/carshop",element:Y.jsx(D6,{})}),Y.jsx(ia,{path:"/register",element:Y.jsx(O6,{})}),Y.jsx(ia,{path:"/login",element:Y.jsx(M6,{})}),Y.jsx(ia,{path:"/perfil",element:Y.jsx(P6,{children:Y.jsx(N6,{})})}),Y.jsx(ia,{path:"*",element:Y.jsx(P1,{to:"/home"})})]})})});function wR(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=wR(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function ma(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=wR(e))&&(s&&(s+=" "),s+=t);return s}function k6(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}k6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var fc=e=>typeof e=="number"&&!isNaN(e),Ta=e=>typeof e=="string",gs=e=>typeof e=="function",L6=e=>Ta(e)||fc(e),jg=e=>Ta(e)||gs(e)?e:null,U6=(e,t)=>e===!1||fc(e)&&e>0?e:t,zg=e=>L.isValidElement(e)||Ta(e)||gs(e)||fc(e);function B6(e,t,n=300){let{scrollHeight:s,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=s+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)})})}function j6({enter:e,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:d,done:m,nodeRef:g,isIn:y,playToast:E}){let b=n?`${e}--${c}`:e,C=n?`${t}--${c}`:t,N=L.useRef(0);return L.useLayoutEffect(()=>{let H=g.current,P=b.split(" "),F=U=>{U.target===g.current&&(E(),H.removeEventListener("animationend",F),H.removeEventListener("animationcancel",F),N.current===0&&U.type!=="animationcancel"&&H.classList.remove(...P))};H.classList.add(...P),H.addEventListener("animationend",F),H.addEventListener("animationcancel",F)},[]),L.useEffect(()=>{let H=g.current,P=()=>{H.removeEventListener("animationend",P),s?B6(H,m,a):m()};y||(d?P():(N.current=1,H.className+=` ${C}`,H.addEventListener("animationend",P)))},[y]),te.createElement(te.Fragment,null,l)}}function A1(e,t){return{content:RR(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function RR(e,t,n=!1){return L.isValidElement(e)&&!Ta(e.type)?L.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):gs(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function z6({closeToast:e,theme:t,ariaLabel:n="close"}){return te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),e(!0)},"aria-label":n},te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function F6({delay:e,isRunning:t,closeToast:n,type:s="default",hide:a,className:l,controlledProgress:c,progress:d,rtl:m,isIn:g,theme:y}){let E=a||c&&d===0,b={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(b.transform=`scaleX(${d})`);let C=ma("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":m}),N=gs(l)?l({rtl:m,type:s,defaultClassName:C}):ma(C,l),H={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&n()}};return te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${s}`}),te.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:N,style:b,...H}))}var H6=1,CR=()=>`${H6++}`;function q6(e,t,n){let s=1,a=0,l=[],c=[],d=t,m=new Map,g=new Set,y=U=>(g.add(U),()=>g.delete(U)),E=()=>{c=Array.from(m.values()),g.forEach(U=>U())},b=({containerId:U,toastId:j,updateId:nt})=>{let Z=U?U!==e:e!==1,ut=m.has(j)&&nt==null;return Z||ut},C=(U,j)=>{m.forEach(nt=>{var Z;(j==null||j===nt.props.toastId)&&((Z=nt.toggle)==null||Z.call(nt,U))})},N=U=>{var j,nt;(nt=(j=U.props)==null?void 0:j.onClose)==null||nt.call(j,U.removalReason),U.isActive=!1},H=U=>{if(U==null)m.forEach(N);else{let j=m.get(U);j&&N(j)}E()},P=()=>{a-=l.length,l=[]},F=U=>{var j,nt;let{toastId:Z,updateId:ut}=U.props,I=ut==null;U.staleId&&m.delete(U.staleId),U.isActive=!0,m.set(Z,U),E(),n(A1(U,I?"added":"updated")),I&&((nt=(j=U.props).onOpen)==null||nt.call(j))};return{id:e,props:d,observe:y,toggle:C,removeToast:H,toasts:m,clearQueue:P,buildToast:(U,j)=>{if(b(j))return;let{toastId:nt,updateId:Z,data:ut,staleId:I,delay:w}=j,R=Z==null;R&&a++;let O={...d,style:d.toastStyle,key:s++,...Object.fromEntries(Object.entries(j).filter(([B,D])=>D!=null)),toastId:nt,updateId:Z,data:ut,isIn:!1,className:jg(j.className||d.toastClassName),progressClassName:jg(j.progressClassName||d.progressClassName),autoClose:j.isLoading?!1:U6(j.autoClose,d.autoClose),closeToast(B){m.get(nt).removalReason=B,H(nt)},deleteToast(){let B=m.get(nt);if(B!=null){if(n(A1(B,"removed")),m.delete(nt),a--,a<0&&(a=0),l.length>0){F(l.shift());return}E()}}};O.closeButton=d.closeButton,j.closeButton===!1||zg(j.closeButton)?O.closeButton=j.closeButton:j.closeButton===!0&&(O.closeButton=zg(d.closeButton)?d.closeButton:!0);let V={content:U,props:O,staleId:I};d.limit&&d.limit>0&&a>d.limit&&R?l.push(V):fc(w)?setTimeout(()=>{F(V)},w):F(V)},setProps(U){d=U},setToggle:(U,j)=>{let nt=m.get(U);nt&&(nt.toggle=j)},isToastActive:U=>{var j;return(j=m.get(U))==null?void 0:j.isActive},getSnapshot:()=>c}}var mn=new Map,$u=[],Fg=new Set,G6=e=>Fg.forEach(t=>t(e)),IR=()=>mn.size>0;function K6(){$u.forEach(e=>DR(e.content,e.options)),$u=[]}var Y6=(e,{containerId:t})=>{var n;return(n=mn.get(t||1))==null?void 0:n.toasts.get(e)};function xR(e,t){var n;if(t)return!!((n=mn.get(t))!=null&&n.isToastActive(e));let s=!1;return mn.forEach(a=>{a.isToastActive(e)&&(s=!0)}),s}function $6(e){if(!IR()){$u=$u.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||L6(e))mn.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=mn.get(e.containerId);t?t.removeToast(e.id):mn.forEach(n=>{n.removeToast(e.id)})}}var X6=(e={})=>{mn.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function DR(e,t){zg(e)&&(IR()||$u.push({content:e,options:t}),mn.forEach(n=>{n.buildToast(e,t)}))}function Q6(e){var t;(t=mn.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function OR(e,t){mn.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(e,t?.id)})}function W6(e){let t=e.containerId||1;return{subscribe(n){let s=q6(t,e,G6);mn.set(t,s);let a=s.observe(n);return K6(),()=>{a(),mn.delete(t)}},setProps(n){var s;(s=mn.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=mn.get(t))==null?void 0:n.getSnapshot()}}}function Z6(e){return Fg.add(e),()=>{Fg.delete(e)}}function J6(e){return e&&(Ta(e.toastId)||fc(e.toastId))?e.toastId:CR()}function dc(e,t){return DR(e,t),t.toastId}function nd(e,t){return{...t,type:t&&t.type||e,toastId:J6(t)}}function id(e){return(t,n)=>dc(t,nd(e,n))}function Yt(e,t){return dc(e,nd("default",t))}Yt.loading=(e,t)=>dc(e,nd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function t9(e,{pending:t,error:n,success:s},a){let l;t&&(l=Ta(t)?Yt.loading(t,a):Yt.loading(t.render,{...a,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,y,E)=>{if(y==null){Yt.dismiss(l);return}let b={type:g,...c,...a,data:E},C=Ta(y)?{render:y}:y;return l?Yt.update(l,{...b,...C}):Yt(C.render,{...b,...C}),E},m=gs(e)?e():e;return m.then(g=>d("success",s,g)).catch(g=>d("error",n,g)),m}Yt.promise=t9;Yt.success=id("success");Yt.info=id("info");Yt.error=id("error");Yt.warning=id("warning");Yt.warn=Yt.warning;Yt.dark=(e,t)=>dc(e,nd("default",{theme:"dark",...t}));function e9(e){$6(e)}Yt.dismiss=e9;Yt.clearWaitingQueue=X6;Yt.isActive=xR;Yt.update=(e,t={})=>{let n=Y6(e,t);if(n){let{props:s,content:a}=n,l={delay:100,...s,...t,toastId:t.toastId||e,updateId:CR()};l.toastId!==e&&(l.staleId=e);let c=l.render||a;delete l.render,dc(c,l)}};Yt.done=e=>{Yt.update(e,{progress:1})};Yt.onChange=Z6;Yt.play=e=>OR(!0,e);Yt.pause=e=>OR(!1,e);function n9(e){var t;let{subscribe:n,getSnapshot:s,setProps:a}=L.useRef(W6(e)).current;a(e);let l=(t=L.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function c(d){if(!l)return[];let m=new Map;return e.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:y}=g.props;m.has(y)||m.set(y,[]),m.get(y).push(g)}),Array.from(m,g=>d(g[0],g[1]))}return{getToastToRender:c,isToastActive:xR,count:l?.length}}function i9(e){let[t,n]=L.useState(!1),[s,a]=L.useState(!1),l=L.useRef(null),c=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:m,closeToast:g,onClick:y,closeOnClick:E}=e;Q6({id:e.toastId,containerId:e.containerId,fn:n}),L.useEffect(()=>{if(e.pauseOnFocusLoss)return b(),()=>{C()}},[e.pauseOnFocusLoss]);function b(){document.hasFocus()||F(),window.addEventListener("focus",P),window.addEventListener("blur",F)}function C(){window.removeEventListener("focus",P),window.removeEventListener("blur",F)}function N(I){if(e.draggable===!0||e.draggable===I.pointerType){U();let w=l.current;c.canCloseOnClick=!0,c.canDrag=!0,w.style.transition="none",e.draggableDirection==="x"?(c.start=I.clientX,c.removalDistance=w.offsetWidth*(e.draggablePercent/100)):(c.start=I.clientY,c.removalDistance=w.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function H(I){let{top:w,bottom:R,left:O,right:V}=l.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&e.pauseOnHover&&I.clientX>=O&&I.clientX<=V&&I.clientY>=w&&I.clientY<=R?F():P()}function P(){n(!0)}function F(){n(!1)}function U(){c.didMove=!1,document.addEventListener("pointermove",nt),document.addEventListener("pointerup",Z)}function j(){document.removeEventListener("pointermove",nt),document.removeEventListener("pointerup",Z)}function nt(I){let w=l.current;if(c.canDrag&&w){c.didMove=!0,t&&F(),e.draggableDirection==="x"?c.delta=I.clientX-c.start:c.delta=I.clientY-c.start,c.start!==I.clientX&&(c.canCloseOnClick=!1);let R=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;w.style.transform=`translate3d(${R},0)`,w.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function Z(){j();let I=l.current;if(c.canDrag&&c.didMove&&I){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),e.closeToast(!0),e.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let ut={onPointerDown:N,onPointerUp:H};return d&&m&&(ut.onMouseEnter=F,e.stacked||(ut.onMouseLeave=P)),E&&(ut.onClick=I=>{y&&y(I),c.canCloseOnClick&&g(!0)}),{playToast:P,pauseToast:F,isRunning:t,preventExitTransition:s,toastRef:l,eventHandlers:ut}}var s9=typeof window<"u"?L.useLayoutEffect:L.useEffect,sd=({theme:e,type:t,isLoading:n,...s})=>te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function r9(e){return te.createElement(sd,{...e},te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function a9(e){return te.createElement(sd,{...e},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function o9(e){return te.createElement(sd,{...e},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function l9(e){return te.createElement(sd,{...e},te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function u9(){return te.createElement("div",{className:"Toastify__spinner"})}var Hg={info:a9,warning:r9,success:o9,error:l9,spinner:u9},c9=e=>e in Hg;function h9({theme:e,type:t,isLoading:n,icon:s}){let a=null,l={theme:e,type:t};return s===!1||(gs(s)?a=s({...l,isLoading:n}):L.isValidElement(s)?a=L.cloneElement(s,l):n?a=Hg.spinner():c9(t)&&(a=Hg[t](l))),a}var f9=e=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:a,playToast:l}=i9(e),{closeButton:c,children:d,autoClose:m,onClick:g,type:y,hideProgressBar:E,closeToast:b,transition:C,position:N,className:H,style:P,progressClassName:F,updateId:U,role:j,progress:nt,rtl:Z,toastId:ut,deleteToast:I,isIn:w,isLoading:R,closeOnClick:O,theme:V,ariaLabel:B}=e,D=ma("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":Z},{"Toastify__toast--close-on-click":O}),he=gs(H)?H({rtl:Z,position:N,type:y,defaultClassName:D}):ma(D,H),$t=h9(e),W=!!nt||!m,rt={closeToast:b,type:y,theme:V},ht=null;return c===!1||(gs(c)?ht=c(rt):L.isValidElement(c)?ht=L.cloneElement(c,rt):ht=z6(rt)),te.createElement(C,{isIn:w,done:I,position:N,preventExitTransition:n,nodeRef:s,playToast:l},te.createElement("div",{id:ut,tabIndex:0,onClick:g,"data-in":w,className:he,...a,style:P,ref:s,...w&&{role:j,"aria-label":B}},$t!=null&&te.createElement("div",{className:ma("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},$t),RR(d,e,!t),ht,!e.customProgressBar&&te.createElement(F6,{...U&&!W?{key:`p-${U}`}:{},rtl:Z,theme:V,delay:m,isRunning:t,isIn:w,closeToast:b,hide:E,type:y,className:F,controlledProgress:W,progress:nt||0})))},d9=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),m9=j6(d9("bounce",!0)),p9={position:"top-right",transition:m9,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function g9(e){let t={...p9,...e},n=e.stacked,[s,a]=L.useState(!0),l=L.useRef(null),{getToastToRender:c,isToastActive:d,count:m}=n9(t),{className:g,style:y,rtl:E,containerId:b,hotKeys:C}=t;function N(P){let F=ma("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":E});return gs(g)?g({position:P,rtl:E,defaultClassName:F}):ma(F,jg(g))}function H(){n&&(a(!0),Yt.play())}return s9(()=>{var P;if(n){let F=l.current.querySelectorAll('[data-in="true"]'),U=12,j=(P=t.position)==null?void 0:P.includes("top"),nt=0,Z=0;Array.from(F).reverse().forEach((ut,I)=>{let w=ut;w.classList.add("Toastify__toast--stacked"),I>0&&(w.dataset.collapsed=`${s}`),w.dataset.pos||(w.dataset.pos=j?"top":"bot");let R=nt*(s?.2:1)+(s?0:U*I);w.style.setProperty("--y",`${j?R:R*-1}px`),w.style.setProperty("--g",`${U}`),w.style.setProperty("--s",`${1-(s?Z:0)}`),nt+=w.offsetHeight,Z+=.025})}},[s,m,n]),L.useEffect(()=>{function P(F){var U;let j=l.current;C(F)&&((U=j.querySelector('[tabIndex="0"]'))==null||U.focus(),a(!1),Yt.pause()),F.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(a(!0),Yt.play())}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[C]),te.createElement("section",{ref:l,className:"Toastify",id:b,onMouseEnter:()=>{n&&(a(!1),Yt.pause())},onMouseLeave:H,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((P,F)=>{let U=F.length?{...y}:{...y,pointerEvents:"none"};return te.createElement("div",{tabIndex:-1,className:N(P),"data-stacked":n,style:U,key:`c-${P}`},F.map(({content:j,props:nt})=>te.createElement(f9,{...nt,stacked:n,collapseAll:H,isIn:d(nt.toastId,nt.containerId),key:`t-${nt.key}`},j)))}))}function y9(){return Y.jsxs(Y.Fragment,{children:[Y.jsx(V6,{}),Y.jsx(g9,{position:"top-right",autoClose:3e3})]})}const v9=({children:e})=>{const[t,n]=L.useState([]),s=(d,m=1)=>{if(t.some(y=>y.id===d.id))Yt.error("El producto ya esta agregado");else{const y={...d,quantity:m};n(E=>[...E,y]),Yt.success(` "${d.title}" agregado al carrito`)}},a=d=>{const m=t.filter(g=>g.id!==d.id);n(m),console.log(t)},l=d=>{n(m=>m.map(g=>g.id===d?{...g,quantity:g.quantity+1}:g))},c=d=>{n(m=>m.map(g=>g.id===d&&g.quantity>1?{...g,quantity:g.quantity-1}:g))};return Y.jsx(kf.Provider,{value:{car:t,handleBuy:s,handleDelete:a,handleAddQuantity:l,handleSubtractQuantity:c},children:e})};fI.createRoot(document.getElementById("root")).render(Y.jsx(L.StrictMode,{children:Y.jsx(R6,{children:Y.jsx(v9,{children:Y.jsx(y9,{})})})}));
